      
      
      
      

      <!DOCTYPE html>
      <html lang="en">

      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="perlboot - perldoc.perl.org">
        <link rel="icon" href="/public/img/favicon.ico">
        <title>perlboot - perldoc.perl.org</title>
        <link href="/public/css/main.min.css" rel="stylesheet">
        <link rel="canonical" href="/perlboot.html">
        <link
          href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900'
          rel='stylesheet' type='text/css'>
        <script>
          window.ga = window.ga || function () {
            (ga.q = ga.q || []).push(arguments)
          };
          ga.l = +new Date;
          ga('create', 'UA-1892152-2', 'auto'); // JJ's account
          ga('create', 'UA-50555-3', 'auto', 'perlOrg'); // perl.org account
          ga('require', 'outboundLinkTracker', {
            events: ['click', 'auxclick', 'contextmenu'],
          });
          ga('require', 'maxScrollTracker');
          ga('send', 'pageview');
          ga('perlOrg.send', 'pageview');
        </script>
        <script async src="https://www.google-analytics.com/analytics.js">
        </script>
        <script async src="/public/js/tracking.min.js"></script>
      </head>

      <body class="body container-fluid ">
        <div class="wrapper">

          <nav
    class="navbar navbar-dark bg-primary bg-perl fixed-top justify-content-between navbar-expand-lg">
    <a href="#content" class="skippy sr-only sr-only-focusable">
        <span class=' skippy-text'>Skip to main content</span>
    </a>
    <a class="navbar-brand" href="/">
        <img class="logo" src="/public/img/logo_perl_doc.svg"
            alt="Perl Documentation Logo" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#navbar" aria-controls="navbar" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ">
        <ul class="navbar-nav ml-auto navbar-right">
            <form class="nav-item dropdown search-wrapper">
                <input type="text" id='searchinput' aria-describedby='navbarDropdown5'
                    placeholder="Type query" class='search-input-field' value=''>

                <button href="#" data-toggle='dropdown' type="button"
                    aria-haspopup="true" aria-expanded='false' id="navbarDropdown5"
                    class="nav-link dropdown-toggle search-link">
                    <object tabindex='-1' focusable="false" class='search-icon'
                        data="/public/img/search.svg" type="image/svg+xml"
                        name='search icon'>search
                        icon</object>
                </button>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown5"
                    id='search-results'>
                    <p class='dropdown-item major-version'>
                        No results
                    </p>
                </div>
            </form>
            <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    
                        <p class='dropdown-item major-version'>
                            5.32
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.32.0/">5.32.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.30
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.30.3/">5.30.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.2/">5.30.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.1/">5.30.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.0/">5.30.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.28
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.28.3/">5.28.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.2/">5.28.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.1/">5.28.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.0/">5.28.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.26
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.26.3/">5.26.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.2/">5.26.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.1/">5.26.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.0/">5.26.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.24
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.24.4/">5.24.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.3/">5.24.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.2/">5.24.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.1/">5.24.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.0/">5.24.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.22
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.22.4/">5.22.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.3/">5.22.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.2/">5.22.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.1/">5.22.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.0/">5.22.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.20
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.20.3/">5.20.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.2/">5.20.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.1/">5.20.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.0/">5.20.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.18
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.18.4/">5.18.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.3/">5.18.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.2/">5.18.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.1/">5.18.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.0/">5.18.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.16
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.16.3/">5.16.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.2/">5.16.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.1/">5.16.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.0/">5.16.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.14
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.14.4/">5.14.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.3/">5.14.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.2/">5.14.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.1/">5.14.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.0/">5.14.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.12
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.12.5/">5.12.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.4/">5.12.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.3/">5.12.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.2/">5.12.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.1/">5.12.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.0/">5.12.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.10
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.10.1/">5.10.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.10.0/">5.10.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.8
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.8.9/">5.8.9</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.8/">5.8.8</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.7/">5.8.7</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.6/">5.8.6</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.5/">5.8.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.4/">5.8.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.3/">5.8.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.2/">5.8.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.1/">5.8.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.0/">5.8.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.6
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.6.2/">5.6.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.1/">5.6.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.0/">5.6.0</a>
                        
                        
                    
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                    <a class="dropdown-item"
                        href="/5.8.5/index-overview.html">Overview</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-tutorials.html">Tutorials</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-faq.html">FAQs</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-history.html">Changes</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-licence.html">License</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-language.html">Language</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-functions.html">Functions</a>
                    <a class="dropdown-item"
                        href="/5.8.5/perlop.html">Operators</a>
                    <a class="dropdown-item"
                        href="/5.8.5/perlvar.html">Variables</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-pragmas.html">Pragmas</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-utilities.html">Utilities</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-internals.html">Internals</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-platforms.html">Platforms</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3"
                    class="dropdown-menu letters-wrap">
                    <!--<a class="dropdown-item"
                        href="/5.8.5/index-modules.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-modules-by-cat.html">By
                        Category</a>-->
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-A.html">A</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-B.html">B</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-C.html">C</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-D.html">D</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-E.html">E</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-F.html">F</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-G.html">G</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-H.html">H</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-I.html">I</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-J.html">J</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-K.html">K</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-L.html">L</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-M.html">M</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-N.html">N</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-O.html">O</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-P.html">P</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-Q.html">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-R.html">R</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-S.html">S</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-T.html">T</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-U.html">U</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-V.html">V</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-W.html">W</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-X.html">X</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-Y.html">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-modules-Z.html">Z</a>
                    </div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown4" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Functions</a>
                <div aria-labelledby="navbarDropdown4"
                    class="dropdown-menu letters-wrap">
                    <a class="dropdown-item"
                        href="/5.8.5/index-functions.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.8.5/index-functions-by-cat.html">By
                        Category</a>
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#A">A</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#B">B</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#C">C</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#D">D</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#E">E</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#F">F</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#G">G</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#H">H</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#I">I</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#J">J</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#K">K</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#L">L</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#M">M</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#N">N</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#O">O</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#P">P</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#Q">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#R">R</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#S">S</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#T">T</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#U">U</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#V">V</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#W">W</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#X">X</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#Y">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.8.5/index-functions.html#Z">Z</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!--/.nav-collapse -->
</nav>


          <main class="row main-content pb-5 pt-5" id='content'>
            <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
              <div class="row">
                <div class="col-sm-12">
                  <div id="breadcrumbs">
                      
    <a href="index.html">Home</a>&nbsp; &gt;
    
      
        <a href="index-tutorials.html">Tutorials</a> &gt;
      
    
    perlboot
  

                  </div>
                </div>
              </div>
              <div class="row">
                <article class="col-sm-12 content">
                  <div class="documentation-wrapper">
                    <div id="perl_version">
                      <h7 class='page-title'> Perl 5 version 8.5
                        documentation</h7>
                    </div>
                    <h1>perlboot</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><ul><li><a href="#If-we-could-talk-to-the-animals...">If we could talk to the animals...</a></li><li><a href="#Introducing-the-method-invocation-arrow">Introducing the method invocation arrow</a></li><li><a href="#Invoking-a-barnyard">Invoking a barnyard</a></li><li><a href="#The-extra-parameter-of-method-invocation">The extra parameter of method invocation</a></li><li><a href="#Calling-a-second-method-to-simplify-things">Calling a second method to simplify things</a></li><li><a href="#Inheriting-the-windpipes">Inheriting the windpipes</a></li><li><a href="#A-few-notes-about-%40ISA">A few notes about @ISA</a></li><li><a href="#Overriding-the-methods">Overriding the methods</a></li><li><a href="#Starting-the-search-from-a-different-place">Starting the search from a different place</a></li><li><a href="#The-SUPER-way-of-doing-things">The SUPER way of doing things</a></li><li><a href="#Where-we're-at-so-far...">Where we're at so far...</a></li><li><a href="#A-horse-is-a-horse%2c-of-course-of-course----or-is-it%3f">A horse is a horse, of course of course -- or is it?</a></li><li><a href="#Invoking-an-instance-method">Invoking an instance method</a></li><li><a href="#Accessing-the-instance-data">Accessing the instance data</a></li><li><a href="#How-to-build-a-horse">How to build a horse</a></li><li><a href="#Inheriting-the-constructor">Inheriting the constructor</a></li><li><a href="#Making-a-method-work-with-either-classes-or-instances">Making a method work with either classes or instances</a></li><li><a href="#Adding-parameters-to-a-method">Adding parameters to a method</a></li><li><a href="#More-interesting-instances">More interesting instances</a></li><li><a href="#A-horse-of-a-different-color">A horse of a different color</a></li><li><a href="#Summary">Summary</a></li></ul><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#COPYRIGHT">COPYRIGHT</a></li></ul><a class='view-head1' id="NAME"></a><h2 class='h2' >NAME</h2>
<p>perlboot - Beginner's Object-Oriented Tutorial</p>
<a class='view-head1' id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>If you're not familiar with objects from other languages, some of the
other Perl object documentation may be a little daunting, such as
<a href="perlobj.html">perlobj</a>, a basic reference in using objects, and <a href="perltoot.html">perltoot</a>, which
introduces readers to the peculiarities of Perl's object system in a
tutorial way.</p>
<p>So, let's take a different approach, presuming no prior object
experience. It helps if you know about subroutines (<a href="perlsub.html">perlsub</a>),
references (<a href="perlref.html">perlref</a> et. seq.), and packages (<a href="perlmod.html">perlmod</a>), so become
familiar with those first if you haven't already.</p>
<a class='view-head2' id="If-we-could-talk-to-the-animals..."></a><h3 class='h3' >If we could talk to the animals...</h3>
<p>Let's let the animals talk for a moment:</p>
<pre class="verbatim"><ol><li><a name="Cow::speak"></a>    sub <span class="m">Cow::speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a Cow goes moooo!\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="Horse::speak"></a>    sub <span class="m">Horse::speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a Horse goes neigh!\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="Sheep::speak"></a>    sub <span class="m">Sheep::speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a Sheep goes baaaah!\n&quot;</span></li><li>    <span class="s">}</span></li><li></li><li>    <span class="i">Cow::speak</span><span class="sc">;</span></li><li>    <span class="i">Horse::speak</span><span class="sc">;</span></li><li>    <span class="i">Sheep::speak</span><span class="sc">;</span></li></ol></pre><p>This results in:</p>
<pre class="verbatim"><ol><li>    <span class="w">a</span> <span class="w">Cow</span> <span class="w">goes</span> <span class="w">moooo</span>!</li><li>    <span class="w">a</span> <span class="w">Horse</span> <span class="w">goes</span> <span class="w">neigh</span>!</li><li>    <span class="w">a</span> <span class="w">Sheep</span> <span class="w">goes</span> <span class="w">baaaah</span>!</li></ol></pre><p>Nothing spectacular here.  Simple subroutines, albeit from separate
packages, and called using the full package name.  So let's create
an entire pasture:</p>
<pre class="verbatim"><ol><li>    <span class="c"># Cow::speak, Horse::speak, Sheep::speak as before</span></li><li>    <span class="i">@pasture</span> = <span class="q">qw(Cow Cow Horse Sheep Sheep)</span><span class="sc">;</span></li><li>    foreach <span class="i">$animal</span> <span class="s">(</span><span class="i">@pasture</span><span class="s">)</span> <span class="s">{</span></li><li>      <span class="i">&amp;</span>{<span class="i">$animal</span>.<span class="q">&quot;::speak&quot;</span>}<span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>This results in:</p>
<pre class="verbatim"><ol><li>    <span class="w">a</span> <span class="w">Cow</span> <span class="w">goes</span> <span class="w">moooo</span>!</li><li>    <span class="w">a</span> <span class="w">Cow</span> <span class="w">goes</span> <span class="w">moooo</span>!</li><li>    <span class="w">a</span> <span class="w">Horse</span> <span class="w">goes</span> <span class="w">neigh</span>!</li><li>    <span class="w">a</span> <span class="w">Sheep</span> <span class="w">goes</span> <span class="w">baaaah</span>!</li><li>    <span class="w">a</span> <span class="w">Sheep</span> <span class="w">goes</span> <span class="w">baaaah</span>!</li></ol></pre><p>Wow.  That symbolic coderef de-referencing there is pretty nasty.
We're counting on <code class="inline"><a class="l_k" href="functions/no.html">no</a> <span class="w">strict</span> <span class="w">subs</span></code>
 mode, certainly not recommended
for larger programs.  And why was that necessary?  Because the name of
the package seems to be inseparable from the name of the subroutine we
want to invoke within that package.</p>
<p>Or is it?</p>
<a class='view-head2' id="Introducing-the-method-invocation-arrow"></a><h3 class='h3' >Introducing the method invocation arrow</h3>
<p>For now, let's say that <code class="inline"><span class="w">Class</span><span class="w">-&gt;method</span></code>
 invokes subroutine
<code class="inline"><span class="w">method</span></code>
 in package <code class="inline"><span class="w">Class</span></code>
.  (Here, "Class" is used in its
"category" meaning, not its "scholastic" meaning.) That's not
completely accurate, but we'll do this one step at a time.  Now let's
use it like so:</p>
<pre class="verbatim"><ol><li>    <span class="c"># Cow::speak, Horse::speak, Sheep::speak as before</span></li><li>    <span class="w">Cow</span><span class="w">-&gt;speak</span><span class="sc">;</span></li><li>    <span class="w">Horse</span><span class="w">-&gt;speak</span><span class="sc">;</span></li><li>    <span class="w">Sheep</span><span class="w">-&gt;speak</span><span class="sc">;</span></li></ol></pre><p>And once again, this results in:</p>
<pre class="verbatim"><ol><li>    <span class="w">a</span> <span class="w">Cow</span> <span class="w">goes</span> <span class="w">moooo</span>!</li><li>    <span class="w">a</span> <span class="w">Horse</span> <span class="w">goes</span> <span class="w">neigh</span>!</li><li>    <span class="w">a</span> <span class="w">Sheep</span> <span class="w">goes</span> <span class="w">baaaah</span>!</li></ol></pre><p>That's not fun yet.  Same number of characters, all constant, no
variables.  But yet, the parts are separable now.  Watch:</p>
<pre class="verbatim"><ol><li>    <span class="i">$a</span> = <span class="q">&quot;Cow&quot;</span><span class="sc">;</span></li><li>    <span class="i">$a</span><span class="i">-&gt;speak</span><span class="sc">;</span> <span class="c"># invokes Cow-&gt;speak</span></li></ol></pre><p>Ahh!  Now that the package name has been parted from the subroutine
name, we can use a variable package name.  And this time, we've got
something that works even when <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">strict</span> <span class="w">refs</span></code>
 is enabled.</p>
<a class='view-head2' id="Invoking-a-barnyard"></a><h3 class='h3' >Invoking a barnyard</h3>
<p>Let's take that new arrow invocation and put it back in the barnyard
example:</p>
<pre class="verbatim"><ol><li><a name="Cow::speak"></a>    sub <span class="m">Cow::speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a Cow goes moooo!\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="Horse::speak"></a>    sub <span class="m">Horse::speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a Horse goes neigh!\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="Sheep::speak"></a>    sub <span class="m">Sheep::speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a Sheep goes baaaah!\n&quot;</span></li><li>    <span class="s">}</span></li><li></li><li>    <span class="i">@pasture</span> = <span class="q">qw(Cow Cow Horse Sheep Sheep)</span><span class="sc">;</span></li><li>    foreach <span class="i">$animal</span> <span class="s">(</span><span class="i">@pasture</span><span class="s">)</span> <span class="s">{</span></li><li>      <span class="i">$animal</span><span class="i">-&gt;speak</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>There!  Now we have the animals all talking, and safely at that,
without the use of symbolic coderefs.</p>
<p>But look at all that common code.  Each of the <code class="inline"><span class="w">speak</span></code>
 routines has a
similar structure: a <code class="inline"><a class="l_k" href="functions/print.html">print</a></code> operator and a string that contains
common text, except for two of the words.  It'd be nice if we could
factor out the commonality, in case we decide later to change it all
to <code class="inline"><span class="w">says</span></code>
 instead of <code class="inline"><span class="w">goes</span></code>
.</p>
<p>And we actually have a way of doing that without much fuss, but we
have to hear a bit more about what the method invocation arrow is
actually doing for us.</p>
<a class='view-head2' id="The-extra-parameter-of-method-invocation"></a><h3 class='h3' >The extra parameter of method invocation</h3>
<p>The invocation of:</p>
<pre class="verbatim"><ol><li>    <span class="w">Class</span><span class="w">-&gt;method</span><span class="s">(</span><span class="i">@args</span><span class="s">)</span></li></ol></pre><p>attempts to invoke subroutine <code class="inline"><span class="w">Class::method</span></code>
 as:</p>
<pre class="verbatim"><ol><li>    <span class="i">Class::method</span><span class="s">(</span><span class="q">&quot;Class&quot;</span><span class="cm">,</span> <span class="i">@args</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>(If the subroutine can't be found, "inheritance" kicks in, but we'll
get to that later.)  This means that we get the class name as the
first parameter (the only parameter, if no arguments are given).  So
we can rewrite the <code class="inline"><span class="w">Sheep</span></code>
 speaking subroutine as:</p>
<pre class="verbatim"><ol><li><a name="Sheep::speak"></a>    sub <span class="m">Sheep::speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a $class goes baaaah!\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>And the other two animals come out similarly:</p>
<pre class="verbatim"><ol><li><a name="Cow::speak"></a>    sub <span class="m">Cow::speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a $class goes moooo!\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="Horse::speak"></a>    sub <span class="m">Horse::speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a $class goes neigh!\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>In each case, <code class="inline"><span class="i">$class</span></code>
 will get the value appropriate for that
subroutine.  But once again, we have a lot of similar structure.  Can
we factor that out even further?  Yes, by calling another method in
the same class.</p>
<a class='view-head2' id="Calling-a-second-method-to-simplify-things"></a><h3 class='h3' >Calling a second method to simplify things</h3>
<p>Let's call out from <code class="inline"><span class="w">speak</span></code>
 to a helper method called <code class="inline"><span class="w">sound</span></code>
.
This method provides the constant text for the sound itself.</p>
<pre class="verbatim"><ol><li><a name="package-Cow"></a>    <span class="s">{</span> package <span class="i">Cow</span><span class="sc">;</span></li><li><a name="sound"></a>      sub <span class="m">sound</span> <span class="s">{</span> <span class="q">&quot;moooo&quot;</span> <span class="s">}</span></li><li><a name="speak"></a>      sub <span class="m">speak</span> <span class="s">{</span></li><li>	<a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a $class goes &quot;</span><span class="cm">,</span> <span class="i">$class</span><span class="i">-&gt;sound</span><span class="cm">,</span> <span class="q">&quot;!\n&quot;</span></li><li>      <span class="s">}</span></li><li><a name="package-main"></a>    <span class="s">}</span></li></ol></pre><p>Now, when we call <code class="inline"><span class="w">Cow</span><span class="w">-&gt;speak</span></code>
, we get a <code class="inline"><span class="i">$class</span></code>
 of <code class="inline"><span class="w">Cow</span></code>
 in
<code class="inline"><span class="w">speak</span></code>
.  This in turn selects the <code class="inline"><span class="w">Cow</span><span class="w">-&gt;sound</span></code>
 method, which
returns <code class="inline"><span class="w">moooo</span></code>
.  But how different would this be for the <code class="inline"><span class="w">Horse</span></code>
?</p>
<pre class="verbatim"><ol><li><a name="package-Horse"></a>    <span class="s">{</span> package <span class="i">Horse</span><span class="sc">;</span></li><li><a name="sound"></a>      sub <span class="m">sound</span> <span class="s">{</span> <span class="q">&quot;neigh&quot;</span> <span class="s">}</span></li><li><a name="speak"></a>      sub <span class="m">speak</span> <span class="s">{</span></li><li>	<a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a $class goes &quot;</span><span class="cm">,</span> <span class="i">$class</span><span class="i">-&gt;sound</span><span class="cm">,</span> <span class="q">&quot;!\n&quot;</span></li><li>      <span class="s">}</span></li><li><a name="package-main"></a>    <span class="s">}</span></li></ol></pre><p>Only the name of the package and the specific sound change.  So can we
somehow share the definition for <code class="inline"><span class="w">speak</span></code>
 between the Cow and the
Horse?  Yes, with inheritance!</p>
<a class='view-head2' id="Inheriting-the-windpipes"></a><h3 class='h3' >Inheriting the windpipes</h3>
<p>We'll define a common subroutine package called <code class="inline"><span class="w">Animal</span></code>
, with the
definition for <code class="inline"><span class="w">speak</span></code>
:</p>
<pre class="verbatim"><ol><li><a name="package-Animal"></a>    <span class="s">{</span> package <span class="i">Animal</span><span class="sc">;</span></li><li><a name="speak"></a>      sub <span class="m">speak</span> <span class="s">{</span></li><li>	<a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a $class goes &quot;</span><span class="cm">,</span> <span class="i">$class</span><span class="i">-&gt;sound</span><span class="cm">,</span> <span class="q">&quot;!\n&quot;</span></li><li>      <span class="s">}</span></li><li><a name="package-main"></a>    <span class="s">}</span></li></ol></pre><p>Then, for each animal, we say it "inherits" from <code class="inline"><span class="w">Animal</span></code>
, along
with the animal-specific sound:</p>
<pre class="verbatim"><ol><li><a name="package-Cow"></a>    <span class="s">{</span> package <span class="i">Cow</span><span class="sc">;</span></li><li>      <span class="i">@ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li><li><a name="sound"></a>      sub <span class="m">sound</span> <span class="s">{</span> <span class="q">&quot;moooo&quot;</span> <span class="s">}</span></li><li><a name="package-main"></a>    <span class="s">}</span></li></ol></pre><p>Note the added <code class="inline"><span class="i">@ISA</span></code>
 array.  We'll get to that in a minute.</p>
<p>But what happens when we invoke <code class="inline"><span class="w">Cow</span><span class="w">-&gt;speak</span></code>
 now?</p>
<p>First, Perl constructs the argument list.  In this case, it's just
<code class="inline"><span class="w">Cow</span></code>
.  Then Perl looks for <code class="inline"><span class="w">Cow::speak</span></code>
.  But that's not there, so
Perl checks for the inheritance array <code class="inline"><span class="i">@Cow::ISA</span></code>
.  It's there,
and contains the single name <code class="inline"><span class="w">Animal</span></code>
.</p>
<p>Perl next checks for <code class="inline"><span class="w">speak</span></code>
 inside <code class="inline"><span class="w">Animal</span></code>
 instead, as in
<code class="inline"><span class="w">Animal::speak</span></code>
.  And that's found, so Perl invokes that subroutine
with the already frozen argument list.</p>
<p>Inside the <code class="inline"><span class="w">Animal::speak</span></code>
 subroutine, <code class="inline"><span class="i">$class</span></code>
 becomes <code class="inline"><span class="w">Cow</span></code>
 (the
first argument).  So when we get to the step of invoking
<code class="inline"><span class="i">$class</span><span class="i">-&gt;sound</span></code>
, it'll be looking for <code class="inline"><span class="w">Cow</span><span class="w">-&gt;sound</span></code>
, which
gets it on the first try without looking at <code class="inline"><span class="i">@ISA</span></code>
.  Success!</p>
<a class='view-head2' id="A-few-notes-about-%40ISA"></a><h3 class='h3' >A few notes about @ISA</h3>
<p>This magical <code class="inline"><span class="i">@ISA</span></code>
 variable (pronounced "is a" not "ice-uh"), has
declared that <code class="inline"><span class="w">Cow</span></code>
 "is a" <code class="inline"><span class="w">Animal</span></code>
.  Note that it's an array,
not a simple single value, because on rare occasions, it makes sense
to have more than one parent class searched for the missing methods.</p>
<p>If <code class="inline"><span class="w">Animal</span></code>
 also had an <code class="inline"><span class="i">@ISA</span></code>
, then we'd check there too.  The
search is recursive, depth-first, left-to-right in each <code class="inline"><span class="i">@ISA</span></code>
.
Typically, each <code class="inline"><span class="i">@ISA</span></code>
 has only one element (multiple elements means
multiple inheritance and multiple headaches), so we get a nice tree of
inheritance.</p>
<p>When we turn on <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">strict</span></code>
, we'll get complaints on <code class="inline"><span class="i">@ISA</span></code>
, since
it's not a variable containing an explicit package name, nor is it a
lexical ("my") variable.  We can't make it a lexical variable though
(it has to belong to the package to be found by the inheritance mechanism),
so there's a couple of straightforward ways to handle that.</p>
<p>The easiest is to just spell the package name out:</p>
<pre class="verbatim"><ol><li>    <span class="i">@Cow::ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li></ol></pre><p>Or allow it as an implicitly named package variable:</p>
<pre class="verbatim"><ol><li><a name="package-Cow"></a>    package <span class="i">Cow</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">vars</span> <span class="q">qw(@ISA)</span><span class="sc">;</span></li><li>    <span class="i">@ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li></ol></pre><p>If you're bringing in the class from outside, via an object-oriented
module, you change:</p>
<pre class="verbatim"><ol><li><a name="package-Cow"></a>    package <span class="i">Cow</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">Animal</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">vars</span> <span class="q">qw(@ISA)</span><span class="sc">;</span></li><li>    <span class="i">@ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li></ol></pre><p>into just:</p>
<pre class="verbatim"><ol><li><a name="package-Cow"></a>    package <span class="i">Cow</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">base</span> <span class="q">qw(Animal)</span><span class="sc">;</span></li></ol></pre><p>And that's pretty darn compact.</p>
<a class='view-head2' id="Overriding-the-methods"></a><h3 class='h3' >Overriding the methods</h3>
<p>Let's add a mouse, which can barely be heard:</p>
<pre class="verbatim"><ol><li>    <span class="c"># Animal package from before</span></li><li><a name="package-Mouse"></a>    <span class="s">{</span> package <span class="i">Mouse</span><span class="sc">;</span></li><li>      <span class="i">@ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li><li><a name="sound"></a>      sub <span class="m">sound</span> <span class="s">{</span> <span class="q">&quot;squeak&quot;</span> <span class="s">}</span></li><li><a name="speak"></a>      sub <span class="m">speak</span> <span class="s">{</span></li><li>        <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a $class goes &quot;</span><span class="cm">,</span> <span class="i">$class</span><span class="i">-&gt;sound</span><span class="cm">,</span> <span class="q">&quot;!\n&quot;</span><span class="sc">;</span></li><li>	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;[but you can barely hear it!]\n&quot;</span><span class="sc">;</span></li><li>      <span class="s">}</span></li><li><a name="package-main"></a>    <span class="s">}</span></li><li></li><li>    <span class="w">Mouse</span><span class="w">-&gt;speak</span><span class="sc">;</span></li></ol></pre><p>which results in:</p>
<pre class="verbatim"><ol><li>    <span class="w">a</span> <span class="w">Mouse</span> <span class="w">goes</span> <span class="w">squeak</span>!</li><li>    <span class="s">[</span><span class="w">but</span> <span class="w">you</span> <span class="w">can</span> <span class="w">barely</span> <span class="w">hear</span> <span class="w">it</span>!<span class="s">]</span></li></ol></pre><p>Here, <code class="inline"><span class="w">Mouse</span></code>
 has its own speaking routine, so <code class="inline"><span class="w">Mouse</span><span class="w">-&gt;speak</span></code>

doesn't immediately invoke <code class="inline"><span class="w">Animal</span><span class="w">-&gt;speak</span></code>
.  This is known as
"overriding".  In fact, we didn't even need to say that a <code class="inline"><span class="w">Mouse</span></code>
 was
an <code class="inline"><span class="w">Animal</span></code>
 at all, since all of the methods needed for <code class="inline"><span class="w">speak</span></code>
 are
completely defined with <code class="inline"><span class="w">Mouse</span></code>
.</p>
<p>But we've now duplicated some of the code from <code class="inline"><span class="w">Animal</span><span class="w">-&gt;speak</span></code>
,
and this can once again be a maintenance headache.  So, can we avoid
that?  Can we say somehow that a <code class="inline"><span class="w">Mouse</span></code>
 does everything any other
<code class="inline"><span class="w">Animal</span></code>
 does, but add in the extra comment?  Sure!</p>
<p>First, we can invoke the <code class="inline"><span class="w">Animal::speak</span></code>
 method directly:</p>
<pre class="verbatim"><ol><li>    <span class="c"># Animal package from before</span></li><li><a name="package-Mouse"></a>    <span class="s">{</span> package <span class="i">Mouse</span><span class="sc">;</span></li><li>      <span class="i">@ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li><li><a name="sound"></a>      sub <span class="m">sound</span> <span class="s">{</span> <span class="q">&quot;squeak&quot;</span> <span class="s">}</span></li><li><a name="speak"></a>      sub <span class="m">speak</span> <span class="s">{</span></li><li>        <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>        <span class="i">Animal::speak</span><span class="s">(</span><span class="i">$class</span><span class="s">)</span><span class="sc">;</span></li><li>	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;[but you can barely hear it!]\n&quot;</span><span class="sc">;</span></li><li>      <span class="s">}</span></li><li><a name="package-main"></a>    <span class="s">}</span></li></ol></pre><p>Note that we have to include the <code class="inline"><span class="i">$class</span></code>
 parameter (almost surely
the value of <code class="inline"><span class="q">&quot;Mouse&quot;</span></code>
) as the first parameter to <code class="inline"><span class="w">Animal::speak</span></code>
,
since we've stopped using the method arrow.  Why did we stop?  Well,
if we invoke <code class="inline"><span class="w">Animal</span><span class="w">-&gt;speak</span></code>
 there, the first parameter to the
method will be <code class="inline"><span class="q">&quot;Animal&quot;</span></code>
 not <code class="inline"><span class="q">&quot;Mouse&quot;</span></code>
, and when time comes for it
to call for the <code class="inline"><span class="w">sound</span></code>
, it won't have the right class to come back
to this package.</p>
<p>Invoking <code class="inline"><span class="w">Animal::speak</span></code>
 directly is a mess, however.  What if
<code class="inline"><span class="w">Animal::speak</span></code>
 didn't exist before, and was being inherited from a
class mentioned in <code class="inline"><span class="i">@Animal::ISA</span></code>
?  Because we are no longer using
the method arrow, we get one and only one chance to hit the right
subroutine.</p>
<p>Also note that the <code class="inline"><span class="w">Animal</span></code>
 classname is now hardwired into the
subroutine selection.  This is a mess if someone maintains the code,
changing <code class="inline"><span class="i">@ISA</span></code>
 for &lt;Mouse&gt; and didn't notice <code class="inline"><span class="w">Animal</span></code>
 there in
<code class="inline"><span class="w">speak</span></code>
.  So, this is probably not the right way to go.</p>
<a class='view-head2' id="Starting-the-search-from-a-different-place"></a><h3 class='h3' >Starting the search from a different place</h3>
<p>A better solution is to tell Perl to search from a higher place
in the inheritance chain:</p>
<pre class="verbatim"><ol><li>    <span class="c"># same Animal as before</span></li><li><a name="package-Mouse"></a>    <span class="s">{</span> package <span class="i">Mouse</span><span class="sc">;</span></li><li>      <span class="c"># same @ISA, &amp;sound as before</span></li><li><a name="speak"></a>      sub <span class="m">speak</span> <span class="s">{</span></li><li>        <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>        <span class="i">$class</span><span class="i">-&gt;Animal::speak</span><span class="sc">;</span></li><li>        <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;[but you can barely hear it!]\n&quot;</span><span class="sc">;</span></li><li>      <span class="s">}</span></li><li><a name="package-main"></a>    <span class="s">}</span></li></ol></pre><p>Ahh.  This works.  Using this syntax, we start with <code class="inline"><span class="w">Animal</span></code>
 to find
<code class="inline"><span class="w">speak</span></code>
, and use all of <code class="inline"><span class="w">Animal</span></code>
's inheritance chain if not found
immediately.  And yet the first parameter will be <code class="inline"><span class="i">$class</span></code>
, so the
found <code class="inline"><span class="w">speak</span></code>
 method will get <code class="inline"><span class="w">Mouse</span></code>
 as its first entry, and
eventually work its way back to <code class="inline"><span class="w">Mouse::sound</span></code>
 for the details.</p>
<p>But this isn't the best solution.  We still have to keep the <code class="inline"><span class="i">@ISA</span></code>

and the initial search package coordinated.  Worse, if <code class="inline"><span class="w">Mouse</span></code>
 had
multiple entries in <code class="inline"><span class="i">@ISA</span></code>
, we wouldn't necessarily know which one
had actually defined <code class="inline"><span class="w">speak</span></code>
.  So, is there an even better way?</p>
<a class='view-head2' id="The-SUPER-way-of-doing-things"></a><h3 class='h3' >The SUPER way of doing things</h3>
<p>By changing the <code class="inline"><span class="w">Animal</span></code>
 class to the <code class="inline"><span class="w">SUPER</span></code>
 class in that
invocation, we get a search of all of our super classes (classes
listed in <code class="inline"><span class="i">@ISA</span></code>
) automatically:</p>
<pre class="verbatim"><ol><li>    <span class="c"># same Animal as before</span></li><li><a name="package-Mouse"></a>    <span class="s">{</span> package <span class="i">Mouse</span><span class="sc">;</span></li><li>      <span class="c"># same @ISA, &amp;sound as before</span></li><li><a name="speak"></a>      sub <span class="m">speak</span> <span class="s">{</span></li><li>        <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>        <span class="i">$class</span><span class="i">-&gt;SUPER::speak</span><span class="sc">;</span></li><li>        <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;[but you can barely hear it!]\n&quot;</span><span class="sc">;</span></li><li>      <span class="s">}</span></li><li><a name="package-main"></a>    <span class="s">}</span></li></ol></pre><p>So, <code class="inline"><span class="w">SUPER::speak</span></code>
 means look in the current package's <code class="inline"><span class="i">@ISA</span></code>
 for
<code class="inline"><span class="w">speak</span></code>
, invoking the first one found. Note that it does <i>not</i> look in
the <code class="inline"><span class="i">@ISA</span></code>
 of <code class="inline"><span class="i">$class</span></code>
.</p>
<a class='view-head2' id="Where-we're-at-so-far..."></a><h3 class='h3' >Where we're at so far...</h3>
<p>So far, we've seen the method arrow syntax:</p>
<pre class="verbatim"><ol><li>  <span class="w">Class</span><span class="w">-&gt;method</span><span class="s">(</span><span class="i">@args</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>or the equivalent:</p>
<pre class="verbatim"><ol><li>  <span class="i">$a</span> = <span class="q">&quot;Class&quot;</span><span class="sc">;</span></li><li>  <span class="i">$a</span><span class="i">-&gt;method</span><span class="s">(</span><span class="i">@args</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>which constructs an argument list of:</p>
<pre class="verbatim"><ol><li>  <span class="s">(</span><span class="q">&quot;Class&quot;</span><span class="cm">,</span> <span class="i">@args</span><span class="s">)</span></li></ol></pre><p>and attempts to invoke</p>
<pre class="verbatim"><ol><li>  <span class="i">Class::method</span><span class="s">(</span><span class="q">&quot;Class&quot;</span><span class="cm">,</span> <span class="i">@Args</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>However, if <code class="inline"><span class="w">Class::method</span></code>
 is not found, then <code class="inline"><span class="i">@Class::ISA</span></code>
 is examined
(recursively) to locate a package that does indeed contain <code class="inline"><span class="w">method</span></code>
,
and that subroutine is invoked instead.</p>
<p>Using this simple syntax, we have class methods, (multiple)
inheritance, overriding, and extending.  Using just what we've seen so
far, we've been able to factor out common code, and provide a nice way
to reuse implementations with variations.  This is at the core of what
objects provide, but objects also provide instance data, which we
haven't even begun to cover.</p>
<a class='view-head2' id="A-horse-is-a-horse%2c-of-course-of-course----or-is-it%3f"></a><h3 class='h3' >A horse is a horse, of course of course -- or is it?</h3>
<p>Let's start with the code for the <code class="inline"><span class="w">Animal</span></code>
 class
and the <code class="inline"><span class="w">Horse</span></code>
 class:</p>
<pre class="verbatim"><ol><li><a name="package-Animal"></a>  <span class="s">{</span> package <span class="i">Animal</span><span class="sc">;</span></li><li><a name="speak"></a>    sub <span class="m">speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a $class goes &quot;</span><span class="cm">,</span> <span class="i">$class</span><span class="i">-&gt;sound</span><span class="cm">,</span> <span class="q">&quot;!\n&quot;</span></li><li>    <span class="s">}</span></li><li><a name="package-main"></a>  <span class="s">}</span></li><li><a name="package-Horse"></a>  <span class="s">{</span> package <span class="i">Horse</span><span class="sc">;</span></li><li>    <span class="i">@ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li><li><a name="sound"></a>    sub <span class="m">sound</span> <span class="s">{</span> <span class="q">&quot;neigh&quot;</span> <span class="s">}</span></li><li><a name="package-main-1"></a>  <span class="s">}</span></li></ol></pre><p>This lets us invoke <code class="inline"><span class="w">Horse</span><span class="w">-&gt;speak</span></code>
 to ripple upward to
<code class="inline"><span class="w">Animal::speak</span></code>
, calling back to <code class="inline"><span class="w">Horse::sound</span></code>
 to get the specific
sound, and the output of:</p>
<pre class="verbatim"><ol><li>  <span class="w">a</span> <span class="w">Horse</span> <span class="w">goes</span> <span class="w">neigh</span>!</li></ol></pre><p>But all of our Horse objects would have to be absolutely identical.
If I add a subroutine, all horses automatically share it.  That's
great for making horses the same, but how do we capture the
distinctions about an individual horse?  For example, suppose I want
to give my first horse a name.  There's got to be a way to keep its
name separate from the other horses.</p>
<p>We can do that by drawing a new distinction, called an "instance".
An "instance" is generally created by a class.  In Perl, any reference
can be an instance, so let's start with the simplest reference
that can hold a horse's name: a scalar reference.</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$name</span> = <span class="q">&quot;Mr. Ed&quot;</span><span class="sc">;</span></li><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$talking</span> = \<span class="i">$name</span><span class="sc">;</span></li></ol></pre><p>So now <code class="inline"><span class="i">$talking</span></code>
 is a reference to what will be the instance-specific
data (the name).  The final step in turning this into a real instance
is with a special operator called <code class="inline"><a class="l_k" href="functions/bless.html">bless</a></code>:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/bless.html">bless</a> <span class="i">$talking</span><span class="cm">,</span> <span class="w">Horse</span><span class="sc">;</span></li></ol></pre><p>This operator stores information about the package named <code class="inline"><span class="w">Horse</span></code>
 into
the thing pointed at by the reference.  At this point, we say
<code class="inline"><span class="i">$talking</span></code>
 is an instance of <code class="inline"><span class="w">Horse</span></code>
.  That is, it's a specific
horse.  The reference is otherwise unchanged, and can still be used
with traditional dereferencing operators.</p>
<a class='view-head2' id="Invoking-an-instance-method"></a><h3 class='h3' >Invoking an instance method</h3>
<p>The method arrow can be used on instances, as well as names of
packages (classes).  So, let's get the sound that <code class="inline"><span class="i">$talking</span></code>
 makes:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$noise</span> = <span class="i">$talking</span><span class="i">-&gt;sound</span><span class="sc">;</span></li></ol></pre><p>To invoke <code class="inline"><span class="w">sound</span></code>
, Perl first notes that <code class="inline"><span class="i">$talking</span></code>
 is a blessed
reference (and thus an instance).  It then constructs an argument
list, in this case from just <code class="inline"><span class="s">(</span><span class="i">$talking</span><span class="s">)</span></code>
.  (Later we'll see that
arguments will take their place following the instance variable,
just like with classes.)</p>
<p>Now for the fun part: Perl takes the class in which the instance was
blessed, in this case <code class="inline"><span class="w">Horse</span></code>
, and uses that to locate the subroutine
to invoke the method.  In this case, <code class="inline"><span class="w">Horse::sound</span></code>
 is found directly
(without using inheritance), yielding the final subroutine invocation:</p>
<pre class="verbatim"><ol><li>  <span class="i">Horse::sound</span><span class="s">(</span><span class="i">$talking</span><span class="s">)</span></li></ol></pre><p>Note that the first parameter here is still the instance, not the name
of the class as before.  We'll get <code class="inline"><span class="w">neigh</span></code>
 as the return value, and
that'll end up as the <code class="inline"><span class="i">$noise</span></code>
 variable above.</p>
<p>If Horse::sound had not been found, we'd be wandering up the
<code class="inline"><span class="i">@Horse::ISA</span></code>
 list to try to find the method in one of the
superclasses, just as for a class method.  The only difference between
a class method and an instance method is whether the first parameter
is an instance (a blessed reference) or a class name (a string).</p>
<a class='view-head2' id="Accessing-the-instance-data"></a><h3 class='h3' >Accessing the instance data</h3>
<p>Because we get the instance as the first parameter, we can now access
the instance-specific data.  In this case, let's add a way to get at
the name:</p>
<pre class="verbatim"><ol><li><a name="package-Horse"></a>  <span class="s">{</span> package <span class="i">Horse</span><span class="sc">;</span></li><li>    <span class="i">@ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li><li><a name="sound"></a>    sub <span class="m">sound</span> <span class="s">{</span> <span class="q">&quot;neigh&quot;</span> <span class="s">}</span></li><li><a name="name"></a>    sub <span class="m">name</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$self</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <span class="i">$$self</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="package-main"></a>  <span class="s">}</span></li></ol></pre><p>Now we call for the name:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/print.html">print</a> <span class="i">$talking</span><span class="i">-&gt;name</span><span class="cm">,</span> <span class="q">&quot; says &quot;</span><span class="cm">,</span> <span class="i">$talking</span><span class="i">-&gt;sound</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p>Inside <code class="inline"><span class="w">Horse::name</span></code>
, the <code class="inline"><span class="i">@_</span></code>
 array contains just <code class="inline"><span class="i">$talking</span></code>
,
which the <code class="inline"><a class="l_k" href="functions/shift.html">shift</a></code> stores into <code class="inline"><span class="i">$self</span></code>
.  (It's traditional to shift
the first parameter off into a variable named <code class="inline"><span class="i">$self</span></code>
 for instance
methods, so stay with that unless you have strong reasons otherwise.)
Then, <code class="inline"><span class="i">$self</span></code>
 gets de-referenced as a scalar ref, yielding <code class="inline"><span class="w">Mr</span>. <span class="w">Ed</span></code>
,
and we're done with that.  The result is:</p>
<pre class="verbatim"><ol><li>  <span class="w">Mr</span>. <span class="w">Ed</span> <span class="w">says</span> <span class="w">neigh</span>.</li></ol></pre><a class='view-head2' id="How-to-build-a-horse"></a><h3 class='h3' >How to build a horse</h3>
<p>Of course, if we constructed all of our horses by hand, we'd most
likely make mistakes from time to time.  We're also violating one of
the properties of object-oriented programming, in that the "inside
guts" of a Horse are visible.  That's good if you're a veterinarian,
but not if you just like to own horses.  So, let's let the Horse class
build a new horse:</p>
<pre class="verbatim"><ol><li><a name="package-Horse"></a>  <span class="s">{</span> package <span class="i">Horse</span><span class="sc">;</span></li><li>    <span class="i">@ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li><li><a name="sound"></a>    sub <span class="m">sound</span> <span class="s">{</span> <span class="q">&quot;neigh&quot;</span> <span class="s">}</span></li><li><a name="name"></a>    sub <span class="m">name</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$self</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <span class="i">$$self</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="named"></a>    sub <span class="m">named</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$name</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/bless.html">bless</a> \<span class="i">$name</span><span class="cm">,</span> <span class="i">$class</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="package-main"></a>  <span class="s">}</span></li></ol></pre><p>Now with the new <code class="inline"><span class="w">named</span></code>
 method, we can build a horse:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$talking</span> = <span class="w">Horse</span><span class="w">-&gt;named</span><span class="s">(</span><span class="q">&quot;Mr. Ed&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Notice we're back to a class method, so the two arguments to
<code class="inline"><span class="w">Horse::named</span></code>
 are <code class="inline"><span class="w">Horse</span></code>
 and <code class="inline"><span class="w">Mr</span>. <span class="w">Ed</span></code>
.  The <code class="inline"><a class="l_k" href="functions/bless.html">bless</a></code> operator
not only blesses <code class="inline"><span class="i">$name</span></code>
, it also returns the reference to <code class="inline"><span class="i">$name</span></code>
,
so that's fine as a return value.  And that's how to build a horse.</p>
<p>We've called the constructor <code class="inline"><span class="w">named</span></code>
 here, so that it quickly denotes
the constructor's argument as the name for this particular <code class="inline"><span class="w">Horse</span></code>
.
You can use different constructors with different names for different
ways of "giving birth" to the object (like maybe recording its
pedigree or date of birth).  However, you'll find that most people
coming to Perl from more limited languages use a single constructor
named <code class="inline"><span class="w">new</span></code>
, with various ways of interpreting the arguments to
<code class="inline"><span class="w">new</span></code>
.  Either style is fine, as long as you document your particular
way of giving birth to an object.  (And you <i>were</i> going to do that,
right?)</p>
<a class='view-head2' id="Inheriting-the-constructor"></a><h3 class='h3' >Inheriting the constructor</h3>
<p>But was there anything specific to <code class="inline"><span class="w">Horse</span></code>
 in that method?  No.  Therefore,
it's also the same recipe for building anything else that inherited from
<code class="inline"><span class="w">Animal</span></code>
, so let's put it there:</p>
<pre class="verbatim"><ol><li><a name="package-Animal"></a>  <span class="s">{</span> package <span class="i">Animal</span><span class="sc">;</span></li><li><a name="speak"></a>    sub <span class="m">speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;a $class goes &quot;</span><span class="cm">,</span> <span class="i">$class</span><span class="i">-&gt;sound</span><span class="cm">,</span> <span class="q">&quot;!\n&quot;</span></li><li>    <span class="s">}</span></li><li><a name="name"></a>    sub <span class="m">name</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$self</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <span class="i">$$self</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="named"></a>    sub <span class="m">named</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$name</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/bless.html">bless</a> \<span class="i">$name</span><span class="cm">,</span> <span class="i">$class</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="package-main"></a>  <span class="s">}</span></li><li><a name="package-Horse"></a>  <span class="s">{</span> package <span class="i">Horse</span><span class="sc">;</span></li><li>    <span class="i">@ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li><li><a name="sound"></a>    sub <span class="m">sound</span> <span class="s">{</span> <span class="q">&quot;neigh&quot;</span> <span class="s">}</span></li><li><a name="package-main-1"></a>  <span class="s">}</span></li></ol></pre><p>Ahh, but what happens if we invoke <code class="inline"><span class="w">speak</span></code>
 on an instance?</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$talking</span> = <span class="w">Horse</span><span class="w">-&gt;named</span><span class="s">(</span><span class="q">&quot;Mr. Ed&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>  <span class="i">$talking</span><span class="i">-&gt;speak</span><span class="sc">;</span></li></ol></pre><p>We get a debugging value:</p>
<pre class="verbatim"><ol><li>  <span class="w">a</span> <span class="w">Horse</span>=<span class="i">SCALAR</span><span class="s">(</span><span class="n">0xaca42ac</span><span class="s">)</span> <span class="w">goes</span> <span class="w">neigh</span>!</li></ol></pre><p>Why?  Because the <code class="inline"><span class="w">Animal::speak</span></code>
 routine is expecting a classname as
its first parameter, not an instance.  When the instance is passed in,
we'll end up using a blessed scalar reference as a string, and that
shows up as we saw it just now.</p>
<a class='view-head2' id="Making-a-method-work-with-either-classes-or-instances"></a><h3 class='h3' >Making a method work with either classes or instances</h3>
<p>All we need is for a method to detect if it is being called on a class
or called on an instance.  The most straightforward way is with the
<code class="inline"><a class="l_k" href="functions/ref.html">ref</a></code> operator.  This returns a string (the classname) when used on a
blessed reference, and <code class="inline"><a class="l_k" href="functions/undef.html">undef</a></code> when used on a string (like a
classname).  Let's modify the <code class="inline"><span class="w">name</span></code>
 method first to notice the change:</p>
<pre class="verbatim"><ol><li><a name="name"></a>  sub <span class="m">name</span> <span class="s">{</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$either</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>    <a class="l_k" href="functions/ref.html">ref</a> <span class="i">$either</span></li><li>      ? <span class="i">$$either</span> <span class="c"># it&#39;s an instance, return name</span></li><li>      <span class="co">:</span> <span class="q">&quot;an unnamed $either&quot;</span><span class="sc">;</span> <span class="c"># it&#39;s a class, return generic</span></li><li>  <span class="s">}</span></li></ol></pre><p>Here, the <code class="inline"><span class="q">?:</span></code>
 operator comes in handy to select either the
dereference or a derived string.  Now we can use this with either an
instance or a class.  Note that I've changed the first parameter
holder to <code class="inline"><span class="i">$either</span></code>
 to show that this is intended:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$talking</span> = <span class="w">Horse</span><span class="w">-&gt;named</span><span class="s">(</span><span class="q">&quot;Mr. Ed&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>  <a class="l_k" href="functions/print.html">print</a> <span class="i">Horse</span><span class="i">-&gt;name</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span> <span class="c"># prints &quot;an unnamed Horse\n&quot;</span></li><li>  <a class="l_k" href="functions/print.html">print</a> <span class="i">$talking</span><span class="i">-&gt;name</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span> <span class="c"># prints &quot;Mr Ed.\n&quot;</span></li></ol></pre><p>and now we'll fix <code class="inline"><span class="w">speak</span></code>
 to use this:</p>
<pre class="verbatim"><ol><li><a name="speak"></a>  sub <span class="m">speak</span> <span class="s">{</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$either</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="i">$either</span><span class="i">-&gt;name</span><span class="cm">,</span> <span class="q">&quot; goes &quot;</span><span class="cm">,</span> <span class="i">$either</span><span class="i">-&gt;sound</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li><li>  <span class="s">}</span></li></ol></pre><p>And since <code class="inline"><span class="w">sound</span></code>
 already worked with either a class or an instance,
we're done!</p>
<a class='view-head2' id="Adding-parameters-to-a-method"></a><h3 class='h3' >Adding parameters to a method</h3>
<p>Let's train our animals to eat:</p>
<pre class="verbatim"><ol><li><a name="package-Animal"></a>  <span class="s">{</span> package <span class="i">Animal</span><span class="sc">;</span></li><li><a name="named"></a>    sub <span class="m">named</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$name</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/bless.html">bless</a> \<span class="i">$name</span><span class="cm">,</span> <span class="i">$class</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="name"></a>    sub <span class="m">name</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$either</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/ref.html">ref</a> <span class="i">$either</span></li><li>	? <span class="i">$$either</span> <span class="c"># it&#39;s an instance, return name</span></li><li>	<span class="co">:</span> <span class="q">&quot;an unnamed $either&quot;</span><span class="sc">;</span> <span class="c"># it&#39;s a class, return generic</span></li><li>    <span class="s">}</span></li><li><a name="speak"></a>    sub <span class="m">speak</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$either</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="i">$either</span><span class="i">-&gt;name</span><span class="cm">,</span> <span class="q">&quot; goes &quot;</span><span class="cm">,</span> <span class="i">$either</span><span class="i">-&gt;sound</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="eat"></a>    sub <span class="m">eat</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$either</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$food</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/print.html">print</a> <span class="i">$either</span><span class="i">-&gt;name</span><span class="cm">,</span> <span class="q">&quot; eats $food.\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li><a name="package-main"></a>  <span class="s">}</span></li><li><a name="package-Horse"></a>  <span class="s">{</span> package <span class="i">Horse</span><span class="sc">;</span></li><li>    <span class="i">@ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li><li><a name="sound"></a>    sub <span class="m">sound</span> <span class="s">{</span> <span class="q">&quot;neigh&quot;</span> <span class="s">}</span></li><li><a name="package-main-1"></a>  <span class="s">}</span></li><li><a name="package-Sheep"></a>  <span class="s">{</span> package <span class="i">Sheep</span><span class="sc">;</span></li><li>    <span class="i">@ISA</span> = <span class="q">qw(Animal)</span><span class="sc">;</span></li><li><a name="sound-1"></a>    sub <span class="m">sound</span> <span class="s">{</span> <span class="q">&quot;baaaah&quot;</span> <span class="s">}</span></li><li><a name="package-main-2"></a>  <span class="s">}</span></li></ol></pre><p>And now try it out:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$talking</span> = <span class="w">Horse</span><span class="w">-&gt;named</span><span class="s">(</span><span class="q">&quot;Mr. Ed&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>  <span class="i">$talking</span><span class="i">-&gt;eat</span><span class="s">(</span><span class="q">&quot;hay&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>  <span class="w">Sheep</span><span class="w">-&gt;eat</span><span class="s">(</span><span class="q">&quot;grass&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>which prints:</p>
<pre class="verbatim"><ol><li>  <span class="w">Mr</span>. <span class="w">Ed</span> <span class="w">eats</span> <span class="w">hay</span>.</li><li>  <span class="w">an</span> <span class="w">unnamed</span> <span class="w">Sheep</span> <span class="w">eats</span> <span class="w">grass</span>.</li></ol></pre><p>An instance method with parameters gets invoked with the instance,
and then the list of parameters.  So that first invocation is like:</p>
<pre class="verbatim"><ol><li>  <span class="i">Animal::eat</span><span class="s">(</span><span class="i">$talking</span><span class="cm">,</span> <span class="q">&quot;hay&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><a class='view-head2' id="More-interesting-instances"></a><h3 class='h3' >More interesting instances</h3>
<p>What if an instance needs more data?  Most interesting instances are
made of many items, each of which can in turn be a reference or even
another object.  The easiest way to store these is often in a hash.
The keys of the hash serve as the names of parts of the object (often
called "instance variables" or "member variables"), and the
corresponding values are, well, the values.</p>
<p>But how do we turn the horse into a hash?  Recall that an object was
any blessed reference.  We can just as easily make it a blessed hash
reference as a blessed scalar reference, as long as everything that
looks at the reference is changed accordingly.</p>
<p>Let's make a sheep that has a name and a color:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$bad</span> = <a class="l_k" href="functions/bless.html">bless</a> <span class="s">{</span> <span class="w">Name</span> <span class="cm">=&gt;</span> <span class="q">&quot;Evil&quot;</span><span class="cm">,</span> <span class="w">Color</span> <span class="cm">=&gt;</span> <span class="q">&quot;black&quot;</span> <span class="s">}</span><span class="cm">,</span> <span class="w">Sheep</span><span class="sc">;</span></li></ol></pre><p>so <code class="inline"><span class="i">$bad</span>-&gt;{<span class="w">Name</span>}</code>
 has <code class="inline"><span class="w">Evil</span></code>
, and <code class="inline"><span class="i">$bad</span>-&gt;{<span class="w">Color</span>}</code>
 has
<code class="inline"><span class="w">black</span></code>
.  But we want to make <code class="inline"><span class="i">$bad</span><span class="i">-&gt;name</span></code>
 access the name, and
that's now messed up because it's expecting a scalar reference.  Not
to worry, because that's pretty easy to fix up:</p>
<pre class="verbatim"><ol><li>  <span class="c">## in Animal</span></li><li><a name="name"></a>  sub <span class="m">name</span> <span class="s">{</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$either</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>    <a class="l_k" href="functions/ref.html">ref</a> <span class="i">$either</span> ?</li><li>      <span class="i">$either</span>-&gt;{<span class="w">Name</span>} <span class="co">:</span></li><li>      <span class="q">&quot;an unnamed $either&quot;</span><span class="sc">;</span></li><li>  <span class="s">}</span></li></ol></pre><p>And of course <code class="inline"><span class="w">named</span></code>
 still builds a scalar sheep, so let's fix that
as well:</p>
<pre class="verbatim"><ol><li>  <span class="c">## in Animal</span></li><li><a name="named"></a>  sub <span class="m">named</span> <span class="s">{</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$class</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$name</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$self</span> = <span class="s">{</span> <span class="w">Name</span> <span class="cm">=&gt;</span> <span class="i">$name</span><span class="cm">,</span> <span class="w">Color</span> <span class="cm">=&gt;</span> <span class="i">$class</span><span class="i">-&gt;default_color</span> <span class="s">}</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/bless.html">bless</a> <span class="i">$self</span><span class="cm">,</span> <span class="i">$class</span><span class="sc">;</span></li><li>  <span class="s">}</span></li></ol></pre><p>What's this <code class="inline"><span class="w">default_color</span></code>
?  Well, if <code class="inline"><span class="w">named</span></code>
 has only the name,
we still need to set a color, so we'll have a class-specific initial color.
For a sheep, we might define it as white:</p>
<pre class="verbatim"><ol><li>  <span class="c">## in Sheep</span></li><li><a name="default_color"></a>  sub <span class="m">default_color</span> <span class="s">{</span> <span class="q">&quot;white&quot;</span> <span class="s">}</span></li></ol></pre><p>And then to keep from having to define one for each additional class,
we'll define a "backstop" method that serves as the "default default",
directly in <code class="inline"><span class="w">Animal</span></code>
:</p>
<pre class="verbatim"><ol><li>  <span class="c">## in Animal</span></li><li><a name="default_color"></a>  sub <span class="m">default_color</span> <span class="s">{</span> <span class="q">&quot;brown&quot;</span> <span class="s">}</span></li></ol></pre><p>Now, because <code class="inline"><span class="w">name</span></code>
 and <code class="inline"><span class="w">named</span></code>
 were the only methods that
referenced the "structure" of the object, the rest of the methods can
remain the same, so <code class="inline"><span class="w">speak</span></code>
 still works as before.</p>
<a class='view-head2' id="A-horse-of-a-different-color"></a><h3 class='h3' >A horse of a different color</h3>
<p>But having all our horses be brown would be boring.  So let's add a
method or two to get and set the color.</p>
<pre class="verbatim"><ol><li>  <span class="c">## in Animal</span></li><li><a name="color"></a>  sub <span class="m">color</span> <span class="s">{</span></li><li>    <span class="i">$_</span>[<span class="n">0</span>]-&gt;{<span class="w">Color</span>}</li><li>  <span class="s">}</span></li><li><a name="set_color"></a>  sub <span class="m">set_color</span> <span class="s">{</span></li><li>    <span class="i">$_</span>[<span class="n">0</span>]-&gt;{<span class="w">Color</span>} = <span class="i">$_</span>[<span class="n">1</span>]<span class="sc">;</span></li><li>  <span class="s">}</span></li></ol></pre><p>Note the alternate way of accessing the arguments: <code class="inline"><span class="i">$_</span>[<span class="n">0</span>]</code>
 is used
in-place, rather than with a <code class="inline"><a class="l_k" href="functions/shift.html">shift</a></code>.  (This saves us a bit of time
for something that may be invoked frequently.)  And now we can fix
that color for Mr. Ed:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/my.html">my</a> <span class="i">$talking</span> = <span class="w">Horse</span><span class="w">-&gt;named</span><span class="s">(</span><span class="q">&quot;Mr. Ed&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>  <span class="i">$talking</span><span class="i">-&gt;set_color</span><span class="s">(</span><span class="q">&quot;black-and-white&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>  <a class="l_k" href="functions/print.html">print</a> <span class="i">$talking</span><span class="i">-&gt;name</span><span class="cm">,</span> <span class="q">&quot; is colored &quot;</span><span class="cm">,</span> <span class="i">$talking</span><span class="i">-&gt;color</span><span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><p>which results in:</p>
<pre class="verbatim"><ol><li>  <span class="w">Mr</span>. <span class="w">Ed</span> <span class="w">is</span> <span class="w">colored</span> <span class="w">black</span>-and-<span class="w">white</span></li></ol></pre><a class='view-head2' id="Summary"></a><h3 class='h3' >Summary</h3>
<p>So, now we have class methods, constructors, instance methods,
instance data, and even accessors.  But that's still just the
beginning of what Perl has to offer.  We haven't even begun to talk
about accessors that double as getters and setters, destructors,
indirect object notation, subclasses that add instance data, per-class
data, overloading, "isa" and "can" tests, <code class="inline"><span class="w">UNIVERSAL</span></code>
 class, and so
on.  That's for the rest of the Perl documentation to cover.
Hopefully, this gets you started, though.</p>
<a class='view-head1' id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p>For more information, see <a href="perlobj.html">perlobj</a> (for all the gritty details about
Perl objects, now that you've seen the basics), <a href="perltoot.html">perltoot</a> (the
tutorial for those who already know objects), <a href="perltooc.html">perltooc</a> (dealing
with class data), <a href="perlbot.html">perlbot</a> (for some more tricks), and books such as
Damian Conway's excellent <i>Object Oriented Perl</i>.</p>
<p>Some modules which might prove interesting are Class::Accessor,
Class::Class, Class::Contract, Class::Data::Inheritable,
Class::MethodMaker and Tie::SecureHash</p>
<a class='view-head1' id="COPYRIGHT"></a><h2 class='h2' >COPYRIGHT</h2>
<p>Copyright (c) 1999, 2000 by Randal L. Schwartz and Stonehenge
Consulting Services, Inc.  Permission is hereby granted to distribute
this document intact with the Perl distribution, and in accordance
with the licenses of the Perl distribution; derived documents must
include this copyright notice intact.</p>
<p>Portions of this text have been derived from Perl Training materials
originally appearing in the <i>Packages, References, Objects, and
Modules</i> course taught by instructors for Stonehenge Consulting
Services, Inc. and used with permission.</p>
<p>Portions of this text have been derived from materials originally
appearing in <i>Linux Magazine</i> and used with permission.</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><ul><li><a href="#If-we-could-talk-to-the-animals...">If we could talk to the animals...</a></li><li><a href="#Introducing-the-method-invocation-arrow">Introducing the method invocation arrow</a></li><li><a href="#Invoking-a-barnyard">Invoking a barnyard</a></li><li><a href="#The-extra-parameter-of-method-invocation">The extra parameter of method invocation</a></li><li><a href="#Calling-a-second-method-to-simplify-things">Calling a second method to simplify things</a></li><li><a href="#Inheriting-the-windpipes">Inheriting the windpipes</a></li><li><a href="#A-few-notes-about-%40ISA">A few notes about @ISA</a></li><li><a href="#Overriding-the-methods">Overriding the methods</a></li><li><a href="#Starting-the-search-from-a-different-place">Starting the search from a different place</a></li><li><a href="#The-SUPER-way-of-doing-things">The SUPER way of doing things</a></li><li><a href="#Where-we're-at-so-far...">Where we're at so far...</a></li><li><a href="#A-horse-is-a-horse%2c-of-course-of-course----or-is-it%3f">A horse is a horse, of course of course -- or is it?</a></li><li><a href="#Invoking-an-instance-method">Invoking an instance method</a></li><li><a href="#Accessing-the-instance-data">Accessing the instance data</a></li><li><a href="#How-to-build-a-horse">How to build a horse</a></li><li><a href="#Inheriting-the-constructor">Inheriting the constructor</a></li><li><a href="#Making-a-method-work-with-either-classes-or-instances">Making a method work with either classes or instances</a></li><li><a href="#Adding-parameters-to-a-method">Adding parameters to a method</a></li><li><a href="#More-interesting-instances">More interesting instances</a></li><li><a href="#A-horse-of-a-different-color">A horse of a different color</a></li><li><a href="#Summary">Summary</a></li></ul><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#COPYRIGHT">COPYRIGHT</a></li></ul>


                  </div>
                </article>
              </div>
            </div>
          </main>
        </div>
           <footer class="footer row bg-light pt-5 pb-5">
       <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
           <div class="row">
               <div class="col-md-4">
                   <ul class="list-unstyled">
                       <li>
                           <h4>Site info</h4>
                       </li>
                       <li>Docs mantained by
                           <a href="//lists.perl.org/list/perl5-porters.html"
                               rel="noopener">Perl 5 Porters</a>
                       </li>
                       <li>Perldoc site development sponsored by
                           <a href="//opusvl.com" rel="noopener">
                           <img style="margin: 20px 20px 5px 10px" class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo">
                        </a>
                    <li><span class="about_perldoc"><a href="//about.html">About PerlDOC</a></span>
                    </li>
                       </li>
                   </ul>
               </div>
               <div class="col-md-8">
                   <div class="row">
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Manuals</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/index-overview.html">Overview</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/index-tutorials.html">Tutorials</a>
                               </li>
                               <li>
                                   <a href="/5.8.5/index-faq.html">FAQs</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/index-history.html">Changes</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Reference</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/index-language.html">Language</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/index-functions.html">Functions</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/perlop.html">Operators</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/perlvar.html">Variables</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Modules</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/index-modules-A.html">Modules</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/index-pragmas.html">Pragmas</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/index-utilities.html">Utilities</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Misc</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/index-licence.html">License</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/index-internals.html">Internals</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.5/index-platforms.html">Platforms</a>
                               </li>
                            <li>
                                <a
                                    href="/5.8.5/index-about.html">About</a>
                            </li>
                           </ul>
                       </div>
                   </div>
               </div>
               <div class=" col-12 footer-inf text-center">
                   <small>perldoc.perl.org - Official documentation for the Perl
                       programming language</small>
               </div>
           </div>
       </div>
   </footer>

        	<div class="beta-wrapper beta-bottom-right ">
		<div class="beta beta-blue  ">
			<a class="beta-link "
				href="//github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
				<span class="beta-text">
					This website is a Beta release.
				</span>
				<span class="beta-text">
					For any issues please raise a ticket on GitHub
				</span>
			</a>
		</div>
	</div>

        <script src="/public/js/main.min.js"></script>
      </body>

      </html>
