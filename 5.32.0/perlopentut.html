      
      
      
      

      <!DOCTYPE html>
      <html lang="en">

      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="perlopentut - perldoc.perl.org">
        <link rel="icon" href="/public/img/favicon.ico">
        <title>perlopentut - perldoc.perl.org</title>
        <link href="/public/css/main.min.css" rel="stylesheet">
        <link rel="canonical" href="/perlopentut.html">
        <link
          href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900'
          rel='stylesheet' type='text/css'>
        <script>
          window.ga = window.ga || function () {
            (ga.q = ga.q || []).push(arguments)
          };
          ga.l = +new Date;
          ga('create', 'UA-1892152-2', 'auto'); // JJ's account
          ga('create', 'UA-50555-3', 'auto', 'perlOrg'); // perl.org account
          ga('require', 'outboundLinkTracker', {
            events: ['click', 'auxclick', 'contextmenu'],
          });
          ga('require', 'maxScrollTracker');
          ga('send', 'pageview');
          ga('perlOrg.send', 'pageview');
        </script>
        <script async src="https://www.google-analytics.com/analytics.js">
        </script>
        <script async src="/public/js/tracking.min.js"></script>
      </head>

      <body class="body container-fluid ">
        <div class="wrapper">

          <nav
    class="navbar navbar-dark bg-primary bg-perl fixed-top justify-content-between navbar-expand-lg">
    <a href="#content" class="skippy sr-only sr-only-focusable">
        <span class=' skippy-text'>Skip to main content</span>
    </a>
    <a class="navbar-brand" href="/">
        <img class="logo" src="/public/img/logo_perl_doc.svg"
            alt="Perl Documentation Logo" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#navbar" aria-controls="navbar" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ">
        <ul class="navbar-nav ml-auto navbar-right">
            <form class="nav-item dropdown search-wrapper">
                <input type="text" id='searchinput' aria-describedby='navbarDropdown5'
                    placeholder="Type query" class='search-input-field' value=''>

                <button href="#" data-toggle='dropdown' type="button"
                    aria-haspopup="true" aria-expanded='false' id="navbarDropdown5"
                    class="nav-link dropdown-toggle search-link">
                    <object tabindex='-1' focusable="false" class='search-icon'
                        data="/public/img/search.svg" type="image/svg+xml"
                        name='search icon'>search
                        icon</object>
                </button>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown5"
                    id='search-results'>
                    <p class='dropdown-item major-version'>
                        No results
                    </p>
                </div>
            </form>
            <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    
                        <p class='dropdown-item major-version'>
                            5.32
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.32.0/">5.32.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.30
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.30.3/">5.30.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.2/">5.30.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.1/">5.30.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.0/">5.30.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.28
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.28.3/">5.28.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.2/">5.28.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.1/">5.28.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.0/">5.28.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.26
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.26.3/">5.26.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.2/">5.26.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.1/">5.26.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.0/">5.26.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.24
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.24.4/">5.24.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.3/">5.24.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.2/">5.24.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.1/">5.24.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.0/">5.24.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.22
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.22.4/">5.22.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.3/">5.22.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.2/">5.22.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.1/">5.22.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.0/">5.22.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.20
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.20.3/">5.20.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.2/">5.20.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.1/">5.20.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.0/">5.20.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.18
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.18.4/">5.18.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.3/">5.18.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.2/">5.18.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.1/">5.18.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.0/">5.18.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.16
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.16.3/">5.16.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.2/">5.16.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.1/">5.16.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.0/">5.16.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.14
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.14.4/">5.14.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.3/">5.14.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.2/">5.14.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.1/">5.14.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.0/">5.14.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.12
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.12.5/">5.12.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.4/">5.12.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.3/">5.12.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.2/">5.12.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.1/">5.12.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.0/">5.12.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.10
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.10.1/">5.10.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.10.0/">5.10.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.8
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.8.9/">5.8.9</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.8/">5.8.8</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.7/">5.8.7</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.6/">5.8.6</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.5/">5.8.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.4/">5.8.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.3/">5.8.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.2/">5.8.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.1/">5.8.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.0/">5.8.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.6
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.6.2/">5.6.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.1/">5.6.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.0/">5.6.0</a>
                        
                        
                    
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                    <a class="dropdown-item"
                        href="/5.32.0/index-overview.html">Overview</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-tutorials.html">Tutorials</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-faq.html">FAQs</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-history.html">Changes</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-licence.html">License</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-language.html">Language</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-functions.html">Functions</a>
                    <a class="dropdown-item"
                        href="/5.32.0/perlop.html">Operators</a>
                    <a class="dropdown-item"
                        href="/5.32.0/perlvar.html">Variables</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-pragmas.html">Pragmas</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-utilities.html">Utilities</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-internals.html">Internals</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-platforms.html">Platforms</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3"
                    class="dropdown-menu letters-wrap">
                    <!--<a class="dropdown-item"
                        href="/5.32.0/index-modules.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-modules-by-cat.html">By
                        Category</a>-->
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-A.html">A</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-B.html">B</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-C.html">C</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-D.html">D</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-E.html">E</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-F.html">F</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-G.html">G</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-H.html">H</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-I.html">I</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-J.html">J</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-K.html">K</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-L.html">L</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-M.html">M</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-N.html">N</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-O.html">O</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-P.html">P</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-Q.html">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-R.html">R</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-S.html">S</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-T.html">T</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-U.html">U</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-V.html">V</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-W.html">W</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-X.html">X</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-Y.html">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-modules-Z.html">Z</a>
                    </div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown4" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Functions</a>
                <div aria-labelledby="navbarDropdown4"
                    class="dropdown-menu letters-wrap">
                    <a class="dropdown-item"
                        href="/5.32.0/index-functions.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.32.0/index-functions-by-cat.html">By
                        Category</a>
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#A">A</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#B">B</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#C">C</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#D">D</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#E">E</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#F">F</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#G">G</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#H">H</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#I">I</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#J">J</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#K">K</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#L">L</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#M">M</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#N">N</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#O">O</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#P">P</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#Q">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#R">R</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#S">S</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#T">T</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#U">U</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#V">V</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#W">W</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#X">X</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#Y">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.32.0/index-functions.html#Z">Z</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!--/.nav-collapse -->
</nav>


          <main class="row main-content pb-5 pt-5" id='content'>
            <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
              <div class="row">
                <div class="col-sm-12">
                  <div id="breadcrumbs">
                      
    <a href="index.html">Home</a>&nbsp; &gt;
    
      
        <a href="index-tutorials.html">Tutorials</a> &gt;
      
    
    perlopentut
  

                  </div>
                </div>
              </div>
              <div class="row">
                <article class="col-sm-12 content">
                  <div class="documentation-wrapper">
                    <div id="perl_version">
                      <h7 class='page-title'> Perl 5 version 32.0
                        documentation</h7>
                    </div>
                    <h1>perlopentut</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Opening-Text-Files">Opening Text Files</a></li><ul><li><a href="#Opening-Text-Files-for-Reading">Opening Text Files for Reading</a></li><li><a href="#Opening-Text-Files-for-Writing">Opening Text Files for Writing</a></li></ul><li><a href="#Opening-Binary-Files">Opening Binary Files</a></li><li><a href="#Opening-Pipes">Opening Pipes</a></li><ul><li><a href="#Opening-a-pipe-for-reading">Opening a pipe for reading</a></li><li><a href="#Opening-a-pipe-for-writing">Opening a pipe for writing</a></li><li><a href="#Expressing-the-command-as-a-list">Expressing the command as a list</a></li></ul><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#AUTHOR-and-COPYRIGHT">AUTHOR and COPYRIGHT</a></li></ul><a class='view-head1' id="NAME"></a><h2 class='h2' >NAME</h2>
<p>perlopentut - simple recipes for opening files and pipes in Perl</p>
<a class='view-head1' id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>Whenever you do I/O on a file in Perl, you do so through what in Perl is
called a <strong>filehandle</strong>.  A filehandle is an internal name for an external
file.  It is the job of the <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> function to make the association
between the internal name and the external name, and it is the job
of the <code class="inline"><a class="l_k" href="functions/close.html">close</a></code> function to break that association.</p>
<p>For your convenience, Perl sets up a few special filehandles that are
already open when you run.  These include <code class="inline"><span class="w">STDIN</span></code>
, <code class="inline"><span class="w">STDOUT</span></code>
, <code class="inline"><span class="w">STDERR</span></code>
,
and <code class="inline"><span class="w">ARGV</span></code>
.  Since those are pre-opened, you can use them right away
without having to go to the trouble of opening them yourself:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/print.html">print</a> <span class="i">STDERR</span> <span class="q">&quot;This is a debugging message.\n&quot;</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="i">STDOUT</span> <span class="q">&quot;Please enter something: &quot;</span><span class="sc">;</span></li><li>    <span class="i">$response</span> = <span class="q">&lt;STDIN&gt;</span> // <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;how come no input?&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="i">STDOUT</span> <span class="q">&quot;Thank you!\n&quot;</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><span class="q">&lt;ARGV&gt;</span><span class="s">)</span> <span class="s">{</span> ... <span class="s">}</span></li></ol></pre><p>As you see from those examples, <code class="inline"><span class="w">STDOUT</span></code>
 and <code class="inline"><span class="w">STDERR</span></code>
 are output
handles, and <code class="inline"><span class="w">STDIN</span></code>
 and <code class="inline"><span class="w">ARGV</span></code>
 are input handles.  They are
in all capital letters because they are reserved to Perl, much
like the <code class="inline"><span class="i">@ARGV</span></code>
 array and the <code class="inline"><span class="i">%ENV</span></code>
 hash are.  Their external
associations were set up by your shell.</p>
<p>You will need to open every other filehandle on your own. Although there
are many variants, the most common way to call Perl's open() function
is with three arguments and one return value:</p>
<p><code class="inline">    <i>OK</i> = open(<i>HANDLE</i>, <i>MODE</i>, <i>PATHNAME</i>)</code></p>
<p>Where:</p>
<ul>
<li><a class='view-title' id="_OK_"></a><strong><i>OK</i></strong>
<p>will be some defined value if the open succeeds, but
<code class="inline"><a class="l_k" href="functions/undef.html">undef</a></code> if it fails;</p>
</li>
<li><a class='view-title' id="_HANDLE_"></a><strong><i>HANDLE</i></strong>
<p>should be an undefined scalar variable to be filled in by the
<code class="inline"><a class="l_k" href="functions/open.html">open</a></code> function if it succeeds;</p>
</li>
<li><a class='view-title' id="_MODE_"></a><strong><i>MODE</i></strong>
<p>is the access mode and the encoding format to open the file with;</p>
</li>
<li><a class='view-title' id="_PATHNAME_"></a><strong><i>PATHNAME</i></strong>
<p>is the external name of the file you want opened.</p>
</li>
</ul>
<p>Most of the complexity of the <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> function lies in the many
possible values that the <i>MODE</i> parameter can take on.</p>
<p>One last thing before we show you how to open files: opening
files does not (usually) automatically lock them in Perl.  See
<a href="perlfaq5.html">perlfaq5</a> for how to lock.</p>
<a class='view-head1' id="Opening-Text-Files"></a><h2 class='h2' >Opening Text Files</h2>
<a class='view-head2' id="Opening-Text-Files-for-Reading"></a><h3 class='h3' >Opening Text Files for Reading</h3>
<p>If you want to read from a text file, first open it in
read-only mode like this:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$filename</span> = <span class="q">&quot;/some/path/to/a/textfile/goes/here&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$encoding</span> = <span class="q">&quot;:encoding(UTF-8)&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$handle</span>   = <a class="l_k" href="functions/undef.html">undef</a><span class="sc">;</span>     <span class="c"># this will be filled in on success</span></li><li></li><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="i">$handle</span><span class="cm">,</span> <span class="q">&quot;&lt; $encoding&quot;</span><span class="cm">,</span> <span class="i">$filename</span><span class="s">)</span></li><li>        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;$0: can&#39;t open $filename for reading: $!&quot;</span><span class="sc">;</span></li></ol></pre><p>As with the shell, in Perl the <code class="inline"><span class="q">&quot;&lt;&quot;</span></code>
 is used to open the file in
read-only mode.  If it succeeds, Perl allocates a brand new filehandle for
you and fills in your previously undefined <code class="inline"><span class="i">$handle</span></code>
 argument with a
reference to that handle.</p>
<p>Now you may use functions like <code class="inline"><a class="l_k" href="functions/readline.html">readline</a></code>, <code class="inline"><a class="l_k" href="functions/read.html">read</a></code>, <code class="inline"><a class="l_k" href="functions/getc.html">getc</a></code>, and
<code class="inline"><a class="l_k" href="functions/sysread.html">sysread</a></code> on that handle.  Probably the most common input function
is the one that looks like an operator:</p>
<pre class="verbatim"><ol><li>    <span class="i">$line</span> = <a class="l_k" href="functions/readline.html">readline</a><span class="s">(</span><span class="i">$handle</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">$line</span> = <span class="q">&lt;$handle&gt;</span><span class="sc">;</span>          <span class="c"># same thing</span></li></ol></pre><p>Because the <code class="inline"><a class="l_k" href="functions/readline.html">readline</a></code> function returns <code class="inline"><a class="l_k" href="functions/undef.html">undef</a></code> at end of file or
upon error, you will sometimes see it used this way:</p>
<pre class="verbatim"><ol><li>    <span class="i">$line</span> = <span class="q">&lt;$handle&gt;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/if.html">if</a> <span class="s">(</span><a class="l_k" href="functions/defined.html">defined</a> <span class="i">$line</span><span class="s">)</span> <span class="s">{</span></li><li>        <span class="c"># do something with $line</span></li><li>    <span class="s">}</span></li><li>    <a class="l_k" href="functions/else.html">else</a> <span class="s">{</span></li><li>        <span class="c"># $line is not valid, so skip it</span></li><li>    <span class="s">}</span></li></ol></pre><p>You can also just quickly <code class="inline"><a class="l_k" href="functions/die.html">die</a></code> on an undefined value this way:</p>
<pre class="verbatim"><ol><li>    <span class="i">$line</span> = <span class="q">&lt;$handle&gt;</span> // <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;no input found&quot;</span><span class="sc">;</span></li></ol></pre><p>However, if hitting EOF is an expected and normal event, you do not want to
exit simply because you have run out of input.  Instead, you probably just want
to exit an input loop.  You can then test to see if an actual error has caused
the loop to terminate, and act accordingly:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><span class="q">&lt;$handle&gt;</span><span class="s">)</span> <span class="s">{</span></li><li>        <span class="c"># do something with data in $_</span></li><li>    <span class="s">}</span></li><li>    <a class="l_k" href="functions/if.html">if</a> <span class="s">(</span><span class="i">$!</span><span class="s">)</span> <span class="s">{</span></li><li>        <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;unexpected error while reading from $filename: $!&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p><strong>A Note on Encodings</strong>: Having to specify the text encoding every time
might seem a bit of a bother.  To set up a default encoding for <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> so
that you don't have to supply it each time, you can use the <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> pragma:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <a class="l_k" href="functions/open.html">open</a> <span class="q">qw&lt; :encoding(UTF-8) &gt;</span><span class="sc">;</span></li></ol></pre><p>Once you've done that, you can safely omit the encoding part of the
open mode:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="i">$handle</span><span class="cm">,</span> <span class="q">&quot;&lt;&quot;</span><span class="cm">,</span> <span class="i">$filename</span><span class="s">)</span></li><li>        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;$0: can&#39;t open $filename for reading: $!&quot;</span><span class="sc">;</span></li></ol></pre><p>But never use the bare <code class="inline"><span class="q">&quot;&lt;&quot;</span></code>
 without having set up a default encoding
first.  Otherwise, Perl cannot know which of the many, many, many possible
flavors of text file you have, and Perl will have no idea how to correctly
map the data in your file into actual characters it can work with.  Other
common encoding formats including <code class="inline"><span class="q">&quot;ASCII&quot;</span></code>
, <code class="inline"><span class="q">&quot;ISO-8859-1&quot;</span></code>
,
<code class="inline"><span class="q">&quot;ISO-8859-15&quot;</span></code>
, <code class="inline"><span class="q">&quot;Windows-1252&quot;</span></code>
, <code class="inline"><span class="q">&quot;MacRoman&quot;</span></code>
, and even <code class="inline"><span class="q">&quot;UTF-16LE&quot;</span></code>
.
See <a href="perlunitut.html">perlunitut</a> for more about encodings.</p>
<a class='view-head2' id="Opening-Text-Files-for-Writing"></a><h3 class='h3' >Opening Text Files for Writing</h3>
<p>When you want to write to a file, you first have to decide what to do about
any existing contents of that file.  You have two basic choices here: to
preserve or to clobber.</p>
<p>If you want to preserve any existing contents, then you want to open the file
in append mode.  As in the shell, in Perl you use <code class="inline"><span class="q">&quot;&gt;&gt;&quot;</span></code>
 to open an
existing file in append mode.  <code class="inline"><span class="q">&quot;&gt;&gt;&quot;</span></code>
 creates the file if it does not
already exist.</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$handle</span>   = <a class="l_k" href="functions/undef.html">undef</a><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$filename</span> = <span class="q">&quot;/some/path/to/a/textfile/goes/here&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$encoding</span> = <span class="q">&quot;:encoding(UTF-8)&quot;</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="i">$handle</span><span class="cm">,</span> <span class="q">&quot;&gt;&gt; $encoding&quot;</span><span class="cm">,</span> <span class="i">$filename</span><span class="s">)</span></li><li>        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;$0: can&#39;t open $filename for appending: $!&quot;</span><span class="sc">;</span></li></ol></pre><p>Now you can write to that filehandle using any of <code class="inline"><a class="l_k" href="functions/print.html">print</a></code>, <code class="inline"><a class="l_k" href="functions/printf.html">printf</a></code>,
<code class="inline"><a class="l_k" href="functions/say.html">say</a></code>, <code class="inline"><a class="l_k" href="functions/write.html">write</a></code>, or <code class="inline"><a class="l_k" href="functions/syswrite.html">syswrite</a></code>.</p>
<p>As noted above, if the file does not already exist, then the append-mode open
will create it for you.  But if the file does already exist, its contents are
safe from harm because you will be adding your new text past the end of the
old text.</p>
<p>On the other hand, sometimes you want to clobber whatever might already be
there.  To empty out a file before you start writing to it, you can open it
in write-only mode:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$handle</span>   = <a class="l_k" href="functions/undef.html">undef</a><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$filename</span> = <span class="q">&quot;/some/path/to/a/textfile/goes/here&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$encoding</span> = <span class="q">&quot;:encoding(UTF-8)&quot;</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="i">$handle</span><span class="cm">,</span> <span class="q">&quot;&gt; $encoding&quot;</span><span class="cm">,</span> <span class="i">$filename</span><span class="s">)</span></li><li>        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;$0: can&#39;t open $filename in write-open mode: $!&quot;</span><span class="sc">;</span></li></ol></pre><p>Here again Perl works just like the shell in that the <code class="inline"><span class="q">&quot;&gt;&quot;</span></code>
 clobbers
an existing file.</p>
<p>As with the append mode, when you open a file in write-only mode,
you can now write to that filehandle using any of <code class="inline"><a class="l_k" href="functions/print.html">print</a></code>, <code class="inline"><a class="l_k" href="functions/printf.html">printf</a></code>,
<code class="inline"><a class="l_k" href="functions/say.html">say</a></code>, <code class="inline"><a class="l_k" href="functions/write.html">write</a></code>, or <code class="inline"><a class="l_k" href="functions/syswrite.html">syswrite</a></code>.</p>
<p>What about read-write mode?  You should probably pretend it doesn't exist,
because opening text files in read-write mode is unlikely to do what you
would like.  See <a href="perlfaq5.html">perlfaq5</a> for details.</p>
<a class='view-head1' id="Opening-Binary-Files"></a><h2 class='h2' >Opening Binary Files</h2>
<p>If the file to be opened contains binary data instead of text characters,
then the <code class="inline"><span class="w">MODE</span></code>
 argument to <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> is a little different.  Instead of
specifying the encoding, you tell Perl that your data are in raw bytes.</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$filename</span> = <span class="q">&quot;/some/path/to/a/binary/file/goes/here&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$encoding</span> = <span class="q">&quot;:raw :bytes&quot;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$handle</span>   = <a class="l_k" href="functions/undef.html">undef</a><span class="sc">;</span>     <span class="c"># this will be filled in on success</span></li></ol></pre><p>And then open as before, choosing <code class="inline"><span class="q">&quot;&lt;&quot;</span></code>
, <code class="inline"><span class="q">&quot;&gt;&gt;&quot;</span></code>
, or
<code class="inline"><span class="q">&quot;&gt;&quot;</span></code>
 as needed:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="i">$handle</span><span class="cm">,</span> <span class="q">&quot;&lt; $encoding&quot;</span><span class="cm">,</span> <span class="i">$filename</span><span class="s">)</span></li><li>        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;$0: can&#39;t open $filename for reading: $!&quot;</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="i">$handle</span><span class="cm">,</span> <span class="q">&quot;&gt;&gt; $encoding&quot;</span><span class="cm">,</span> <span class="i">$filename</span><span class="s">)</span></li><li>        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;$0: can&#39;t open $filename for appending: $!&quot;</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="i">$handle</span><span class="cm">,</span> <span class="q">&quot;&gt; $encoding&quot;</span><span class="cm">,</span> <span class="i">$filename</span><span class="s">)</span></li><li>        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;$0: can&#39;t open $filename in write-open mode: $!&quot;</span><span class="sc">;</span></li></ol></pre><p>Alternately, you can change to binary mode on an existing handle this way:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/binmode.html">binmode</a><span class="s">(</span><span class="i">$handle</span><span class="s">)</span>    || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;cannot binmode handle&quot;</span><span class="sc">;</span></li></ol></pre><p>This is especially handy for the handles that Perl has already opened for you.</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/binmode.html">binmode</a><span class="s">(</span><span class="w">STDIN</span><span class="s">)</span>      || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;cannot binmode STDIN&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/binmode.html">binmode</a><span class="s">(</span><span class="w">STDOUT</span><span class="s">)</span>     || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;cannot binmode STDOUT&quot;</span><span class="sc">;</span></li></ol></pre><p>You can also pass <code class="inline"><a class="l_k" href="functions/binmode.html">binmode</a></code> an explicit encoding to change it on the fly.
This isn't exactly "binary" mode, but we still use <code class="inline"><a class="l_k" href="functions/binmode.html">binmode</a></code> to do it:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="functions/binmode.html">binmode</a><span class="s">(</span><span class="w">STDIN</span><span class="cm">,</span>  <span class="q">&quot;:encoding(MacRoman)&quot;</span><span class="s">)</span> || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;cannot binmode STDIN&quot;</span><span class="sc">;</span></li><li>  <a class="l_k" href="functions/binmode.html">binmode</a><span class="s">(</span><span class="w">STDOUT</span><span class="cm">,</span> <span class="q">&quot;:encoding(UTF-8)&quot;</span><span class="s">)</span>    || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;cannot binmode STDOUT&quot;</span><span class="sc">;</span></li></ol></pre><p>Once you have your binary file properly opened in the right mode, you can
use all the same Perl I/O functions as you used on text files.  However,
you may wish to use the fixed-size <code class="inline"><a class="l_k" href="functions/read.html">read</a></code> instead of the variable-sized
<code class="inline"><a class="l_k" href="functions/readline.html">readline</a></code> for your input.</p>
<p>Here's an example of how to copy a binary file:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$BUFSIZ</span>   = <span class="n">64</span> * <span class="s">(</span><span class="n">2</span> ** <span class="n">10</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$name_in</span>  = <span class="q">&quot;/some/input/file&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$name_out</span> = <span class="q">&quot;/some/output/flie&quot;</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/my.html">my</a><span class="s">(</span><span class="i">$in_fh</span><span class="cm">,</span> <span class="i">$out_fh</span><span class="cm">,</span> <span class="i">$buffer</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="i">$in_fh</span><span class="cm">,</span>  <span class="q">&quot;&lt;&quot;</span><span class="cm">,</span> <span class="i">$name_in</span><span class="s">)</span></li><li>        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;$0: cannot open $name_in for reading: $!&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><span class="i">$out_fh</span><span class="cm">,</span> <span class="q">&quot;&gt;&quot;</span><span class="cm">,</span> <span class="i">$name_out</span><span class="s">)</span></li><li>        || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;$0: cannot open $name_out for writing: $!&quot;</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/for.html">for</a> <a class="l_k" href="functions/my.html">my</a> <span class="i">$fh</span> <span class="s">(</span><span class="i">$in_fh</span><span class="cm">,</span> <span class="i">$out_fh</span><span class="s">)</span>  <span class="s">{</span></li><li>        <a class="l_k" href="functions/binmode.html">binmode</a><span class="s">(</span><span class="i">$fh</span><span class="s">)</span>               || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;binmode failed&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li></li><li>    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><a class="l_k" href="functions/read.html">read</a><span class="s">(</span><span class="i">$in_fh</span><span class="cm">,</span> <span class="i">$buffer</span><span class="cm">,</span> <span class="i">$BUFSIZ</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span></li><li>        <a class="l_k" href="functions/unless.html">unless</a> <span class="s">(</span><a class="l_k" href="functions/print.html">print</a> <span class="i">$out_fh</span> <span class="i">$buffer</span><span class="s">)</span> <span class="s">{</span></li><li>            <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;couldn&#39;t write to $name_out: $!&quot;</span><span class="sc">;</span></li><li>        <span class="s">}</span></li><li>    <span class="s">}</span></li><li></li><li>    <a class="l_k" href="functions/close.html">close</a><span class="s">(</span><span class="i">$in_fh</span><span class="s">)</span>       || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;couldn&#39;t close $name_in: $!&quot;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/close.html">close</a><span class="s">(</span><span class="i">$out_fh</span><span class="s">)</span>      || <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;couldn&#39;t close $name_out: $!&quot;</span><span class="sc">;</span></li></ol></pre><a class='view-head1' id="Opening-Pipes"></a><h2 class='h2' >Opening Pipes</h2>
<p>Perl also lets you open a filehandle into an external program or shell
command rather than into a file. You can do this in order to pass data
from your Perl program to an external command for further processing, or
to receive data from another program for your own Perl program to
process.</p>
<p>Filehandles into commands are also known as <i>pipes</i>, since they work on
similar inter-process communication principles as Unix pipelines. Such a
filehandle has an active program instead of a static file on its
external end, but in every other sense it works just like a more typical
file-based filehandle, with all the techniques discussed earlier in this
article just as applicable.</p>
<p>As such, you open a pipe using the same <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> call that you use for
opening files, setting the second (<code class="inline"><span class="w">MODE</span></code>
) argument to special
characters that indicate either an input or an output pipe. Use <code class="inline"><span class="q">&quot;-|&quot;</span></code>
 for a
filehandle that will let your Perl program read data from an external
program, and <code class="inline"><span class="q">&quot;|-&quot;</span></code>
 for a filehandle that will send data to that
program instead.</p>
<a class='view-head2' id="Opening-a-pipe-for-reading"></a><h3 class='h3' >Opening a pipe for reading</h3>
<p>Let's say you'd like your Perl program to process data stored in a nearby
directory called <code class="inline"><span class="w">unsorted</span></code>
, which contains a number of textfiles.
You'd also like your program to sort all the contents from these files
into a single, alphabetically sorted list of unique lines before it
starts processing them.</p>
<p>You could do this through opening an ordinary filehandle into each of
those files, gradually building up an in-memory array of all the file
contents you load this way, and finally sorting and filtering that array
when you've run out of files to load. <i>Or</i>, you could offload all that
merging and sorting into your operating system's own <code class="inline"><a class="l_k" href="functions/sort.html">sort</a></code> command by
opening a pipe directly into its output, and get to work that much
faster.</p>
<p>Here's how that might look:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><a class="l_k" href="functions/my.html">my</a> <span class="i">$sort_fh</span><span class="cm">,</span> <span class="q">&#39;-|&#39;</span><span class="cm">,</span> <span class="q">&#39;sort -u unsorted/*.txt&#39;</span><span class="s">)</span></li><li>        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;Couldn&#39;t open a pipe into sort: $!&quot;</span><span class="sc">;</span></li><li></li><li>    <span class="c"># And right away, we can start reading sorted lines:</span></li><li>    <a class="l_k" href="functions/while.html">while</a> <span class="s">(</span><a class="l_k" href="functions/my.html">my</a> <span class="i">$line</span> = <span class="q">&lt;$sort_fh&gt;</span><span class="s">)</span> <span class="s">{</span></li><li>        <span class="c">#</span></li><li>        <span class="c"># ... Do something interesting with each $line here ...</span></li><li>        <span class="c">#</span></li><li>    <span class="s">}</span></li></ol></pre><p>The second argument to <code class="inline"><a class="l_k" href="functions/open.html">open</a></code>, <code class="inline"><span class="q">&quot;-|&quot;</span></code>
, makes it a read-pipe into a
separate program, rather than an ordinary filehandle into a file.</p>
<p>Note that the third argument to <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> is a string containing the
program name (<code class="inline"><a class="l_k" href="functions/sort.html">sort</a></code>) plus all its arguments: in this case, <code class="inline">-u</code>
 to
specify unqiue sort, and then a fileglob specifying the files to sort.
The resulting filehandle <code class="inline"><span class="i">$sort_fh</span></code>
 works just like a read-only (<code class="inline"><span class="q">&quot;&lt;&quot;</span></code>
) filehandle, and your program can subsequently read data
from it as if it were opened onto an ordinary, single file.</p>
<a class='view-head2' id="Opening-a-pipe-for-writing"></a><h3 class='h3' >Opening a pipe for writing</h3>
<p>Continuing the previous example, let's say that your program has
completed its processing, and the results sit in an array called
<code class="inline"><span class="i">@processed</span></code>
. You want to print these lines to a file called
<code class="inline"><span class="w">numbered</span>.<span class="w">txt</span></code>
 with a neatly formatted column of line-numbers.</p>
<p>Certainly you could write your own code to do this &#x2014; or, once again,
you could kick that work over to another program. In this case, <code class="inline"><span class="w">cat</span></code>
,
running with its own <code class="inline">-<span class="w">n</span></code>
 option to activate line numbering, should do
the trick:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><a class="l_k" href="functions/my.html">my</a> <span class="i">$cat_fh</span><span class="cm">,</span> <span class="q">&#39;|-&#39;</span><span class="cm">,</span> <span class="q">&#39;cat -n &gt; numbered.txt&#39;</span><span class="s">)</span></li><li>        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;Couldn&#39;t open a pipe into cat: $!&quot;</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/for.html">for</a> <a class="l_k" href="functions/my.html">my</a> <span class="i">$line</span> <span class="s">(</span><span class="i">@processed</span><span class="s">)</span> <span class="s">{</span></li><li>        <a class="l_k" href="functions/print.html">print</a> <span class="i">$cat_fh</span> <span class="i">$line</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>Here, we use a second <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> argument of <code class="inline"><span class="q">&quot;|-&quot;</span></code>
, signifying that the
filehandle assigned to <code class="inline"><span class="i">$cat_fh</span></code>
 should be a write-pipe. We can then
use it just as we would a write-only ordinary filehandle, including the
basic function of <code class="inline"><a class="l_k" href="functions/print.html">print</a></code>-ing data to it.</p>
<p>Note that the third argument, specifying the command that we wish to
pipe to, sets up <code class="inline"><span class="w">cat</span></code>
 to redirect its output via that <code class="inline"><span class="q">&quot;&gt;&quot;</span></code>

symbol into the file <code class="inline"><span class="w">numbered</span>.<span class="w">txt</span></code>
. This can start to look a little
tricky, because that same symbol would have meant something
entirely different had it showed it in the second argument to <code class="inline"><a class="l_k" href="functions/open.html">open</a></code>!
But here in the third argument, it's simply part of the shell command that
Perl will open the pipe into, and Perl itself doesn't invest any special
meaning to it.</p>
<a class='view-head2' id="Expressing-the-command-as-a-list"></a><h3 class='h3' >Expressing the command as a list</h3>
<p>For opening pipes, Perl offers the option to call <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> with a list
comprising the desired command and all its own arguments as separate
elements, rather than combining them into a single string as in the
examples above. For instance, we could have phrased the <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> call in
the first example like this:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/open.html">open</a><span class="s">(</span><a class="l_k" href="functions/my.html">my</a> <span class="i">$sort_fh</span><span class="cm">,</span> <span class="q">&#39;-|&#39;</span><span class="cm">,</span> <span class="q">&#39;sort&#39;</span><span class="cm">,</span> <span class="q">&#39;-u&#39;</span><span class="cm">,</span> <a class="l_k" href="functions/glob.html">glob</a><span class="s">(</span><span class="q">&#39;unsorted/*.txt&#39;</span><span class="s">)</span><span class="s">)</span></li><li>        <a class="l_k" href="functions/or.html">or</a> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;Couldn&#39;t open a pipe into sort: $!&quot;</span><span class="sc">;</span></li></ol></pre><p>When you call <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> this way, Perl invokes the given command directly,
bypassing the shell. As such, the shell won't try to interpret any
special characters within the command's argument list, which might
overwise have unwanted effects. This can make for safer, less
error-prone <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> calls, useful in cases such as passing in variables
as arguments, or even just referring to filenames with spaces in them.</p>
<p>However, when you <i>do</i> want to pass a meaningful metacharacter to the
shell, such with the <code class="inline"><span class="q">&quot;*&quot;</span></code>
 inside that final <code class="inline"><span class="w">unsorted</span><span class="q">/*.txt</span></code>
 argument
here, you can't use this alternate syntax. In this case, we have worked
around it via Perl's handy <code class="inline"><a class="l_k" href="functions/glob.html">glob</a></code> built-in function, which evaluates
its argument into a list of filenames &#x2014; and we can safely pass that
resulting list right into <code class="inline"><a class="l_k" href="functions/open.html">open</a></code>, as shown above.</p>
<p>Note also that representing piped-command arguments in list form like
this doesn't work on every platform. It will work on any Unix-based OS
that provides a real <code class="inline"><a class="l_k" href="functions/fork.html">fork</a></code> function (e.g. macOS or Linux), as well as
on Windows when running Perl 5.22 or later.</p>
<a class='view-head1' id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p>The full documentation for <a class='function-name' href="functions/open.html">open FILEHANDLE,MODE,EXPR</a>
provides a thorough reference to this function, beyond the best-practice
basics covered here.</p>
<a class='view-head1' id="AUTHOR-and-COPYRIGHT"></a><h2 class='h2' >AUTHOR and COPYRIGHT</h2>
<p>Copyright 2013 Tom Christiansen; now maintained by Perl5 Porters</p>
<p>This documentation is free; you can redistribute it and/or modify it under
the same terms as Perl itself.</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Opening-Text-Files">Opening Text Files</a></li><ul><li><a href="#Opening-Text-Files-for-Reading">Opening Text Files for Reading</a></li><li><a href="#Opening-Text-Files-for-Writing">Opening Text Files for Writing</a></li></ul><li><a href="#Opening-Binary-Files">Opening Binary Files</a></li><li><a href="#Opening-Pipes">Opening Pipes</a></li><ul><li><a href="#Opening-a-pipe-for-reading">Opening a pipe for reading</a></li><li><a href="#Opening-a-pipe-for-writing">Opening a pipe for writing</a></li><li><a href="#Expressing-the-command-as-a-list">Expressing the command as a list</a></li></ul><li><a href="#SEE-ALSO">SEE ALSO</a></li><li><a href="#AUTHOR-and-COPYRIGHT">AUTHOR and COPYRIGHT</a></li></ul>


                  </div>
                </article>
              </div>
            </div>
          </main>
        </div>
           <footer class="footer row bg-light pt-5 pb-5">
       <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
           <div class="row">
               <div class="col-md-4">
                   <ul class="list-unstyled">
                       <li>
                           <h4>Site info</h4>
                       </li>
                       <li>Docs mantained by
                           <a href="//lists.perl.org/list/perl5-porters.html"
                               rel="noopener">Perl 5 Porters</a>
                       </li>
                       <li>Perldoc site development sponsored by
                           <a href="//opusvl.com" rel="noopener">
                           <img style="margin: 20px 20px 5px 10px" class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo">
                        </a>
                    <li><span class="about_perldoc"><a href="//about.html">About PerlDOC</a></span>
                    </li>
                       </li>
                   </ul>
               </div>
               <div class="col-md-8">
                   <div class="row">
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Manuals</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/index-overview.html">Overview</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/index-tutorials.html">Tutorials</a>
                               </li>
                               <li>
                                   <a href="/5.32.0/index-faq.html">FAQs</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/index-history.html">Changes</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Reference</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/index-language.html">Language</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/index-functions.html">Functions</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/perlop.html">Operators</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/perlvar.html">Variables</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Modules</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/index-modules-A.html">Modules</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/index-pragmas.html">Pragmas</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/index-utilities.html">Utilities</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Misc</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/index-licence.html">License</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/index-internals.html">Internals</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.32.0/index-platforms.html">Platforms</a>
                               </li>
                            <li>
                                <a
                                    href="/5.32.0/index-about.html">About</a>
                            </li>
                           </ul>
                       </div>
                   </div>
               </div>
               <div class=" col-12 footer-inf text-center">
                   <small>perldoc.perl.org - Official documentation for the Perl
                       programming language</small>
               </div>
           </div>
       </div>
   </footer>

        	<div class="beta-wrapper beta-bottom-right ">
		<div class="beta beta-blue  ">
			<a class="beta-link "
				href="//github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
				<span class="beta-text">
					This website is a Beta release.
				</span>
				<span class="beta-text">
					For any issues please raise a ticket on GitHub
				</span>
			</a>
		</div>
	</div>

        <script src="/public/js/main.min.js"></script>
      </body>

      </html>
