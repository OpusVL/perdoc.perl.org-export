      
      
      
      

      <!DOCTYPE html>
      <html lang="en">

      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="perlmod - perldoc.perl.org">
        <link rel="icon" href="/public/img/favicon.ico">
        <title>perlmod - perldoc.perl.org</title>
        <link href="/public/css/main.min.css" rel="stylesheet">
        <link rel="canonical" href="/perlmod.html">
        <link
          href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900'
          rel='stylesheet' type='text/css'>
        <script>
          window.ga = window.ga || function () {
            (ga.q = ga.q || []).push(arguments)
          };
          ga.l = +new Date;
          ga('create', 'UA-1892152-2', 'auto'); // JJ's account
          ga('create', 'UA-50555-3', 'auto', 'perlOrg'); // perl.org account
          ga('require', 'outboundLinkTracker', {
            events: ['click', 'auxclick', 'contextmenu'],
          });
          ga('require', 'maxScrollTracker');
          ga('send', 'pageview');
          ga('perlOrg.send', 'pageview');
        </script>
        <script async src="https://www.google-analytics.com/analytics.js">
        </script>
        <script async src="/public/js/tracking.min.js"></script>
      </head>

      <body class="body container-fluid ">
        <div class="wrapper">

          <nav
    class="navbar navbar-dark bg-primary bg-perl fixed-top justify-content-between navbar-expand-lg">
    <a href="#content" class="skippy sr-only sr-only-focusable">
        <span class=' skippy-text'>Skip to main content</span>
    </a>
    <a class="navbar-brand" href="/">
        <img class="logo" src="/public/img/logo_perl_doc.svg"
            alt="Perl Documentation Logo" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#navbar" aria-controls="navbar" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ">
        <ul class="navbar-nav ml-auto navbar-right">
            <form class="nav-item dropdown search-wrapper">
                <input type="text" id='searchinput' aria-describedby='navbarDropdown5'
                    placeholder="Type query" class='search-input-field' value=''>

                <button href="#" data-toggle='dropdown' type="button"
                    aria-haspopup="true" aria-expanded='false' id="navbarDropdown5"
                    class="nav-link dropdown-toggle search-link">
                    <object tabindex='-1' focusable="false" class='search-icon'
                        data="/public/img/search.svg" type="image/svg+xml"
                        name='search icon'>search
                        icon</object>
                </button>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown5"
                    id='search-results'>
                    <p class='dropdown-item major-version'>
                        No results
                    </p>
                </div>
            </form>
            <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    
                        <p class='dropdown-item major-version'>
                            5.32
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.32.0/">5.32.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.30
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.30.3/">5.30.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.2/">5.30.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.1/">5.30.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.0/">5.30.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.28
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.28.3/">5.28.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.2/">5.28.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.1/">5.28.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.0/">5.28.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.26
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.26.3/">5.26.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.2/">5.26.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.1/">5.26.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.0/">5.26.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.24
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.24.4/">5.24.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.3/">5.24.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.2/">5.24.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.1/">5.24.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.0/">5.24.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.22
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.22.4/">5.22.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.3/">5.22.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.2/">5.22.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.1/">5.22.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.0/">5.22.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.20
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.20.3/">5.20.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.2/">5.20.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.1/">5.20.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.0/">5.20.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.18
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.18.4/">5.18.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.3/">5.18.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.2/">5.18.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.1/">5.18.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.0/">5.18.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.16
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.16.3/">5.16.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.2/">5.16.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.1/">5.16.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.0/">5.16.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.14
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.14.4/">5.14.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.3/">5.14.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.2/">5.14.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.1/">5.14.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.0/">5.14.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.12
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.12.5/">5.12.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.4/">5.12.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.3/">5.12.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.2/">5.12.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.1/">5.12.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.0/">5.12.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.10
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.10.1/">5.10.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.10.0/">5.10.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.8
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.8.9/">5.8.9</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.8/">5.8.8</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.7/">5.8.7</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.6/">5.8.6</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.5/">5.8.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.4/">5.8.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.3/">5.8.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.2/">5.8.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.1/">5.8.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.0/">5.8.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.6
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.6.2/">5.6.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.1/">5.6.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.0/">5.6.0</a>
                        
                        
                    
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                    <a class="dropdown-item"
                        href="/5.12.5/index-overview.html">Overview</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-tutorials.html">Tutorials</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-faq.html">FAQs</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-history.html">Changes</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-licence.html">License</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-language.html">Language</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-functions.html">Functions</a>
                    <a class="dropdown-item"
                        href="/5.12.5/perlop.html">Operators</a>
                    <a class="dropdown-item"
                        href="/5.12.5/perlvar.html">Variables</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-pragmas.html">Pragmas</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-utilities.html">Utilities</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-internals.html">Internals</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-platforms.html">Platforms</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3"
                    class="dropdown-menu letters-wrap">
                    <!--<a class="dropdown-item"
                        href="/5.12.5/index-modules.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-modules-by-cat.html">By
                        Category</a>-->
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-A.html">A</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-B.html">B</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-C.html">C</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-D.html">D</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-E.html">E</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-F.html">F</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-G.html">G</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-H.html">H</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-I.html">I</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-J.html">J</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-K.html">K</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-L.html">L</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-M.html">M</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-N.html">N</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-O.html">O</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-P.html">P</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-Q.html">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-R.html">R</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-S.html">S</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-T.html">T</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-U.html">U</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-V.html">V</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-W.html">W</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-X.html">X</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-Y.html">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-Z.html">Z</a>
                    </div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown4" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Functions</a>
                <div aria-labelledby="navbarDropdown4"
                    class="dropdown-menu letters-wrap">
                    <a class="dropdown-item"
                        href="/5.12.5/index-functions.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-functions-by-cat.html">By
                        Category</a>
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#A">A</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#B">B</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#C">C</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#D">D</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#E">E</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#F">F</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#G">G</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#H">H</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#I">I</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#J">J</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#K">K</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#L">L</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#M">M</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#N">N</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#O">O</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#P">P</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#Q">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#R">R</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#S">S</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#T">T</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#U">U</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#V">V</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#W">W</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#X">X</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#Y">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#Z">Z</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!--/.nav-collapse -->
</nav>


          <main class="row main-content pb-5 pt-5" id='content'>
            <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
              <div class="row">
                <div class="col-sm-12">
                  <div id="breadcrumbs">
                      
    <a href="index.html">Home</a>&nbsp; &gt;
    
      
        <a href="index-language.html">Language reference</a> &gt;
      
    
    perlmod
  

                  </div>
                </div>
              </div>
              <div class="row">
                <article class="col-sm-12 content">
                  <div class="documentation-wrapper">
                    <div id="perl_version">
                      <h7 class='page-title'> Perl 5 version 12.5
                        documentation</h7>
                    </div>
                    <h1>perlmod</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><ul><li><a href="#Packages">Packages
    </a></li><li><a href="#Symbol-Tables">Symbol Tables
      </a></li><li><a href="#BEGIN%2c-UNITCHECK%2c-CHECK%2c-INIT-and-END">BEGIN, UNITCHECK, CHECK, INIT and END
    </a></li><li><a href="#Perl-Classes">Perl Classes
 </a></li><li><a href="#Perl-Modules">Perl Modules
</a></li><li><a href="#Making-your-module-threadsafe">Making your module threadsafe
 
 
    </a></li></ul><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul><a class='view-head1' id="NAME"></a><h2 class='h2' >NAME</h2>
<p>perlmod - Perl modules (packages and symbol tables)</p>
<a class='view-head1' id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<a class='view-head2' id="Packages"></a><h3 class='h3' >Packages
    </h3>
<p>Perl provides a mechanism for alternative namespaces to protect
packages from stomping on each other's variables.  In fact, there's
really no such thing as a global variable in Perl.  The package
statement declares the compilation unit as being in the given
namespace.  The scope of the package declaration is from the
declaration itself through the end of the enclosing block, <code class="inline"><a class="l_k" href="functions/eval.html">eval</a></code>,
or file, whichever comes first (the same scope as the my() and
local() operators).  Unqualified dynamic identifiers will be in
this namespace, except for those few identifiers that if unqualified,
default to the main package instead of the current one as described
below.  A package statement affects only dynamic variables--including
those you've used local() on--but <i>not</i> lexical variables created
with my().  Typically it would be the first declaration in a file
included by the <code class="inline"><a class="l_k" href="functions/do.html">do</a></code>, <code class="inline"><a class="l_k" href="functions/require.html">require</a></code>, or <code class="inline"><a class="l_k" href="functions/use.html">use</a></code> operators.  You can
switch into a package in more than one place; it merely influences
which symbol table is used by the compiler for the rest of that
block.  You can refer to variables and filehandles in other packages
by prefixing the identifier with the package name and a double
colon: <code class="inline"><span class="i">$Package::Variable</span></code>
.  If the package name is null, the
<code class="inline"><span class="w">main</span></code>
 package is assumed.  That is, <code class="inline"><span class="i">$::sail</span></code>
 is equivalent to
<code class="inline"><span class="i">$main::sail</span></code>
.</p>
<p>The old package delimiter was a single quote, but double colon is now the
preferred delimiter, in part because it's more readable to humans, and
in part because it's more readable to <strong>emacs</strong> macros.  It also makes C++
programmers feel like they know what's going on--as opposed to using the
single quote as separator, which was there to make Ada programmers feel
like they knew what was going on.  Because the old-fashioned syntax is still
supported for backwards compatibility, if you try to use a string like
<code class="inline"><span class="q">&quot;This is $owner&#39;s house&quot;</span></code>
, you'll be accessing <code class="inline"><span class="i">$owner::s</span></code>
; that is,
the $s variable in package <code class="inline"><span class="w">owner</span></code>
, which is probably not what you meant.
Use braces to disambiguate, as in <code class="inline"><span class="q">&quot;This is ${owner}&#39;s house&quot;</span></code>
.
 </p>
<p>Packages may themselves contain package separators, as in
<code class="inline"><span class="i">$OUTER::INNER::var</span></code>
.  This implies nothing about the order of
name lookups, however.  There are no relative packages: all symbols
are either local to the current package, or must be fully qualified
from the outer package name down.  For instance, there is nowhere
within package <code class="inline"><span class="w">OUTER</span></code>
 that <code class="inline"><span class="i">$INNER::var</span></code>
 refers to
<code class="inline"><span class="i">$OUTER::INNER::var</span></code>
.  <code class="inline"><span class="w">INNER</span></code>
 refers to a totally
separate global package.</p>
<p>Only identifiers starting with letters (or underscore) are stored
in a package's symbol table.  All other symbols are kept in package
<code class="inline"><span class="w">main</span></code>
, including all punctuation variables, like $_.  In addition,
when unqualified, the identifiers STDIN, STDOUT, STDERR, ARGV,
ARGVOUT, ENV, INC, and SIG are forced to be in package <code class="inline"><span class="w">main</span></code>
,
even when used for other purposes than their built-in ones.  If you
have a package called <code class="inline"><a class="l_k" href="functions/m.html">m</a></code>, <code class="inline"><a class="l_k" href="functions/s.html">s</a></code>, or <code class="inline"><a class="l_k" href="functions/y.html">y</a></code>, then you can't use the
qualified form of an identifier because it would be instead interpreted
as a pattern match, a substitution, or a transliteration.
</p>
<p>Variables beginning with underscore used to be forced into package
main, but we decided it was more useful for package writers to be able
to use leading underscore to indicate private variables and method names.
However, variables and functions named with a single <code class="inline"><span class="w">_</span></code>
, such as
$_ and <code class="inline"><a name="_"></a>sub <span class="m">_</span></code>
, are still forced into the package <code class="inline"><span class="w">main</span></code>
.  See also
<a href="perlvar.html#Technical-Note-on-the-Syntax-of-Variable-Names">Technical Note on the Syntax of Variable Names in perlvar</a>.</p>
<p><code class="inline"><a class="l_k" href="functions/eval.html">eval</a></code>ed strings are compiled in the package in which the eval() was
compiled.  (Assignments to <code class="inline"><span class="i">$SIG</span>{}</code>
, however, assume the signal
handler specified is in the <code class="inline"><span class="w">main</span></code>
 package.  Qualify the signal handler
name if you wish to have a signal handler in a package.)  For an
example, examine <i>perldb.pl</i> in the Perl library.  It initially switches
to the <code class="inline"><span class="w">DB</span></code>
 package so that the debugger doesn't interfere with variables
in the program you are trying to debug.  At various points, however, it
temporarily switches back to the <code class="inline"><span class="w">main</span></code>
 package to evaluate various
expressions in the context of the <code class="inline"><span class="w">main</span></code>
 package (or wherever you came
from).  See <a href="perldebug.html">perldebug</a>.</p>
<p>The special symbol <code class="inline"><span class="w">__PACKAGE__</span></code>
 contains the current package, but cannot
(easily) be used to construct variable names.</p>
<p>See <a href="perlsub.html">perlsub</a> for other scoping issues related to my() and local(),
and <a href="perlref.html">perlref</a> regarding closures.</p>
<a class='view-head2' id="Symbol-Tables"></a><h3 class='h3' >Symbol Tables
      </h3>
<p>The symbol table for a package happens to be stored in the hash of that
name with two colons appended.  The main symbol table's name is thus
<code class="inline"><span class="i">%main::</span></code>
, or <code class="inline"><span class="i">%::</span></code>
 for short.  Likewise the symbol table for the nested
package mentioned earlier is named <code class="inline"><span class="i">%OUTER::INNER::</span></code>
.</p>
<p>The value in each entry of the hash is what you are referring to when you
use the <code class="inline"><span class="i">*name</span></code>
 typeglob notation.</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/local.html">local</a> <span class="i">*main::foo</span>    = <span class="i">*main::bar</span><span class="sc">;</span></li></ol></pre><p>You can use this to print out all the variables in a package, for
instance.  The standard but antiquated <i>dumpvar.pl</i> library and
the CPAN module Devel::Symdump make use of this.</p>
<p>Assignment to a typeglob performs an aliasing operation, i.e.,</p>
<pre class="verbatim"><ol><li>    <span class="i">*dick</span> = <span class="i">*richard</span><span class="sc">;</span></li></ol></pre><p>causes variables, subroutines, formats, and file and directory handles
accessible via the identifier <code class="inline"><span class="w">richard</span></code>
 also to be accessible via the
identifier <code class="inline"><span class="w">dick</span></code>
.  If you want to alias only a particular variable or
subroutine, assign a reference instead:</p>
<pre class="verbatim"><ol><li>    <span class="i">*dick</span> = \<span class="i">$richard</span><span class="sc">;</span></li></ol></pre><p>Which makes $richard and $dick the same variable, but leaves
@richard and @dick as separate arrays.  Tricky, eh?</p>
<p>There is one subtle difference between the following statements:</p>
<pre class="verbatim"><ol><li>    <span class="i">*foo</span> = <span class="i">*bar</span><span class="sc">;</span></li><li>    <span class="i">*foo</span> = \<span class="i">$bar</span><span class="sc">;</span></li></ol></pre><p><code class="inline"><span class="i">*foo</span> = <span class="i">*bar</span></code>
 makes the typeglobs themselves synonymous while
<code class="inline"><span class="i">*foo</span> = \<span class="i">$bar</span></code>
 makes the SCALAR portions of two distinct typeglobs
refer to the same scalar value. This means that the following code:</p>
<pre class="verbatim"><ol><li>    <span class="i">$bar</span> = <span class="n">1</span><span class="sc">;</span></li><li>    <span class="i">*foo</span> = \<span class="i">$bar</span><span class="sc">;</span>       <span class="c"># Make $foo an alias for $bar</span></li><li></li><li>    <span class="s">{</span></li><li>        <a class="l_k" href="functions/local.html">local</a> <span class="i">$bar</span> = <span class="n">2</span><span class="sc">;</span> <span class="c"># Restrict changes to block</span></li><li>        <a class="l_k" href="functions/print.html">print</a> <span class="i">$foo</span><span class="sc">;</span>     <span class="c"># Prints &#39;1&#39;!</span></li><li>    <span class="s">}</span></li></ol></pre><p>Would print '1', because <code class="inline"><span class="i">$foo</span></code>
 holds a reference to the <i>original</i>
<code class="inline"><span class="i">$bar</span></code>
. The one that was stuffed away by <code class="inline"><a class="l_k" href="functions/local.html">local()</a></code> and which will be
restored when the block ends. Because variables are accessed through the
typeglob, you can use <code class="inline"><span class="i">*foo</span> = <span class="i">*bar</span></code>
 to create an alias which can be
localized. (But be aware that this means you can't have a separate
<code class="inline"><span class="i">@foo</span></code>
 and <code class="inline"><span class="i">@bar</span></code>
, etc.)</p>
<p>What makes all of this important is that the Exporter module uses glob
aliasing as the import/export mechanism. Whether or not you can properly
localize a variable that has been exported from a module depends on how
it was exported:</p>
<pre class="verbatim"><ol><li>    <span class="i">@EXPORT</span> = <span class="q">qw($FOO)</span><span class="sc">;</span> <span class="c"># Usual form, can&#39;t be localized</span></li><li>    <span class="i">@EXPORT</span> = <span class="q">qw(*FOO)</span><span class="sc">;</span> <span class="c"># Can be localized</span></li></ol></pre><p>You can work around the first case by using the fully qualified name
(<code class="inline"><span class="i">$Package::FOO</span></code>
) where you need a local value, or by overriding it
by saying <code class="inline"><span class="i">*FOO</span> = <span class="i">*Package::FOO</span></code>
 in your script.</p>
<p>The <code class="inline"><span class="i">*x</span> = \<span class="i">$y</span></code>
 mechanism may be used to pass and return cheap references
into or from subroutines if you don't want to copy the whole
thing.  It only works when assigning to dynamic variables, not
lexicals.</p>
<pre class="verbatim"><ol><li>    <span class="i">%some_hash</span> = <span class="s">(</span><span class="s">)</span><span class="sc">;</span>			<span class="c"># can&#39;t be my()</span></li><li>    <span class="i">*some_hash</span> = <span class="i">fn</span><span class="s">(</span> \<span class="i">%another_hash</span> <span class="s">)</span><span class="sc">;</span></li><li><a name="fn"></a>    sub <span class="m">fn</span> <span class="s">{</span></li><li>	<a class="l_k" href="functions/local.html">local</a> <span class="i">*hashsym</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>	<span class="c"># now use %hashsym normally, and you</span></li><li>	<span class="c"># will affect the caller&#39;s %another_hash</span></li><li>	<a class="l_k" href="functions/my.html">my</a> <span class="i">%nhash</span> = <span class="s">(</span><span class="s">)</span><span class="sc">;</span> <span class="c"># do what you want</span></li><li>	<a class="l_k" href="functions/return.html">return</a> \<span class="i">%nhash</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>On return, the reference will overwrite the hash slot in the
symbol table specified by the *some_hash typeglob.  This
is a somewhat tricky way of passing around references cheaply
when you don't want to have to remember to dereference variables
explicitly.</p>
<p>Another use of symbol tables is for making "constant" scalars.
 </p>
<pre class="verbatim"><ol><li>    <span class="i">*PI</span> = \<span class="n">3.14159265358979</span><span class="sc">;</span></li></ol></pre><p>Now you cannot alter <code class="inline"><span class="i">$PI</span></code>
, which is probably a good thing all in all.
This isn't the same as a constant subroutine, which is subject to
optimization at compile-time.  A constant subroutine is one prototyped
to take no arguments and to return a constant expression.  See
<a href="perlsub.html">perlsub</a> for details on these.  The <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">constant</span></code>
 pragma is a
convenient shorthand for these.</p>
<p>You can say <code class="inline"><span class="i">*foo</span>{<span class="w">PACKAGE</span>}</code>
 and <code class="inline"><span class="i">*foo</span>{<span class="w">NAME</span>}</code>
 to find out what name and
package the *foo symbol table entry comes from.  This may be useful
in a subroutine that gets passed typeglobs as arguments:</p>
<pre class="verbatim"><ol><li><a name="identify_typeglob"></a>    sub <span class="m">identify_typeglob</span> <span class="s">{</span></li><li>        <a class="l_k" href="functions/my.html">my</a> <span class="i">$glob</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>        <a class="l_k" href="functions/print.html">print</a> <span class="q">&#39;You gave me &#39;</span><span class="cm">,</span> <span class="i">*</span>{<span class="i">$glob</span>}{<span class="w">PACKAGE</span>}<span class="cm">,</span> <span class="q">&#39;::&#39;</span><span class="cm">,</span> <span class="i">*</span>{<span class="i">$glob</span>}{<span class="w">NAME</span>}<span class="cm">,</span> <span class="q">&quot;\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li>    <span class="i">identify_typeglob</span> <span class="i">*foo</span><span class="sc">;</span></li><li>    <span class="i">identify_typeglob</span> <span class="i">*bar::baz</span><span class="sc">;</span></li></ol></pre><p>This prints</p>
<pre class="verbatim"><ol><li>    <span class="w">You</span> <span class="w">gave</span> <span class="w">me</span> <span class="w">main::foo</span></li><li>    <span class="w">You</span> <span class="w">gave</span> <span class="w">me</span> <span class="w">bar::baz</span></li></ol></pre><p>The <code class="inline"><span class="i">*foo</span>{<span class="w">THING</span>}</code>
 notation can also be used to obtain references to the
individual elements of *foo.  See <a href="perlref.html">perlref</a>.</p>
<p>Subroutine definitions (and declarations, for that matter) need
not necessarily be situated in the package whose symbol table they
occupy.  You can define a subroutine outside its package by
explicitly qualifying the name of the subroutine:</p>
<pre class="verbatim"><ol><li><a name="package-main"></a>    package <span class="i">main</span><span class="sc">;</span></li><li><a name="Some_package::foo"></a>    sub <span class="m">Some_package::foo</span> <span class="s">{</span> ... <span class="s">}</span>   <span class="c"># &amp;foo defined in Some_package</span></li></ol></pre><p>This is just a shorthand for a typeglob assignment at compile time:</p>
<pre class="verbatim"><ol><li>    BEGIN <span class="s">{</span> <span class="i">*Some_package::foo</span> = <a class="l_k" href="functions/sub.html">sub</a> <span class="s">{</span> ... <span class="s">}</span> <span class="s">}</span></li></ol></pre><p>and is <i>not</i> the same as writing:</p>
<pre class="verbatim"><ol><li>    <span class="s">{</span></li><li><a name="package-Some_package"></a>	package <span class="i">Some_package</span><span class="sc">;</span></li><li><a name="foo"></a>	sub <span class="m">foo</span> <span class="s">{</span> ... <span class="s">}</span></li><li><a name="package-main"></a>    <span class="s">}</span></li></ol></pre><p>In the first two versions, the body of the subroutine is
lexically in the main package, <i>not</i> in Some_package. So
something like this:</p>
<pre class="verbatim"><ol><li><a name="package-main"></a>    package <span class="i">main</span><span class="sc">;</span></li><li></li><li>    <span class="i">$Some_package::name</span> = <span class="q">&quot;fred&quot;</span><span class="sc">;</span></li><li>    <span class="i">$main::name</span> = <span class="q">&quot;barney&quot;</span><span class="sc">;</span></li><li></li><li><a name="Some_package::foo"></a>    sub <span class="m">Some_package::foo</span> <span class="s">{</span></li><li>	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;in &quot;</span><span class="cm">,</span> <span class="w">__PACKAGE__</span><span class="cm">,</span> <span class="q">&quot;: \$name is &#39;$name&#39;\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li></li><li>    <span class="i">Some_package::foo</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>prints:</p>
<pre class="verbatim"><ol><li>    <span class="w">in</span> <span class="w">main</span><span class="co">:</span> <span class="i">$name</span> <span class="w">is</span> <span class="q">&#39;barney&#39;</span></li></ol></pre><p>rather than:</p>
<pre class="verbatim"><ol><li>    <span class="w">in</span> <span class="w">Some_package</span><span class="co">:</span> <span class="i">$name</span> <span class="w">is</span> <span class="q">&#39;fred&#39;</span></li></ol></pre><p>This also has implications for the use of the SUPER:: qualifier
(see <a href="perlobj.html">perlobj</a>).</p>
<a class='view-head2' id="BEGIN%2c-UNITCHECK%2c-CHECK%2c-INIT-and-END"></a><h3 class='h3' >BEGIN, UNITCHECK, CHECK, INIT and END
    </h3>
<p>Five specially named code blocks are executed at the beginning and at
the end of a running Perl program.  These are the <code class="inline">BEGIN</code>
,
<code class="inline">UNITCHECK</code>
, <code class="inline">CHECK</code>
, <code class="inline">INIT</code>
, and <code class="inline">END</code>
 blocks.</p>
<p>These code blocks can be prefixed with <code class="inline"><a class="l_k" href="functions/sub.html">sub</a></code> to give the appearance of a
subroutine (although this is not considered good style).  One should note
that these code blocks don't really exist as named subroutines (despite
their appearance). The thing that gives this away is the fact that you can
have <strong>more than one</strong> of these code blocks in a program, and they will get
<strong>all</strong> executed at the appropriate moment.  So you can't execute any of
these code blocks by name.</p>
<p>A <code class="inline">BEGIN</code>
 code block is executed as soon as possible, that is, the moment
it is completely defined, even before the rest of the containing file (or
string) is parsed.  You may have multiple <code class="inline">BEGIN</code>
 blocks within a file (or
eval'ed string); they will execute in order of definition.  Because a <code class="inline">BEGIN</code>

code block executes immediately, it can pull in definitions of subroutines
and such from other files in time to be visible to the rest of the compile
and run time.  Once a <code class="inline">BEGIN</code>
 has run, it is immediately undefined and any
code it used is returned to Perl's memory pool.</p>
<p>An <code class="inline">END</code>
 code block is executed as late as possible, that is, after
perl has finished running the program and just before the interpreter
is being exited, even if it is exiting as a result of a die() function.
(But not if it's morphing into another program via <code class="inline"><a class="l_k" href="functions/exec.html">exec</a></code>, or
being blown out of the water by a signal--you have to trap that yourself
(if you can).)  You may have multiple <code class="inline">END</code>
 blocks within a file--they
will execute in reverse order of definition; that is: last in, first
out (LIFO).  <code class="inline">END</code>
 blocks are not executed when you run perl with the
<code class="inline">-c</code>
 switch, or if compilation fails.</p>
<p>Note that <code class="inline">END</code>
 code blocks are <strong>not</strong> executed at the end of a string
<code class="inline"><a class="l_k" href="functions/eval.html">eval()</a></code>: if any <code class="inline">END</code>
 code blocks are created in a string <code class="inline"><a class="l_k" href="functions/eval.html">eval()</a></code>,
they will be executed just as any other <code class="inline">END</code>
 code block of that package
in LIFO order just before the interpreter is being exited.</p>
<p>Inside an <code class="inline">END</code>
 code block, <code class="inline"><span class="i">$?</span></code>
 contains the value that the program is
going to pass to <code class="inline"><a class="l_k" href="functions/exit.html">exit()</a></code>.  You can modify <code class="inline"><span class="i">$?</span></code>
 to change the exit
value of the program.  Beware of changing <code class="inline"><span class="i">$?</span></code>
 by accident (e.g. by
running something via <code class="inline"><a class="l_k" href="functions/system.html">system</a></code>).
</p>
<p><code class="inline">UNITCHECK</code>
, <code class="inline">CHECK</code>
 and <code class="inline">INIT</code>
 code blocks are useful to catch the
transition between the compilation phase and the execution phase of
the main program.</p>
<p><code class="inline">UNITCHECK</code>
 blocks are run just after the unit which defined them has
been compiled.  The main program file and each module it loads are
compilation units, as are string <code class="inline"><a class="l_k" href="functions/eval.html">eval</a></code>s, code compiled using the
<code class="inline"><span class="s">(</span><span class="q">?{ })</span></code>
 construct in a regex, calls to <code class="inline"><a class="l_k" href="functions/do.html">do</a> <span class="w">FILE</span></code>
, <code class="inline"><a class="l_k" href="functions/require.html">require</a> <span class="w">FILE</span></code>
,
and code after the <code class="inline">-e</code>
 switch on the command line.</p>
<p><code class="inline">CHECK</code>
 code blocks are run just after the <strong>initial</strong> Perl compile phase ends
and before the run time begins, in LIFO order.  <code class="inline">CHECK</code>
 code blocks are used
in the Perl compiler suite to save the compiled state of the program.</p>
<p><code class="inline">INIT</code>
 blocks are run just before the Perl runtime begins execution, in
"first in, first out" (FIFO) order.</p>
<p>The <code class="inline">CHECK</code>
 and <code class="inline">INIT</code>
 code blocks will not be executed inside a string
eval(), if that eval() happens after the end of the main compilation
phase; that can be a problem in mod_perl and other persistent environments
which use <code class="inline"><a class="l_k" href="functions/eval.html">eval</a> <span class="w">STRING</span></code>
 to load code at runtime.</p>
<p>When you use the <strong>-n</strong> and <strong>-p</strong> switches to Perl, <code class="inline">BEGIN</code>
 and
<code class="inline">END</code>
 work just as they do in <strong>awk</strong>, as a degenerate case.
Both <code class="inline">BEGIN</code>
 and <code class="inline">CHECK</code>
 blocks are run when you use the <strong>-c</strong>
switch for a compile-only syntax check, although your main code
is not.</p>
<p>The <strong>begincheck</strong> program makes it all clear, eventually:</p>
<pre class="verbatim"><ol><li>  <span class="c">#!/usr/bin/perl</span></li><li></li><li>  <span class="c"># begincheck</span></li><li></li><li>  <a class="l_k" href="functions/print.html">print</a>         <span class="q">&quot;10. Ordinary code runs at runtime.\n&quot;</span><span class="sc">;</span></li><li></li><li>  END <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a>   <span class="q">&quot;16.   So this is the end of the tale.\n&quot;</span> <span class="s">}</span></li><li>  INIT <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a>  <span class="q">&quot; 7. INIT blocks run FIFO just before runtime.\n&quot;</span> <span class="s">}</span></li><li>  UNITCHECK <span class="s">{</span></li><li>    <a class="l_k" href="functions/print.html">print</a>       <span class="q">&quot; 4.   And therefore before any CHECK blocks.\n&quot;</span></li><li>  <span class="s">}</span></li><li>  CHECK <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot; 6.   So this is the sixth line.\n&quot;</span> <span class="s">}</span></li><li></li><li>  <a class="l_k" href="functions/print.html">print</a>         <span class="q">&quot;11.   It runs in order, of course.\n&quot;</span><span class="sc">;</span></li><li></li><li>  BEGIN <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot; 1. BEGIN blocks run FIFO during compilation.\n&quot;</span> <span class="s">}</span></li><li>  END <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a>   <span class="q">&quot;15.   Read perlmod for the rest of the story.\n&quot;</span> <span class="s">}</span></li><li>  CHECK <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot; 5. CHECK blocks run LIFO after all compilation.\n&quot;</span> <span class="s">}</span></li><li>  INIT <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a>  <span class="q">&quot; 8.   Run this again, using Perl&#39;s -c switch.\n&quot;</span> <span class="s">}</span></li><li></li><li>  <a class="l_k" href="functions/print.html">print</a>         <span class="q">&quot;12.   This is anti-obfuscated code.\n&quot;</span><span class="sc">;</span></li><li></li><li>  END <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a>   <span class="q">&quot;14. END blocks run LIFO at quitting time.\n&quot;</span> <span class="s">}</span></li><li>  BEGIN <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot; 2.   So this line comes out second.\n&quot;</span> <span class="s">}</span></li><li>  UNITCHECK <span class="s">{</span></li><li>   <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot; 3. UNITCHECK blocks run LIFO after each file is compiled.\n&quot;</span></li><li>  <span class="s">}</span></li><li>  INIT <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a>  <span class="q">&quot; 9.   You&#39;ll see the difference right away.\n&quot;</span> <span class="s">}</span></li><li></li><li>  <a class="l_k" href="functions/print.html">print</a>         <span class="q">&quot;13.   It merely _looks_ like it should be confusing.\n&quot;</span><span class="sc">;</span></li><li></li><li><a name="__END__"></a>  __END__</li></ol></pre><a class='view-head2' id="Perl-Classes"></a><h3 class='h3' >Perl Classes
 </h3>
<p>There is no special class syntax in Perl, but a package may act
as a class if it provides subroutines to act as methods.  Such a
package may also derive some of its methods from another class (package)
by listing the other package name(s) in its global @ISA array (which
must be a package global, not a lexical).</p>
<p>For more on this, see <a href="perltoot.html">perltoot</a> and <a href="perlobj.html">perlobj</a>.</p>
<a class='view-head2' id="Perl-Modules"></a><h3 class='h3' >Perl Modules
</h3>
<p>A module is just a set of related functions in a library file, i.e.,
a Perl package with the same name as the file.  It is specifically
designed to be reusable by other modules or programs.  It may do this
by providing a mechanism for exporting some of its symbols into the
symbol table of any package using it, or it may function as a class
definition and make its semantics available implicitly through
method calls on the class and its objects, without explicitly
exporting anything.  Or it can do a little of both.</p>
<p>For example, to start a traditional, non-OO module called Some::Module,
create a file called <i>Some/Module.pm</i> and start with this template:</p>
<pre class="verbatim"><ol><li><a name="package-Some::Module"></a>    package <span class="i">Some::Module</span><span class="sc">;</span>  <span class="c"># assumes Some/Module.pm</span></li><li></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">strict</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">warnings</span><span class="sc">;</span></li><li></li><li>    BEGIN <span class="s">{</span></li><li>        <a class="l_k" href="functions/use.html">use</a> <span class="w">Exporter</span>   <span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li>        <a class="l_k" href="functions/our.html">our</a> <span class="s">(</span><span class="i">$VERSION</span><span class="cm">,</span> <span class="i">@ISA</span><span class="cm">,</span> <span class="i">@EXPORT</span><span class="cm">,</span> <span class="i">@EXPORT_OK</span><span class="cm">,</span> <span class="i">%EXPORT_TAGS</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>        <span class="c"># set the version for version checking</span></li><li>        <span class="i">$VERSION</span>     = <span class="n">1.00</span><span class="sc">;</span></li><li>        <span class="c"># if using RCS/CVS, this may be preferred</span></li><li>        <span class="i">$VERSION</span> = <a class="l_k" href="functions/sprintf.html">sprintf</a> <span class="q">&quot;%d.%03d&quot;</span><span class="cm">,</span> <span class="q">q$Revision: 1.1 $</span> =~ <span class="q">/(\d+)/g</span><span class="sc">;</span></li><li></li><li>        <span class="i">@ISA</span>         = <span class="q">qw(Exporter)</span><span class="sc">;</span></li><li>        <span class="i">@EXPORT</span>      = <span class="q">qw(&amp;func1 &amp;func2 &amp;func4)</span><span class="sc">;</span></li><li>        <span class="i">%EXPORT_TAGS</span> = <span class="s">(</span> <span class="s">)</span><span class="sc">;</span>     <span class="c"># eg: TAG =&gt; [ qw!name1 name2! ],</span></li><li></li><li>        <span class="c"># your exported package globals go here,</span></li><li>        <span class="c"># as well as any optionally exported functions</span></li><li>        <span class="i">@EXPORT_OK</span>   = <span class="q">qw($Var1 %Hashit &amp;func3)</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li>    <a class="l_k" href="functions/our.html">our</a> <span class="i">@EXPORT_OK</span><span class="sc">;</span></li><li></li><li>    <span class="c"># exported package globals go here</span></li><li>    <a class="l_k" href="functions/our.html">our</a> <span class="i">$Var1</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/our.html">our</a> <span class="i">%Hashit</span><span class="sc">;</span></li><li></li><li>    <span class="c"># non-exported package globals go here</span></li><li>    <a class="l_k" href="functions/our.html">our</a> <span class="i">@more</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/our.html">our</a> <span class="i">$stuff</span><span class="sc">;</span></li><li></li><li>    <span class="c"># initialize package globals, first exported ones</span></li><li>    <span class="i">$Var1</span>   = <span class="q">&#39;&#39;</span><span class="sc">;</span></li><li>    <span class="i">%Hashit</span> = <span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <span class="c"># then the others (which are still accessible as $Some::Module::stuff)</span></li><li>    <span class="i">$stuff</span>  = <span class="q">&#39;&#39;</span><span class="sc">;</span></li><li>    <span class="i">@more</span>   = <span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <span class="c"># all file-scoped lexicals must be created before</span></li><li>    <span class="c"># the functions below that use them.</span></li><li></li><li>    <span class="c"># file-private lexicals go here</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$priv_var</span>    = <span class="q">&#39;&#39;</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">%secret_hash</span> = <span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <span class="c"># here&#39;s a file-private function as a closure,</span></li><li>    <span class="c"># callable as &amp;$priv_func;  it cannot be prototyped.</span></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">$priv_func</span> = <a class="l_k" href="functions/sub.html">sub</a> <span class="s">{</span></li><li>        <span class="c"># stuff goes here.</span></li><li>    <span class="s">}</span><span class="sc">;</span></li><li></li><li>    <span class="c"># make all your functions, whether exported or not;</span></li><li>    <span class="c"># remember to put something interesting in the {} stubs</span></li><li><a name="func1"></a>    sub <span class="m">func1</span>      <span class="s">{</span><span class="s">}</span>    <span class="c"># no prototype</span></li><li><a name="func2"></a>    sub <span class="m">func2()</span>    <span class="s">{</span><span class="s">}</span>    <span class="c"># proto&#39;d void</span></li><li><a name="func3"></a>    sub <span class="m">func3($$)</span>  <span class="s">{</span><span class="s">}</span>    <span class="c"># proto&#39;d to 2 scalars</span></li><li></li><li>    <span class="c"># this one isn&#39;t exported, but could be called!</span></li><li><a name="func4"></a>    sub <span class="m">func4(\%)</span>  <span class="s">{</span><span class="s">}</span>    <span class="c"># proto&#39;d to 1 hash ref</span></li><li></li><li>    END <span class="s">{</span> <span class="s">}</span>       <span class="c"># module clean-up code here (global destructor)</span></li><li></li><li>    <span class="c">## YOUR CODE GOES HERE</span></li><li></li><li>    <span class="n">1</span><span class="sc">;</span>  <span class="c"># don&#39;t forget to return a true value from the file</span></li></ol></pre><p>Then go on to declare and use your variables in functions without
any qualifications.  See <a href="Exporter.html">Exporter</a> and the <a href="perlmodlib.html">perlmodlib</a> for
details on mechanics and style issues in module creation.</p>
<p>Perl modules are included into your program by saying</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">Module</span><span class="sc">;</span></li></ol></pre><p>or</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">Module</span> <span class="w">LIST</span><span class="sc">;</span></li></ol></pre><p>This is exactly equivalent to</p>
<pre class="verbatim"><ol><li>    BEGIN <span class="s">{</span> <a class="l_k" href="functions/require.html">require</a> <span class="w">Module</span><span class="sc">;</span> <span class="w">import</span> <span class="w">Module</span><span class="sc">;</span> <span class="s">}</span></li></ol></pre><p>or</p>
<pre class="verbatim"><ol><li>    BEGIN <span class="s">{</span> <a class="l_k" href="functions/require.html">require</a> <span class="w">Module</span><span class="sc">;</span> <span class="w">import</span> <span class="w">Module</span> <span class="w">LIST</span><span class="sc">;</span> <span class="s">}</span></li></ol></pre><p>As a special case</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">Module</span> <span class="s">(</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>is exactly equivalent to</p>
<pre class="verbatim"><ol><li>    BEGIN <span class="s">{</span> <a class="l_k" href="functions/require.html">require</a> <span class="w">Module</span><span class="sc">;</span> <span class="s">}</span></li></ol></pre><p>All Perl module files have the extension <i>.pm</i>.  The <code class="inline"><a class="l_k" href="functions/use.html">use</a></code> operator
assumes this so you don't have to spell out "<i>Module.pm</i>" in quotes.
This also helps to differentiate new modules from old <i>.pl</i> and
<i>.ph</i> files.  Module names are also capitalized unless they're
functioning as pragmas; pragmas are in effect compiler directives,
and are sometimes called "pragmatic modules" (or even "pragmata"
if you're a classicist).</p>
<p>The two statements:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/require.html">require</a> <span class="w">SomeModule</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/require.html">require</a> <span class="q">&quot;SomeModule.pm&quot;</span><span class="sc">;</span></li></ol></pre><p>differ from each other in two ways.  In the first case, any double
colons in the module name, such as <code class="inline"><span class="w">Some::Module</span></code>
, are translated
into your system's directory separator, usually "/".   The second
case does not, and would have to be specified literally.  The other
difference is that seeing the first <code class="inline"><a class="l_k" href="functions/require.html">require</a></code> clues in the compiler
that uses of indirect object notation involving "SomeModule", as
in <code class="inline"><span class="i">$ob</span> = <span class="w">purge</span> <span class="w">SomeModule</span></code>
, are method calls, not function calls.
(Yes, this really can make a difference.)</p>
<p>Because the <code class="inline"><a class="l_k" href="functions/use.html">use</a></code> statement implies a <code class="inline">BEGIN</code>
 block, the importing
of semantics happens as soon as the <code class="inline"><a class="l_k" href="functions/use.html">use</a></code> statement is compiled,
before the rest of the file is compiled.  This is how it is able
to function as a pragma mechanism, and also how modules are able to
declare subroutines that are then visible as list or unary operators for
the rest of the current file.  This will not work if you use <code class="inline"><a class="l_k" href="functions/require.html">require</a></code>
instead of <code class="inline"><a class="l_k" href="functions/use.html">use</a></code>.  With <code class="inline"><a class="l_k" href="functions/require.html">require</a></code> you can get into this problem:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/require.html">require</a> <span class="w">Cwd</span><span class="sc">;</span>		<span class="c"># make Cwd:: accessible</span></li><li>    <span class="i">$here</span> = <span class="i">Cwd::getcwd</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">Cwd</span><span class="sc">;</span>			<span class="c"># import names from Cwd::</span></li><li>    <span class="i">$here</span> = <span class="i">getcwd</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/require.html">require</a> <span class="w">Cwd</span><span class="sc">;</span>	    	<span class="c"># make Cwd:: accessible</span></li><li>    <span class="i">$here</span> = <span class="i">getcwd</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span> 		<span class="c"># oops! no main::getcwd()</span></li></ol></pre><p>In general, <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">Module</span> <span class="s">(</span><span class="s">)</span></code>
 is recommended over <code class="inline"><a class="l_k" href="functions/require.html">require</a> <span class="w">Module</span></code>
,
because it determines module availability at compile time, not in the
middle of your program's execution.  An exception would be if two modules
each tried to <code class="inline"><a class="l_k" href="functions/use.html">use</a></code> each other, and each also called a function from
that other module.  In that case, it's easy to use <code class="inline"><a class="l_k" href="functions/require.html">require</a></code> instead.</p>
<p>Perl packages may be nested inside other package names, so we can have
package names containing <code class="inline"><span class="w">::</span></code>
.  But if we used that package name
directly as a filename it would make for unwieldy or impossible
filenames on some systems.  Therefore, if a module's name is, say,
<code class="inline"><span class="w">Text::Soundex</span></code>
, then its definition is actually found in the library
file <i>Text/Soundex.pm</i>.</p>
<p>Perl modules always have a <i>.pm</i> file, but there may also be
dynamically linked executables (often ending in <i>.so</i>) or autoloaded
subroutine definitions (often ending in <i>.al</i>) associated with the
module.  If so, these will be entirely transparent to the user of
the module.  It is the responsibility of the <i>.pm</i> file to load
(or arrange to autoload) any additional functionality.  For example,
although the POSIX module happens to do both dynamic loading and
autoloading, the user can say just <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">POSIX</span></code>
 to get it all.</p>
<a class='view-head2' id="Making-your-module-threadsafe"></a><h3 class='h3' >Making your module threadsafe
 
 
    </h3>
<p>Since 5.6.0, Perl has had support for a new type of threads called
interpreter threads (ithreads). These threads can be used explicitly
and implicitly.</p>
<p>Ithreads work by cloning the data tree so that no data is shared
between different threads. These threads can be used by using the <code class="inline"><span class="w">threads</span></code>

module or by doing fork() on win32 (fake fork() support). When a
thread is cloned all Perl data is cloned, however non-Perl data cannot
be cloned automatically.  Perl after 5.7.2 has support for the <code class="inline"><span class="w">CLONE</span></code>

special subroutine.  In <code class="inline"><span class="w">CLONE</span></code>
 you can do whatever
you need to do,
like for example handle the cloning of non-Perl data, if necessary.
<code class="inline"><span class="w">CLONE</span></code>
 will be called once as a class method for every package that has it
defined (or inherits it).  It will be called in the context of the new thread,
so all modifications are made in the new area.  Currently CLONE is called with
no parameters other than the invocant package name, but code should not assume
that this will remain unchanged, as it is likely that in future extra parameters
will be passed in to give more information about the state of cloning.</p>
<p>If you want to CLONE all objects you will need to keep track of them per
package. This is simply done using a hash and Scalar::Util::weaken().</p>
<p>Perl after 5.8.7 has support for the <code class="inline"><span class="w">CLONE_SKIP</span></code>
 special subroutine.
Like <code class="inline"><span class="w">CLONE</span></code>
, <code class="inline"><span class="w">CLONE_SKIP</span></code>
 is called once per package; however, it is
called just before cloning starts, and in the context of the parent
thread. If it returns a true value, then no objects of that class will
be cloned; or rather, they will be copied as unblessed, undef values.
For example: if in the parent there are two references to a single blessed
hash, then in the child there will be two references to a single undefined
scalar value instead.
This provides a simple mechanism for making a module threadsafe; just add
<code class="inline"><a name="CLONE_SKIP"></a>sub <span class="m">CLONE_SKIP</span> <span class="s">{</span> <span class="n">1</span> <span class="s">}</span></code>
 at the top of the class, and <code class="inline">DESTROY<span class="s">(</span><span class="s">)</span></code>
 will be
now only be called once per object. Of course, if the child thread needs
to make use of the objects, then a more sophisticated approach is
needed.</p>
<p>Like <code class="inline"><span class="w">CLONE</span></code>
, <code class="inline"><span class="w">CLONE_SKIP</span></code>
 is currently called with no parameters other
than the invocant package name, although that may change. Similarly, to
allow for future expansion, the return value should be a single <code class="inline"><span class="n">0</span></code>
 or
<code class="inline"><span class="n">1</span></code>
 value.</p>
<a class='view-head1' id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p>See <a href="perlmodlib.html">perlmodlib</a> for general style issues related to building Perl
modules and classes, as well as descriptions of the standard library
and CPAN, <a href="Exporter.html">Exporter</a> for how Perl's standard import/export mechanism
works, <a href="perltoot.html">perltoot</a> and <a href="perltooc.html">perltooc</a> for an in-depth tutorial on
creating classes, <a href="perlobj.html">perlobj</a> for a hard-core reference document on
objects, <a href="perlsub.html">perlsub</a> for an explanation of functions and scoping,
and <a href="perlxstut.html">perlxstut</a> and <a href="perlguts.html">perlguts</a> for more information on writing
extension modules.</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><ul><li><a href="#Packages">Packages
    </a></li><li><a href="#Symbol-Tables">Symbol Tables
      </a></li><li><a href="#BEGIN%2c-UNITCHECK%2c-CHECK%2c-INIT-and-END">BEGIN, UNITCHECK, CHECK, INIT and END
    </a></li><li><a href="#Perl-Classes">Perl Classes
 </a></li><li><a href="#Perl-Modules">Perl Modules
</a></li><li><a href="#Making-your-module-threadsafe">Making your module threadsafe
 
 
    </a></li></ul><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul>


                  </div>
                </article>
              </div>
            </div>
          </main>
        </div>
           <footer class="footer row bg-light pt-5 pb-5">
       <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
           <div class="row">
               <div class="col-md-4">
                   <ul class="list-unstyled">
                       <li>
                           <h4>Site info</h4>
                       </li>
                       <li>Docs mantained by
                           <a href="//lists.perl.org/list/perl5-porters.html"
                               rel="noopener">Perl 5 Porters</a>
                       </li>
                       <li>Perldoc site development sponsored by
                           <a href="//opusvl.com" rel="noopener">
                           <img style="margin: 20px 20px 5px 10px" class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo">
                        </a>
                    <li><span class="about_perldoc"><a href="//about.html">About PerlDOC</a></span>
                    </li>
                       </li>
                   </ul>
               </div>
               <div class="col-md-8">
                   <div class="row">
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Manuals</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-overview.html">Overview</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-tutorials.html">Tutorials</a>
                               </li>
                               <li>
                                   <a href="/5.12.5/index-faq.html">FAQs</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-history.html">Changes</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Reference</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-language.html">Language</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-functions.html">Functions</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/perlop.html">Operators</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/perlvar.html">Variables</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Modules</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-modules-A.html">Modules</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-pragmas.html">Pragmas</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-utilities.html">Utilities</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Misc</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-licence.html">License</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-internals.html">Internals</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-platforms.html">Platforms</a>
                               </li>
                            <li>
                                <a
                                    href="/5.12.5/index-about.html">About</a>
                            </li>
                           </ul>
                       </div>
                   </div>
               </div>
               <div class=" col-12 footer-inf text-center">
                   <small>perldoc.perl.org - Official documentation for the Perl
                       programming language</small>
               </div>
           </div>
       </div>
   </footer>

        	<div class="beta-wrapper beta-bottom-right ">
		<div class="beta beta-blue  ">
			<a class="beta-link "
				href="//github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
				<span class="beta-text">
					This website is a Beta release.
				</span>
				<span class="beta-text">
					For any issues please raise a ticket on GitHub
				</span>
			</a>
		</div>
	</div>

        <script src="/public/js/main.min.js"></script>
      </body>

      </html>
