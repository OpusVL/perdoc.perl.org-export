      
      
      
      

      <!DOCTYPE html>
      <html lang="en">

      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="perlrepository - perldoc.perl.org">
        <link rel="icon" href="/public/img/favicon.ico">
        <title>perlrepository - perldoc.perl.org</title>
        <link href="/public/css/main.min.css" rel="stylesheet">
        <link rel="canonical" href="/perlrepository.html">
        <link
          href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900'
          rel='stylesheet' type='text/css'>
        <script>
          window.ga = window.ga || function () {
            (ga.q = ga.q || []).push(arguments)
          };
          ga.l = +new Date;
          ga('create', 'UA-1892152-2', 'auto'); // JJ's account
          ga('create', 'UA-50555-3', 'auto', 'perlOrg'); // perl.org account
          ga('require', 'outboundLinkTracker', {
            events: ['click', 'auxclick', 'contextmenu'],
          });
          ga('require', 'maxScrollTracker');
          ga('send', 'pageview');
          ga('perlOrg.send', 'pageview');
        </script>
        <script async src="https://www.google-analytics.com/analytics.js">
        </script>
        <script async src="/public/js/tracking.min.js"></script>
      </head>

      <body class="body container-fluid ">
        <div class="wrapper">

          <nav
    class="navbar navbar-dark bg-primary bg-perl fixed-top justify-content-between navbar-expand-lg">
    <a href="#content" class="skippy sr-only sr-only-focusable">
        <span class=' skippy-text'>Skip to main content</span>
    </a>
    <a class="navbar-brand" href="/">
        <img class="logo" src="/public/img/logo_perl_doc.svg"
            alt="Perl Documentation Logo" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#navbar" aria-controls="navbar" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ">
        <ul class="navbar-nav ml-auto navbar-right">
            <form class="nav-item dropdown search-wrapper">
                <input type="text" id='searchinput' aria-describedby='navbarDropdown5'
                    placeholder="Type query" class='search-input-field' value=''>

                <button href="#" data-toggle='dropdown' type="button"
                    aria-haspopup="true" aria-expanded='false' id="navbarDropdown5"
                    class="nav-link dropdown-toggle search-link">
                    <object tabindex='-1' focusable="false" class='search-icon'
                        data="/public/img/search.svg" type="image/svg+xml"
                        name='search icon'>search
                        icon</object>
                </button>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown5"
                    id='search-results'>
                    <p class='dropdown-item major-version'>
                        No results
                    </p>
                </div>
            </form>
            <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    
                        <p class='dropdown-item major-version'>
                            5.32
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.32.0/">5.32.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.30
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.30.3/">5.30.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.2/">5.30.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.1/">5.30.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.0/">5.30.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.28
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.28.3/">5.28.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.2/">5.28.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.1/">5.28.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.0/">5.28.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.26
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.26.3/">5.26.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.2/">5.26.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.1/">5.26.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.0/">5.26.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.24
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.24.4/">5.24.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.3/">5.24.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.2/">5.24.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.1/">5.24.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.0/">5.24.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.22
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.22.4/">5.22.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.3/">5.22.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.2/">5.22.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.1/">5.22.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.0/">5.22.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.20
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.20.3/">5.20.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.2/">5.20.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.1/">5.20.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.0/">5.20.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.18
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.18.4/">5.18.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.3/">5.18.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.2/">5.18.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.1/">5.18.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.0/">5.18.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.16
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.16.3/">5.16.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.2/">5.16.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.1/">5.16.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.0/">5.16.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.14
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.14.4/">5.14.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.3/">5.14.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.2/">5.14.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.1/">5.14.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.0/">5.14.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.12
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.12.5/">5.12.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.4/">5.12.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.3/">5.12.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.2/">5.12.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.1/">5.12.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.0/">5.12.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.10
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.10.1/">5.10.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.10.0/">5.10.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.8
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.8.9/">5.8.9</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.8/">5.8.8</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.7/">5.8.7</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.6/">5.8.6</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.5/">5.8.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.4/">5.8.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.3/">5.8.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.2/">5.8.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.1/">5.8.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.0/">5.8.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.6
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.6.2/">5.6.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.1/">5.6.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.0/">5.6.0</a>
                        
                        
                    
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                    <a class="dropdown-item"
                        href="/5.12.5/index-overview.html">Overview</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-tutorials.html">Tutorials</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-faq.html">FAQs</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-history.html">Changes</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-licence.html">License</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-language.html">Language</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-functions.html">Functions</a>
                    <a class="dropdown-item"
                        href="/5.12.5/perlop.html">Operators</a>
                    <a class="dropdown-item"
                        href="/5.12.5/perlvar.html">Variables</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-pragmas.html">Pragmas</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-utilities.html">Utilities</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-internals.html">Internals</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-platforms.html">Platforms</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3"
                    class="dropdown-menu letters-wrap">
                    <!--<a class="dropdown-item"
                        href="/5.12.5/index-modules.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-modules-by-cat.html">By
                        Category</a>-->
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-A.html">A</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-B.html">B</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-C.html">C</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-D.html">D</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-E.html">E</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-F.html">F</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-G.html">G</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-H.html">H</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-I.html">I</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-J.html">J</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-K.html">K</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-L.html">L</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-M.html">M</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-N.html">N</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-O.html">O</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-P.html">P</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-Q.html">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-R.html">R</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-S.html">S</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-T.html">T</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-U.html">U</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-V.html">V</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-W.html">W</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-X.html">X</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-Y.html">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-modules-Z.html">Z</a>
                    </div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown4" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Functions</a>
                <div aria-labelledby="navbarDropdown4"
                    class="dropdown-menu letters-wrap">
                    <a class="dropdown-item"
                        href="/5.12.5/index-functions.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.12.5/index-functions-by-cat.html">By
                        Category</a>
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#A">A</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#B">B</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#C">C</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#D">D</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#E">E</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#F">F</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#G">G</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#H">H</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#I">I</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#J">J</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#K">K</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#L">L</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#M">M</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#N">N</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#O">O</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#P">P</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#Q">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#R">R</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#S">S</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#T">T</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#U">U</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#V">V</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#W">W</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#X">X</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#Y">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.12.5/index-functions.html#Z">Z</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!--/.nav-collapse -->
</nav>


          <main class="row main-content pb-5 pt-5" id='content'>
            <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
              <div class="row">
                <div class="col-sm-12">
                  <div id="breadcrumbs">
                      
    <a href="index.html">Home</a>&nbsp; &gt;
    
      
        <a href="index-internals.html">Internals and C language interface</a> &gt;
      
    
    perlrepository
  

                  </div>
                </div>
              </div>
              <div class="row">
                <article class="col-sm-12 content">
                  <div class="documentation-wrapper">
                    <div id="perl_version">
                      <h7 class='page-title'> Perl 5 version 12.5
                        documentation</h7>
                    </div>
                    <h1>perlrepository</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#Getting-access-to-the-repository">Getting access to the repository</a></li><ul><li><a href="#Read-access-via-the-web">Read access via the web</a></li><li><a href="#Read-access-via-Git">Read access via Git</a></li><li><a href="#Write-access-to-the-repository">Write access to the repository</a></li><li><a href="#A-note-on-camel-and-dromedary">A note on camel and dromedary</a></li></ul><li><a href="#Overview-of-the-repository">Overview of the repository</a></li><ul><li><a href="#Finding-out-your-status">Finding out your status</a></li></ul><li><a href="#Submitting-a-patch">Submitting a patch</a></li><ul><li><a href="#Using-git-to-send-patch-emails">Using git to send patch emails</a></li><li><a href="#A-note-on-derived-files">A note on derived files</a></li><li><a href="#Getting-your-patch-accepted">Getting your patch accepted</a></li></ul><li><a href="#Accepting-a-patch">Accepting a patch</a></li><li><a href="#Cleaning-a-working-directory">Cleaning a working directory</a></li><li><a href="#Bisecting">Bisecting</a></li><li><a href="#Submitting-a-patch-via-GitHub">Submitting a patch via GitHub</a></li><li><a href="#Merging-from-a-branch-via-GitHub">Merging from a branch via GitHub</a></li><li><a href="#Topic-branches-and-rewriting-history">Topic branches and rewriting history</a></li><li><a href="#Committing-to-maintenance-versions">Committing to maintenance versions</a></li><li><a href="#Grafts">Grafts</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul><a class='view-head1' id="NAME"></a><h2 class='h2' >NAME</h2>
<p>perlrepository - Using the Perl source repository</p>
<a class='view-head1' id="SYNOPSIS"></a><h2 class='h2' >SYNOPSIS</h2>
<p>All of Perl's source code is kept centrally in a Git repository at
<i>perl5.git.perl.org</i>. The repository contains many Perl revisions from
Perl 1 onwards and all the revisions from Perforce, the version control
system we were using previously. This repository is accessible in
different ways.</p>
<p>The full repository takes up about 80MB of disk space. A check out of
the blead branch (that is, the main development branch, which contains
bleadperl, the development version of perl 5) takes up about 160MB of
disk space (including the repository). A build of bleadperl takes up
about 200MB (including the repository and the check out).</p>
<a class='view-head1' id="Getting-access-to-the-repository"></a><h2 class='h2' >Getting access to the repository</h2>
<a class='view-head2' id="Read-access-via-the-web"></a><h3 class='h3' >Read access via the web</h3>
<p>You may access the repository over the web. This allows you to browse
the tree, see recent commits, subscribe to RSS feeds for the changes,
search for particular commits and more. You may access it at:</p>
<pre class="verbatim"><ol><li>  <span class="j">http:</span><span class="q">//perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span>/<span class="w">perl</span>.<span class="w">git</span></li></ol></pre><p>A mirror of the repository is found at:</p>
<pre class="verbatim"><ol><li>  <span class="j">http:</span><span class="q">//github</span>.<span class="w">com</span><span class="q">/mirrors/perl</span></li></ol></pre><a class='view-head2' id="Read-access-via-Git"></a><h3 class='h3' >Read access via Git</h3>
<p>You will need a copy of Git for your computer. You can fetch a copy of
the repository using the Git protocol (which uses port 9418):</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">clone</span> <span class="w">git</span><span class="co">:</span><span class="q">//perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span>/<span class="w">perl</span>.<span class="w">git</span> <span class="w">perl</span>-<span class="w">git</span></li></ol></pre><p>This clones the repository and makes a local copy in the <i>perl-git</i>
directory.</p>
<p>If your local network does not allow you to use port 9418, then you can
fetch a copy of the repository over HTTP (this is at least 4x slower):</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">clone</span> <span class="w">http</span><span class="co">:</span><span class="q">//perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span>/<span class="w">perl</span>.<span class="w">git</span> <span class="w">perl</span>-<span class="w">http</span></li></ol></pre><p>This clones the repository and makes a local copy in the <i>perl-http</i>
directory.</p>
<a class='view-head2' id="Write-access-to-the-repository"></a><h3 class='h3' >Write access to the repository</h3>
<p>If you are a committer, then you can fetch a copy of the repository
that you can push back on with:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">clone</span> <span class="w">ssh</span><span class="co">:</span><span class="q">//perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span>/<span class="w">perl</span>.<span class="w">git</span> <span class="w">perl</span>-<span class="w">ssh</span></li></ol></pre><p>This clones the repository and makes a local copy in the <i>perl-ssh</i>
directory.</p>
<p>If you cloned using the git protocol, which is faster than ssh, then
you will need to modify the URL for the origin remote to enable
pushing. To do that edit <i>.git/config</i> with git-config(1) like
this:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">config</span> <span class="w">remote</span>.<span class="w">origin</span>.<span class="w">url</span> <span class="w">ssh</span><span class="co">:</span><span class="q">//perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span>/<span class="w">perl</span>.<span class="w">git</span></li></ol></pre><p>You can also set up your user name and e-mail address. Most people do
this once globally in their <i>~/.gitconfig</i> by doing something like:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">config</span> --<span class="w">global</span> <span class="w">user</span>.<span class="w">name</span> <span class="q">&quot;&Atilde;&#134;var Arnfj&Atilde;&para;r&Atilde;&deg; Bjarmason&quot;</span></li><li>  % <span class="w">git</span> <span class="w">config</span> --<span class="w">global</span> <span class="w">user</span>.<span class="w">email</span> <span class="w">avarab</span><span class="i">@gmail</span>.<span class="w">com</span></li></ol></pre><p>However if you'd like to override that just for perl then execute then
execute something like the following in <i>perl-git</i>:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">config</span> <span class="w">user</span>.<span class="w">email</span> <span class="w">avar</span><span class="i">@cpan</span>.<span class="w">org</span></li></ol></pre><p>It is also possible to keep <code class="inline"><span class="w">origin</span></code>
 as a git remote, and add a new
remote for ssh access:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">remote</span> <span class="w">add</span> <span class="w">camel</span> <span class="w">perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span><span class="co">:</span><span class="q">/perl.git</span></li></ol></pre><p>This allows you to update your local repository by pulling from
<code class="inline"><span class="w">origin</span></code>
, which is faster and doesn't require you to authenticate, and
to push your changes back with the <code class="inline"><span class="w">camel</span></code>
 remote:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">fetch</span> <span class="w">camel</span></li><li>  % <span class="w">git</span> <a class="l_k" href="functions/push.html">push</a> <span class="w">camel</span></li></ol></pre><p>The <code class="inline"><span class="w">fetch</span></code>
 command just updates the <code class="inline"><span class="w">camel</span></code>
 refs, as the objects
themselves should have been fetched when pulling from <code class="inline"><span class="w">origin</span></code>
.</p>
<a class='view-head2' id="A-note-on-camel-and-dromedary"></a><h3 class='h3' >A note on camel and dromedary</h3>
<p>The committers have SSH access to the two servers that serve
<code class="inline"><span class="w">perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span></code>
. One is <code class="inline"><span class="w">perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span></code>
 itself (<i>camel</i>),
which is the 'master' repository. The second one is
<code class="inline"><span class="w">users</span>.<span class="w">perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span></code>
 (<i>dromedary</i>), which can be used for
general testing and development. Dromedary syncs the git tree from
camel every few minutes, you should not push there. Both machines also
have a full CPAN mirror in /srv/CPAN, please use this. To share files
with the general public, dromedary serves your ~/public_html/ as
<code class="inline"><a href="http://users.perl5.git.perl.org/~yourlogin/">http://users.perl5.git.perl.org/~yourlogin/</a></code></p>
<p>These hosts have fairly strict firewalls to the outside. Outgoing, only
rsync, ssh and git are allowed. For http and ftp, you can use
<a href="http://webproxy:3128">http://webproxy:3128</a> as proxy. Incoming, the firewall tries to detect
attacks and blocks IP addresses with suspicious activity. This
sometimes (but very rarely) has false positives and you might get
blocked. The quickest way to get unblocked is to notify the admins.</p>
<p>These two boxes are owned, hosted, and operated by booking.com. You can
reach the sysadmins in #p5p on irc.perl.org or via mail to
<code class="inline"><span class="w">perl5</span>-<span class="w">porters</span><span class="i">@perl</span>.<span class="w">org</span></code>
</p>
<a class='view-head1' id="Overview-of-the-repository"></a><h2 class='h2' >Overview of the repository</h2>
<p>Once you have changed into the repository directory, you can inspect
it.</p>
<p>After a clone the repository will contain a single local branch, which
will be the current branch as well, as indicated by the asterisk.</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">branch</span></li><li>  * <span class="w">blead</span></li></ol></pre><p>Using the -a switch to <code class="inline"><span class="w">branch</span></code>
 will also show the remote tracking
branches in the repository:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">branch</span> -<span class="w">a</span></li><li>  * <span class="w">blead</span></li><li>    <span class="w">origin</span>/<span class="w">HEAD</span></li><li>    <span class="w">origin</span>/<span class="w">blead</span></li><li>  ...</li></ol></pre><p>The branches that begin with "origin" correspond to the "git remote"
that you cloned from (which is named "origin"). Each branch on the
remote will be exactly tracked by theses branches. You should NEVER do
work on these remote tracking branches. You only ever do work in a
local branch. Local branches can be configured to automerge (on pull)
from a designated remote tracking branch. This is the case with the
default branch <code class="inline"><span class="w">blead</span></code>
 which will be configured to merge from the
remote tracking branch <code class="inline"><span class="w">origin</span>/<span class="w">blead</span></code>
.</p>
<p>You can see recent commits:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <a class="l_k" href="functions/log.html">log</a></li></ol></pre><p>And pull new changes from the repository, and update your local
repository (must be clean first)</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">pull</span></li></ol></pre><p>Assuming we are on the branch <code class="inline"><span class="w">blead</span></code>
 immediately after a pull, this
command would be more or less equivalent to:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">fetch</span></li><li>  % <span class="w">git</span> <span class="w">merge</span> <span class="w">origin</span>/<span class="w">blead</span></li></ol></pre><p>In fact if you want to update your local repository without touching
your working directory you do:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">fetch</span></li></ol></pre><p>And if you want to update your remote-tracking branches for all defined
remotes simultaneously you can do</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">remote</span> <span class="w">update</span></li></ol></pre><p>Neither of these last two commands will update your working directory,
however both will update the remote-tracking branches in your
repository.</p>
<p>To make a local branch of a remote branch:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">checkout</span> -b <span class="w">maint</span>-<span class="n">5.10</span> <span class="w">origin</span>/<span class="w">maint</span>-<span class="n">5.10</span></li></ol></pre><p>To switch back to blead:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">checkout</span> <span class="w">blead</span></li></ol></pre><a class='view-head2' id="Finding-out-your-status"></a><h3 class='h3' >Finding out your status</h3>
<p>The most common git command you will use will probably be</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">status</span></li></ol></pre><p>This command will produce as output a description of the current state
of the repository, including modified files and unignored untracked
files, and in addition it will show things like what files have been
staged for the next commit, and usually some useful information about
how to change things. For instance the following:</p>
<pre class="verbatim"><ol><li>  <span class="i">$ git</span> <span class="w">status</span></li><li>  <span class="c"># On branch blead</span></li><li>  <span class="c"># Your branch is ahead of &#39;origin/blead&#39; by 1 commit.</span></li><li>  <span class="c">#</span></li><li>  <span class="c"># Changes to be committed:</span></li><li>  <span class="c">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span></li><li>  <span class="c">#</span></li><li>  <span class="c">#       modified:   pod/perlrepository.pod</span></li><li>  <span class="c">#</span></li><li>  <span class="c"># Changed but not updated:</span></li><li>  <span class="c">#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span></li><li>  <span class="c">#</span></li><li>  <span class="c">#       modified:   pod/perlrepository.pod</span></li><li>  <span class="c">#</span></li><li>  <span class="c"># Untracked files:</span></li><li>  <span class="c">#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span></li><li>  <span class="c">#</span></li><li>  <span class="c">#       deliberate.untracked</span></li></ol></pre><p>This shows that there were changes to this document staged for commit,
and that there were further changes in the working directory not yet
staged. It also shows that there was an untracked file in the working
directory, and as you can see shows how to change all of this. It also
shows that there is one commit on the working branch <code class="inline"><span class="w">blead</span></code>
 which has
not been pushed to the <code class="inline"><span class="w">origin</span></code>
 remote yet. <strong>NOTE</strong>: that this output
is also what you see as a template if you do not provide a message to
<code class="inline"><span class="w">git</span> <span class="w">commit</span></code>
.</p>
<p>Assuming that you'd like to commit all the changes you've just made as a
a single atomic unit, run this command:</p>
<pre class="verbatim"><ol><li>   <span class="i">% git</span> <span class="w">commit</span> -<span class="w">a</span></li></ol></pre><p>(That <code class="inline">-<span class="w">a</span></code>
 tells git to add every file you've changed to this commit.
New files aren't automatically added to your commit when you use <code class="inline"><span class="w">commit</span>
-<span class="w">a</span></code>
 If you want to add files or to commit some, but not all of your
changes, have a look at the documentation for <code class="inline"><span class="w">git</span> <span class="w">add</span></code>
.)</p>
<p>Git will start up your favorite text editor, so that you can craft a
commit message for your change. See <a href="#Commit-message">Commit message</a> below for more
information about what makes a good commit message.</p>
<p>Once you've finished writing your commit message and exited your editor,
git will write your change to disk and tell you something like this:</p>
<pre class="verbatim"><ol><li>  <span class="w">Created</span> <span class="w">commit</span> <span class="w">daf8e63</span><span class="co">:</span> <span class="w">explain</span> <span class="w">git</span> <span class="w">status</span> and <span class="w">stuff</span> <span class="w">about</span> <span class="w">remotes</span></li><li>   <span class="n">1</span> <span class="w">files</span> <span class="w">changed</span><span class="cm">,</span> <span class="n">83</span> <span class="i">insertions</span><span class="s">(</span>+<span class="s">)</span><span class="cm">,</span> <span class="n">3</span> <span class="i">deletions</span><span class="s">(</span>-<span class="s">)</span></li></ol></pre><p>If you re-run <code class="inline"><span class="w">git</span> <span class="w">status</span></code>
, you should see something like this:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">status</span></li><li>  <span class="c"># On branch blead</span></li><li>  <span class="c"># Your branch is ahead of &#39;origin/blead&#39; by 2 commits.</span></li><li>  <span class="c">#</span></li><li>  <span class="c"># Untracked files:</span></li><li>  <span class="c">#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span></li><li>  <span class="c">#</span></li><li>  <span class="c">#       deliberate.untracked</span></li><li>  <span class="w">nothing</span> <span class="w">added</span> <span class="w">to</span> <span class="w">commit</span> <span class="w">but</span> <span class="w">untracked</span> <span class="w">files</span> <span class="w">present</span> <span class="s">(</span><a class="l_k" href="functions/use.html">use</a> <span class="q">&quot;git add&quot;</span> <span class="w">to</span> <span class="w">track</span><span class="s">)</span></li></ol></pre><p>When in doubt, before you do anything else, check your status and read
it carefully, many questions are answered directly by the git status
output.</p>
<a class='view-head1' id="Submitting-a-patch"></a><h2 class='h2' >Submitting a patch</h2>
<p>If you have a patch in mind for Perl, you should first get a copy of
the repository:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">clone</span> <span class="w">git</span><span class="co">:</span><span class="q">//perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span>/<span class="w">perl</span>.<span class="w">git</span> <span class="w">perl</span>-<span class="w">git</span></li></ol></pre><p>Then change into the directory:</p>
<pre class="verbatim"><ol><li>  <span class="i">% cd</span> <span class="w">perl</span>-<span class="w">git</span></li></ol></pre><p>Alternatively, if you already have a Perl repository, you should ensure
that you're on the <i>blead</i> branch, and your repository is up to date:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">checkout</span> <span class="w">blead</span></li><li>  % <span class="w">git</span> <span class="w">pull</span></li></ol></pre><p>It's preferable to patch against the latest blead version, since this
is where new development occurs for all changes other than critical bug
fixes.  Critical bug fix patches should be made against the relevant
maint branches, or should be submitted with a note indicating all the
branches where the fix should be applied.</p>
<p>Now that we have everything up to date, we need to create a temporary
new branch for these changes and switch into it:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">checkout</span> -b <span class="w">orange</span></li></ol></pre><p>which is the short form of</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">branch</span> <span class="w">orange</span></li><li>  % <span class="w">git</span> <span class="w">checkout</span> <span class="w">orange</span></li></ol></pre><p>Creating a topic branch makes it easier for the maintainers to rebase
or merge back into the master blead for a more linear history. If you
don't work on a topic branch the maintainer has to manually cherry
pick your changes onto blead before they can be applied.</p>
<p>That'll get you scolded on perl5-porters, so don't do that. Be
Awesome.</p>
<p>Then make your changes. For example, if Leon Brocard changes his name
to Orange Brocard, we should change his name in the AUTHORS file:</p>
<pre class="verbatim"><ol><li>  <span class="i">% perl</span> -<span class="w">pi</span> -e <span class="q">&#39;s{Leon Brocard}{Orange Brocard}&#39;</span> <span class="w">AUTHORS</span></li></ol></pre><p>You can see what files are changed:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">status</span></li><li>  <span class="c"># On branch orange</span></li><li>  <span class="c"># Changes to be committed:</span></li><li>  <span class="c">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span></li><li>  <span class="c">#</span></li><li>  <span class="c">#    modified:   AUTHORS</span></li><li>  <span class="c">#</span></li></ol></pre><p>And you can see the changes:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">diff</span></li><li>  <span class="w">diff</span> --<span class="w">git</span> <span class="w">a</span>/<span class="w">AUTHORS</span> <span class="w">b</span>/<span class="w">AUTHORS</span></li><li>  <a class="l_k" href="functions/index.html">index</a> <span class="n">293</span><span class="w">dd70</span>..<span class="n">722</span><span class="w">c93e</span> <span class="n">100644</span></li><li>  --- <span class="w">a</span>/<span class="w">AUTHORS</span></li><li>  +++ <span class="w">b</span>/<span class="w">AUTHORS</span></li><li>  <span class="i">@@</span> -<span class="n">541</span><span class="cm">,</span><span class="n">7</span> +<span class="n">541</span><span class="cm">,</span><span class="n">7</span> <span class="i">@@</span>    <span class="w">Lars</span> <span class="w">Hecking</span>                   <span class="q">&lt;lhecking@nmrc.ucc.ie&gt;</span></li><li>   <span class="w">Laszlo</span> <span class="w">Molnar</span>                  <span class="q">&lt;laszlo.molnar@eth.ericsson.se&gt;</span></li><li>   <span class="w">Leif</span> <span class="w">Huhn</span>                      <span class="q">&lt;leif@hale.dkstat.com&gt;</span></li><li>   <span class="w">Len</span> <span class="w">Johnson</span>                    <span class="q">&lt;lenjay@ibm.net&gt;</span></li><li>  -<span class="w">Leon</span> <span class="w">Brocard</span>                   <span class="q">&lt;acme@astray.com&gt;</span></li><li>  +<span class="w">Orange</span> <span class="w">Brocard</span>                 <span class="q">&lt;acme@astray.com&gt;</span></li><li>   <span class="w">Les</span> <span class="w">Peters</span>                     <span class="q">&lt;lpeters@aol.net&gt;</span></li><li>   <span class="w">Lesley</span> <span class="w">Binks</span>                   <span class="q">&lt;lesley.binks@gmail.com&gt;</span></li><li>   <span class="w">Lincoln</span> <span class="w">D</span>. <span class="w">Stein</span>               <span class="q">&lt;lstein@cshl.org&gt;</span></li></ol></pre><p>Now commit your change locally:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">commit</span> -<span class="w">a</span> -<span class="q">m &#39;Rename Leon Brocard to Orange Brocard&#39;</span></li><li>  <span class="w">Created</span> <span class="w">commit</span> <span class="n">6196</span><span class="w">c1d</span><span class="co">:</span> <span class="w">Rename</span> <span class="w">Leon</span> <span class="w">Brocard</span> <span class="w">to</span> <span class="w">Orange</span> <span class="w">Brocard</span></li><li>   <span class="n">1</span> <span class="w">files</span> <span class="w">changed</span><span class="cm">,</span> <span class="n">1</span> <span class="i">insertions</span><span class="s">(</span>+<span class="s">)</span><span class="cm">,</span> <span class="n">1</span> <span class="i">deletions</span><span class="s">(</span>-<span class="s">)</span></li></ol></pre><p>You can examine your last commit with:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">show</span> <span class="w">HEAD</span></li></ol></pre><p>and if you are not happy with either the description or the patch
itself you can fix it up by editing the files once more and then issue:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">commit</span> -<span class="w">a</span> --<span class="w">amend</span></li></ol></pre><p>Now you should create a patch file for all your local changes:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> format-patch -M origin..</li><li><span class="hh">  0001-Rename-Leon-Brocard-to-Orange-Brocard.patch</span></li></ol></pre><p>You should now send an email to to
<a class='link-to-page' href="mailto:perlbug@perl.org">perlbug@perl.org</a> with a description of your
changes, and include this patch file as an attachment. In addition to
being tracked by RT, mail to perlbug will automatically be forwarded
to perl5-porters. You should only send patches to
<a class='link-to-page' href="mailto:perl5-porters@perl.org">perl5-porters@perl.org</a> directly if the
patch is not ready to be applied, but intended for discussion.</p>
<p>See the next section for how to configure and use git to send these
emails for you.</p>
<p>If you want to delete your temporary branch, you may do so with:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">checkout</span> <span class="w">blead</span></li><li>  % <span class="w">git</span> <span class="w">branch</span> -d <span class="w">orange</span></li><li>  <span class="w">error</span><span class="co">:</span> <span class="w">The</span> <span class="w">branch</span> <span class="q">&#39;orange&#39;</span> <span class="w">is</span> not <span class="w">an</span> <span class="w">ancestor</span> <span class="w">of</span> <span class="w">your</span> <span class="w">current</span> <span class="w">HEAD</span>.</li><li>  <span class="w">If</span> <span class="w">you</span> <span class="w">are</span> <span class="w">sure</span> <span class="w">you</span> <span class="w">want</span> <span class="w">to</span> <a class="l_k" href="functions/delete.html">delete</a> <span class="w">it</span><span class="cm">,</span> <span class="w">run</span> <span class="q">&#39;git branch -D orange&#39;</span>.</li><li>  <span class="i">% git</span> <span class="w">branch</span> -<span class="w">D</span> <span class="w">orange</span></li><li>  <span class="w">Deleted</span> <span class="w">branch</span> <span class="w">orange</span>.</li></ol></pre><a class='view-head2' id="Using-git-to-send-patch-emails"></a><h3 class='h3' >Using git to send patch emails</h3>
<p>In your ~/git/perl repository, set the destination email to perl's bug
tracker:</p>
<pre class="verbatim"><ol><li>  <span class="i">$ git</span> <span class="w">config</span> <span class="w">sendemail</span>.<span class="w">to</span> <span class="w">perlbug</span><span class="i">@perl</span>.<span class="w">org</span></li></ol></pre><p>Or maybe perl5-porters (discussed above):</p>
<pre class="verbatim"><ol><li>  <span class="i">$ git</span> <span class="w">config</span> <span class="w">sendemail</span>.<span class="w">to</span> <span class="w">perl5</span>-<span class="w">porters</span><span class="i">@perl</span>.<span class="w">org</span></li></ol></pre><p>Then you can use git directly to send your patch emails:</p>
<pre class="verbatim"><ol><li>  <span class="i">$ git</span> <a class="l_k" href="functions/send.html">send</a>-<span class="w">email</span> <span class="n">0001</span>-<span class="w">Rename</span>-<span class="w">Leon</span>-<span class="w">Brocard</span>-<span class="w">to</span>-<span class="w">Orange</span>-<span class="w">Brocard</span>.<span class="w">patch</span></li></ol></pre><p>You may need to set some configuration variables for your particular
email service provider. For example, to set your global git config to
send email via a gmail account:</p>
<pre class="verbatim"><ol><li>  <span class="i">$ git</span> <span class="w">config</span> --<span class="w">global</span> <span class="w">sendemail</span>.<span class="w">smtpserver</span> <span class="w">smtp</span>.<span class="w">gmail</span>.<span class="w">com</span></li><li>  <span class="i">$ git</span> <span class="w">config</span> --<span class="w">global</span> <span class="w">sendemail</span>.<span class="w">smtpssl</span> <span class="n">1</span></li><li>  <span class="i">$ git</span> <span class="w">config</span> --<span class="w">global</span> <span class="w">sendemail</span>.<span class="w">smtpuser</span> <span class="w">YOURUSERNAME</span><span class="i">@gmail</span>.<span class="w">com</span></li></ol></pre><p>With this configuration, you will be prompted for your gmail password
when you run 'git send-email'.  You can also configure
<code class="inline"><span class="w">sendemail</span>.<span class="w">smtppass</span></code>
 with your password if you don't care about having
your password in the .gitconfig file.</p>
<a class='view-head2' id="A-note-on-derived-files"></a><h3 class='h3' >A note on derived files</h3>
<p>Be aware that many files in the distribution are derivative--avoid
patching them, because git won't see the changes to them, and the build
process will overwrite them. Patch the originals instead.  Most
utilities (like perldoc) are in this category, i.e. patch
<i>utils/perldoc.PL</i> rather than <i>utils/perldoc</i>. Similarly, don't create
patches for files under $src_root/ext from their copies found in
$install_root/lib.  If you are unsure about the proper location of a
file that may have gotten copied while building the source
distribution, consult the <code class="inline"><span class="w">MANIFEST</span></code>
.</p>
<p>As a special case, several files are regenerated by 'make regen' if
your patch alters <code class="inline"><span class="w">embed</span>.<span class="w">fnc</span></code>
.  These are needed for compilation, but
are included in the distribution so that you can build perl without
needing another perl to generate the files.  You must test with these
regenerated files, but it is preferred that you instead note that
'make regen is needed' in both the email and the commit message, and
submit your patch without them.  If you're submitting a series of
patches, it might be best to submit the regenerated changes
immediately after the source-changes that caused them, so as to have
as little effect as possible on the bisectability of your patchset.</p>
<a class='view-head2' id="Getting-your-patch-accepted"></a><h3 class='h3' >Getting your patch accepted</h3>
<p>If you are submitting a code patch there are several things that
you need to do.</p>
<ul>
<li><a class='view-title' id="Commit-message"></a><strong>Commit message</strong>
<p>As you craft each patch you intend to submit to the Perl core, it's
important to write a good commit message.</p>
<p>The first line of the commit message should be a short description and
should skip the full stop. It should be no longer than the subject
line of an E-Mail, 50 characters being a good rule of thumb.</p>
<p>A lot of Git tools (Gitweb, GitHub, git log --pretty=oneline, ..) will
only display the first line (cut off at 50 characters) when presenting
commit summaries.</p>
<p>The commit message should include description of the problem that the
patch corrects or new functionality that the patch adds.</p>
<p>As a general rule of thumb, your commit message should let a programmer
with a reasonable familiarity with the Perl core quickly understand what
you were trying to do, how you were trying to do it and why the change
matters to Perl.</p>
<ul>
<li><a class='view-title' id="What"></a><strong>What</strong>
<p>Your commit message should describe what part of the Perl core you're
changing and what you expect your patch to do.</p>
</li>
<li><a class='view-title' id="Why"></a><strong>Why</strong>
<p>Perhaps most importantly, your commit message should describe why the
change you are making is important. When someone looks at your change
in six months or six years, your intent should be clear.  If you're
deprecating a feature with the intent of later simplifying another bit
of code, say so. If you're fixing a performance problem or adding a new
feature to support some other bit of the core, mention that.</p>
</li>
<li><a class='view-title' id="How"></a><strong>How</strong>
<p>While it's not necessary for documentation changes, new tests or
trivial patches, it's often worth explaining how your change works.
Even if it's clear to you today, it may not be clear to a porter next
month or next year.</p>
</li>
</ul>
<p>A commit message isn't intended to take the place of comments in your
code.  Commit messages should describe the change you made, while code
comments should describe the current state of the code.  If you've just
implemented a new feature, complete with doc, tests and well-commented
code, a brief commit message will often suffice.  If, however, you've
just changed a single character deep in the parser or lexer, you might
need to write a small novel to ensure that future readers understand
what you did and why you did it.</p>
</li>
<li><a class='view-title' id="Comments%2c-Comments%2c-Comments"></a><strong>Comments, Comments, Comments</strong>
<p>Be sure to adequately comment your code.  While commenting every line
is unnecessary, anything that takes advantage of side effects of
operators, that creates changes that will be felt outside of the
function being patched, or that others may find confusing should be
documented.  If you are going to err, it is better to err on the side
of adding too many comments than too few.</p>
</li>
<li><a class='view-title' id="Style"></a><strong>Style</strong>
<p>In general, please follow the particular style of the code you are
patching.</p>
<p>In particular, follow these general guidelines for patching Perl
sources:</p>
<pre class="verbatim"><ol><li>    <span class="n">8</span>-<span class="w">wide</span> <span class="w">tabs</span> <span class="s">(</span><a class="l_k" href="functions/no.html">no</a> <span class="w">exceptions</span>!<span class="s">)</span></li><li>    <span class="n">4</span>-<span class="w">wide</span> <span class="w">indents</span> for <span class="w">code</span><span class="cm">,</span> <span class="n">2</span>-<span class="w">wide</span> <span class="w">indents</span> for <span class="w">nested</span> <span class="w">CPP</span> <span class="c">#defines</span></li><li>    <span class="w">try</span> <span class="w">hard</span> not <span class="w">to</span> <span class="w">exceed</span> <span class="n">79</span>-<span class="w">columns</span></li><li>    <span class="w">ANSI</span> <span class="w">C</span> <span class="w">prototypes</span></li><li>    <span class="w">uncuddled</span> <span class="w">elses</span> and <span class="q">&quot;K&amp;R&quot;</span> <span class="w">style</span> for <span class="w">indenting</span> <span class="w">control</span> <span class="w">constructs</span></li><li>    <a class="l_k" href="functions/no.html">no</a> <span class="w">C</span>++ <span class="w">style</span> <span class="s">(</span><span class="q">//</span><span class="s">)</span> <span class="w">comments</span></li><li>    <span class="w">mark</span> <span class="w">places</span> <span class="w">that</span> <span class="w">need</span> <span class="w">to</span> <span class="w">be</span> <span class="w">revisited</span> <span class="w">with</span> <span class="w">XXX</span> <span class="s">(</span>and <span class="w">revisit</span> <span class="w">often</span>!<span class="s">)</span></li><li>    <span class="w">opening</span> <span class="w">brace</span> <span class="w">lines</span> <span class="w">up</span> <span class="w">with</span> <span class="q">&quot;if&quot;</span> when <span class="w">conditional</span> <span class="w">spans</span> <span class="w">multiple</span></li><li>        <span class="w">lines</span><span class="sc">;</span> <span class="w">should</span> <span class="w">be</span> <span class="w">at</span> <span class="w">end</span>-<span class="w">of</span>-<span class="w">line</span> <span class="w">otherwise</span></li><li>    <span class="w">in</span> <span class="w">function</span> <span class="w">definitions</span><span class="cm">,</span> <span class="w">name</span> <span class="w">starts</span> <span class="w">in</span> <span class="w">column</span> <span class="n">0</span> <span class="s">(</span><a class="l_k" href="functions/return.html">return</a> <span class="w">value</span> <span class="w">is</span> <span class="w">on</span></li><li>        <span class="w">previous</span> <span class="w">line</span><span class="s">)</span></li><li>    <span class="w">single</span> <span class="w">space</span> <span class="w">after</span> <span class="w">keywords</span> <span class="w">that</span> <span class="w">are</span> <span class="w">followed</span> <span class="w">by</span> <span class="w">parens</span><span class="cm">,</span> <a class="l_k" href="functions/no.html">no</a> <span class="w">space</span></li><li>        <span class="w">between</span> <span class="w">function</span> <span class="w">name</span> and <span class="w">following</span> <span class="w">paren</span></li><li>    <span class="w">avoid</span> <span class="w">assignments</span> <span class="w">in</span> <span class="w">conditionals</span><span class="cm">,</span> <span class="w">but</span> if <span class="w">they&#39;re</span> <span class="w">unavoidable</span><span class="cm">,</span> <a class="l_k" href="functions/use.html">use</a></li><li>        <span class="w">extra</span> <span class="w">paren</span><span class="cm">,</span> <span class="w">e</span>.<span class="w">g</span>. <span class="q">&quot;if (a &amp;&amp; (b = c)) ...&quot;</span></li><li>    <span class="q">&quot;return foo;&quot;</span> <span class="w">rather</span> <span class="w">than</span> <span class="q">&quot;return(foo);&quot;</span></li><li>    <span class="q">&quot;if (!foo) ...&quot;</span> <span class="w">rather</span> <span class="w">than</span> <span class="q">&quot;if (foo == FALSE) ...&quot;</span> <span class="w">etc</span>.</li></ol></pre></li>
<li><a class='view-title' id="Testsuite"></a><strong>Testsuite</strong>
<p>If your patch changes code (rather than just changing documentation) you
should also include one or more test cases which illustrate the bug you're
fixing or validate the new functionality you're adding.  In general,
you should update an existing test file rather than create a new one.</p>
<p>Your testsuite additions should generally follow these guidelines
(courtesy of Gurusamy Sarathy &lt;gsar@activestate.com&gt;):</p>
<pre class="verbatim"><ol><li>    <span class="w">Know</span> <span class="w">what</span> <span class="w">you&#39;re</span> <span class="w">testing</span>.  <span class="w">Read</span> <span class="w">the</span> <span class="w">docs</span><span class="cm">,</span> and <span class="w">the</span> <span class="w">source</span>.</li><li>    <span class="w">Tend</span> <span class="w">to</span> <span class="w">fail</span><span class="cm">,</span> not <span class="w">succeed</span>.</li><li>    <span class="w">Interpret</span> <span class="w">results</span> <span class="w">strictly</span>.</li><li>    <span class="w">Use</span> <span class="w">unrelated</span> <span class="w">features</span> <span class="s">(</span><span class="w">this</span> <span class="w">will</span> <span class="w">flush</span> <span class="w">out</span> <span class="w">bizarre</span> <span class="w">interactions</span><span class="s">)</span>.</li><li>    <span class="w">Use</span> <span class="w">non</span>-<span class="w">standard</span> <span class="w">idioms</span> <span class="s">(</span><span class="w">otherwise</span> <span class="w">you</span> <span class="w">are</span> not <span class="w">testing</span> <span class="w">TIMTOWTDI</span><span class="s">)</span>.</li><li>    <span class="w">Avoid</span> <span class="w">using</span> <span class="w">hardcoded</span> <span class="w">test</span> <span class="w">numbers</span> <span class="w">whenever</span> <span class="w">possible</span> <span class="s">(</span><span class="w">the</span></li><li>      <span class="w">EXPECTED</span>/<span class="w">GOT</span> <span class="w">found</span> <span class="w">in</span> <span class="w">t</span>/<span class="w">op</span>/<a class="l_k" href="functions/tie.html">tie</a>.<span class="w">t</span> <span class="w">is</span> <span class="w">much</span> <span class="w">more</span> <span class="w">maintainable</span><span class="cm">,</span></li><li>      and <span class="w">gives</span> <span class="w">better</span> <span class="w">failure</span> <span class="w">reports</span><span class="s">)</span>.</li><li>    <span class="w">Give</span> <span class="w">meaningful</span> <span class="w">error</span> <span class="w">messages</span> when <span class="w">a</span> <span class="w">test</span> <span class="w">fails</span>.</li><li>    <span class="w">Avoid</span> <span class="w">using</span> <span class="q">qx//</span> and <a class="l_k" href="functions/system.html">system</a><span class="s">(</span><span class="s">)</span> unless <span class="w">you</span> <span class="w">are</span> <span class="w">testing</span> for <span class="w">them</span>.  <span class="w">If</span> <span class="w">you</span></li><li>      <a class="l_k" href="functions/do.html">do</a> <a class="l_k" href="functions/use.html">use</a> <span class="w">them</span><span class="cm">,</span> <span class="w">make</span> <span class="w">sure</span> <span class="w">that</span> <span class="w">you</span> <span class="w">cover</span> <span class="w">_all_</span> <span class="w">perl</span> <span class="w">platforms</span>.</li><li>    <span class="w">Unlink</span> <span class="w">any</span> <span class="w">temporary</span> <span class="w">files</span> <span class="w">you</span> <span class="w">create</span>.</li><li>    <span class="w">Promote</span> <span class="w">unforeseen</span> <span class="w">warnings</span> <span class="w">to</span> <span class="w">errors</span> <span class="w">with</span> <span class="i">$SIG</span>{<span class="w">__WARN__</span>}.</li><li>    <span class="w">Be</span> <span class="w">sure</span> <span class="w">to</span> <a class="l_k" href="functions/use.html">use</a> <span class="w">the</span> <span class="w">libraries</span> and <span class="w">modules</span> <span class="w">shipped</span> <span class="w">with</span> <span class="w">the</span> <span class="w">version</span></li><li>      <span class="w">being</span> <span class="w">tested</span><span class="cm">,</span> not <span class="w">those</span> <span class="w">that</span> <span class="w">were</span> <span class="w">already</span> <span class="w">installed</span>.</li><li>    <span class="w">Add</span> <span class="w">comments</span> <span class="w">to</span> <span class="w">the</span> <span class="w">code</span> <span class="w">explaining</span> <span class="w">what</span> <span class="w">you</span> <span class="w">are</span> <span class="w">testing</span> for.</li><li>    <span class="w">Make</span> <span class="w">updating</span> <span class="w">the</span> <span class="q">&#39;1..42&#39;</span> <span class="w">string</span> <span class="w">unnecessary</span>.  <span class="w">Or</span> <span class="w">make</span> <span class="w">sure</span> <span class="w">that</span></li><li>      <span class="w">you</span> <span class="w">update</span> <span class="w">it</span>.</li><li>    <span class="w">Test</span> <span class="w">_all_</span> <span class="w">behaviors</span> <span class="w">of</span> <span class="w">a</span> given <span class="w">operator</span><span class="cm">,</span> <span class="w">library</span><span class="cm">,</span> or <span class="w">function</span><span class="co">:</span></li><li>      - <span class="w">All</span> <span class="w">optional</span> <span class="w">arguments</span></li><li>      - <span class="w">Return</span> <a class="l_k" href="functions/values.html">values</a> <span class="w">in</span> <span class="w">various</span> <span class="w">contexts</span> <span class="s">(</span><span class="w">boolean</span><span class="cm">,</span> <a class="l_k" href="functions/scalar.html">scalar</a><span class="cm">,</span> <span class="w">list</span><span class="cm">,</span> <span class="w">lvalue</span><span class="s">)</span></li><li>      - <span class="w">Use</span> <span class="w">both</span> <span class="w">global</span> and <span class="w">lexical</span> <span class="w">variables</span></li><li>      - <span class="w">Don&#39;t</span> <span class="w">forget</span> <span class="w">the</span> <span class="w">exceptional</span><span class="cm">,</span> <span class="w">pathological</span> <span class="w">cases</span>.</li></ol></pre></li>
</ul>
<a class='view-head1' id="Accepting-a-patch"></a><h2 class='h2' >Accepting a patch</h2>
<p>If you have received a patch file generated using the above section,
you should try out the patch.</p>
<p>First we need to create a temporary new branch for these changes and
switch into it:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">checkout</span> -b <span class="w">experimental</span></li></ol></pre><p>Patches that were formatted by <code class="inline"><span class="w">git</span> format-patch</code>
 are applied with
<code class="inline"><span class="w">git</span> <span class="w">am</span></code>
:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">am</span> <span class="n">0001</span>-<span class="w">Rename</span>-<span class="w">Leon</span>-<span class="w">Brocard</span>-<span class="w">to</span>-<span class="w">Orange</span>-<span class="w">Brocard</span>.<span class="w">patch</span></li><li>  <span class="w">Applying</span> <span class="w">Rename</span> <span class="w">Leon</span> <span class="w">Brocard</span> <span class="w">to</span> <span class="w">Orange</span> <span class="w">Brocard</span></li></ol></pre><p>If just a raw diff is provided, it is also possible use this two-step
process:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">apply</span> <span class="w">bugfix</span>.<span class="w">diff</span></li><li>  % <span class="w">git</span> <span class="w">commit</span> -<span class="w">a</span> -<span class="q">m &quot;Some fixing&quot;</span> --<span class="w">author</span>=<span class="q">&quot;That Guy &lt;that.guy@internets.com&gt;&quot;</span></li></ol></pre><p>Now we can inspect the change:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">show</span> <span class="w">HEAD</span></li><li>  <span class="w">commit</span> <span class="w">b1b3dab48344cff6de4087efca3dbd63548ab5e2</span></li><li>  <span class="w">Author</span><span class="co">:</span> <span class="w">Leon</span> <span class="w">Brocard</span> <span class="q">&lt;acme@astray.com&gt;</span></li><li>  <span class="w">Date</span><span class="co">:</span>   <span class="w">Fri</span> <span class="w">Dec</span> <span class="n">19</span> <span class="n">17</span><span class="co">:</span><span class="n">02</span><span class="co">:</span><span class="n">59</span> <span class="n">2008</span> +<span class="n">0000</span></li><li></li><li>    <span class="w">Rename</span> <span class="w">Leon</span> <span class="w">Brocard</span> <span class="w">to</span> <span class="w">Orange</span> <span class="w">Brocard</span></li><li></li><li>  <span class="w">diff</span> --<span class="w">git</span> <span class="w">a</span>/<span class="w">AUTHORS</span> <span class="w">b</span>/<span class="w">AUTHORS</span></li><li>  <a class="l_k" href="functions/index.html">index</a> <span class="n">293</span><span class="w">dd70</span>..<span class="n">722</span><span class="w">c93e</span> <span class="n">100644</span></li><li>  --- <span class="w">a</span>/<span class="w">AUTHORS</span></li><li>  +++ <span class="w">b</span>/<span class="w">AUTHORS</span></li><li>  <span class="i">@@</span> -<span class="n">541</span><span class="cm">,</span><span class="n">7</span> +<span class="n">541</span><span class="cm">,</span><span class="n">7</span> <span class="i">@@</span> <span class="w">Lars</span> <span class="w">Hecking</span>                        <span class="q">&lt;lhecking@nmrc.ucc.ie&gt;</span></li><li>   <span class="w">Laszlo</span> <span class="w">Molnar</span>                  <span class="q">&lt;laszlo.molnar@eth.ericsson.se&gt;</span></li><li>   <span class="w">Leif</span> <span class="w">Huhn</span>                      <span class="q">&lt;leif@hale.dkstat.com&gt;</span></li><li>   <span class="w">Len</span> <span class="w">Johnson</span>                    <span class="q">&lt;lenjay@ibm.net&gt;</span></li><li>  -<span class="w">Leon</span> <span class="w">Brocard</span>                   <span class="q">&lt;acme@astray.com&gt;</span></li><li>  +<span class="w">Orange</span> <span class="w">Brocard</span>                 <span class="q">&lt;acme@astray.com&gt;</span></li><li>   <span class="w">Les</span> <span class="w">Peters</span>                     <span class="q">&lt;lpeters@aol.net&gt;</span></li><li>   <span class="w">Lesley</span> <span class="w">Binks</span>                   <span class="q">&lt;lesley.binks@gmail.com&gt;</span></li><li>   <span class="w">Lincoln</span> <span class="w">D</span>. <span class="w">Stein</span>               <span class="q">&lt;lstein@cshl.org&gt;</span></li></ol></pre><p>If you are a committer to Perl and you think the patch is good, you can
then merge it into blead then push it out to the main repository:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">checkout</span> <span class="w">blead</span></li><li>  % <span class="w">git</span> <span class="w">merge</span> <span class="w">experimental</span></li><li>  % <span class="w">git</span> <a class="l_k" href="functions/push.html">push</a></li></ol></pre><p>If you want to delete your temporary branch, you may do so with:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">checkout</span> <span class="w">blead</span></li><li>  % <span class="w">git</span> <span class="w">branch</span> -d <span class="w">experimental</span></li><li>  <span class="w">error</span><span class="co">:</span> <span class="w">The</span> <span class="w">branch</span> <span class="q">&#39;experimental&#39;</span> <span class="w">is</span> not <span class="w">an</span> <span class="w">ancestor</span> <span class="w">of</span> <span class="w">your</span> <span class="w">current</span> <span class="w">HEAD</span>.</li><li>  <span class="w">If</span> <span class="w">you</span> <span class="w">are</span> <span class="w">sure</span> <span class="w">you</span> <span class="w">want</span> <span class="w">to</span> <a class="l_k" href="functions/delete.html">delete</a> <span class="w">it</span><span class="cm">,</span> <span class="w">run</span> <span class="q">&#39;git branch -D experimental&#39;</span>.</li><li>  <span class="i">% git</span> <span class="w">branch</span> -<span class="w">D</span> <span class="w">experimental</span></li><li>  <span class="w">Deleted</span> <span class="w">branch</span> <span class="w">experimental</span>.</li></ol></pre><a class='view-head1' id="Cleaning-a-working-directory"></a><h2 class='h2' >Cleaning a working directory</h2>
<p>The command <code class="inline"><span class="w">git</span> <span class="w">clean</span></code>
 can with varying arguments be used as a
replacement for <code class="inline"><span class="w">make</span> <span class="w">clean</span></code>
.</p>
<p>To reset your working directory to a pristine condition you can do:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">clean</span> -<span class="w">dxf</span></li></ol></pre><p>However, be aware this will delete ALL untracked content. You can use</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">clean</span> -<span class="w">Xf</span></li></ol></pre><p>to remove all ignored untracked files, such as build and test
byproduct, but leave any  manually created files alone.</p>
<p>If you only want to cancel some uncommitted edits, you can use <code class="inline"><span class="w">git</span>
<span class="w">checkout</span></code>
 and give it a list of files to be reverted, or <code class="inline"><span class="w">git</span> <span class="w">checkout</span>
-f</code>
 to revert them all.</p>
<p>If you want to cancel one or several commits, you can use <code class="inline"><span class="w">git</span> <a class="l_k" href="functions/reset.html">reset</a></code>
.</p>
<a class='view-head1' id="Bisecting"></a><h2 class='h2' >Bisecting</h2>
<p><code class="inline"><span class="w">git</span></code>
 provides a built-in way to determine, with a binary search in
the history, which commit should be blamed for introducing a given bug.</p>
<p>Suppose that we have a script <i>~/testcase.pl</i> that exits with <code class="inline"><span class="n">0</span></code>

when some behaviour is correct, and with <code class="inline"><span class="n">1</span></code>
 when it's faulty. You need
an helper script that automates building <code class="inline"><span class="w">perl</span></code>
 and running the
testcase:</p>
<pre class="verbatim"><ol><li>  <span class="i">% cat</span> ~<span class="q">/run</span></li><li>  <span class="q">  #!/</span><span class="w">bin</span>/<span class="w">sh</span></li><li>  <span class="w">git</span> <span class="w">clean</span> -<span class="w">dxf</span></li><li>  <span class="c"># If you can use ccache, add -Dcc=ccache\ gcc -Dld=gcc to the Configure line</span></li><li>  <span class="c"># if Encode is not needed for the test, you can speed up the bisect by</span></li><li>  <span class="c"># excluding it from the runs with -Dnoextensions=Encode</span></li><li>  <span class="w">sh</span> <span class="w">Configure</span> -<span class="w">des</span> -<span class="w">Dusedevel</span> -<span class="w">Doptimize</span>=<span class="q">&quot;-g&quot;</span></li><li>  <span class="w">test</span> -f <span class="w">config</span>.<span class="w">sh</span> || <a class="l_k" href="functions/exit.html">exit</a> <span class="n">125</span></li><li>  <span class="c"># Correct makefile for newer GNU gcc</span></li><li>  <span class="w">perl</span> -<span class="w">ni</span> -<span class="w">we</span> <span class="q">&#39;print unless /&lt;(?:built-in|command)/&#39;</span> <span class="w">makefile</span> <span class="w">x2p</span>/<span class="w">makefile</span></li><li>  <span class="c"># if you just need miniperl, replace test_prep with miniperl</span></li><li>  <span class="w">make</span> -<span class="w">j4</span> <span class="w">test_prep</span></li><li>  <span class="s">[</span> -x .<span class="q">/perl ] || exit 125</span></li><li>  <span class="q">  ./perl</span> -<span class="w">Ilib</span> ~<span class="q">/testcase.pl</span></li><li>  <span class="q">  ret=$?</span></li><li>  <span class="q">  [ $ret -gt 127 ] &amp;&amp; ret=127</span></li><li>  <span class="q">  git clean -dxf</span></li><li>  <span class="q">  exit $ret</span></li></ol></pre><p>This script may return <code class="inline"><span class="n">125</span></code>
 to indicate that the corresponding commit
should be skipped. Otherwise, it returns the status of
<i>~/testcase.pl</i>.</p>
<p>You first enter in bisect mode with:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">bisect</span> <span class="w">start</span></li></ol></pre><p>For example, if the bug is present on <code class="inline"><span class="w">HEAD</span></code>
 but wasn't in 5.10.0,
<code class="inline"><span class="w">git</span></code>
 will learn about this when you enter:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">bisect</span> <span class="w">bad</span></li><li>  % <span class="w">git</span> <span class="w">bisect</span> <span class="w">good</span> <span class="w">perl</span>-<span class="v">5.10.0</span></li><li>  <span class="w">Bisecting</span><span class="co">:</span> <span class="n">853</span> <span class="w">revisions</span> <span class="w">left</span> <span class="w">to</span> <span class="w">test</span> <span class="w">after</span> <span class="w">this</span></li></ol></pre><p>This results in checking out the median commit between <code class="inline"><span class="w">HEAD</span></code>
 and
<code class="inline"><span class="w">perl</span>-<span class="v">5.10.0</span></code>
. You can then run the bisecting process with:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">bisect</span> <span class="w">run</span> ~<span class="q">/run</span></li></ol></pre><p>When the first bad commit is isolated, <code class="inline"><span class="w">git</span> <span class="w">bisect</span></code>
 will tell you so:</p>
<pre class="verbatim"><ol><li>  <span class="w">ca4cfd28534303b82a216cfe83a1c80cbc3b9dc5</span> <span class="w">is</span> <span class="w">first</span> <span class="w">bad</span> <span class="w">commit</span></li><li>  <span class="w">commit</span> <span class="w">ca4cfd28534303b82a216cfe83a1c80cbc3b9dc5</span></li><li>  <span class="w">Author</span><span class="co">:</span> <span class="w">Dave</span> <span class="w">Mitchell</span> <span class="q">&lt;davem@fdisolutions.com&gt;</span></li><li>  <span class="w">Date</span><span class="co">:</span>   <span class="w">Sat</span> <span class="w">Feb</span> <span class="n">9</span> <span class="n">14</span><span class="co">:</span><span class="n">56</span><span class="co">:</span><span class="n">23</span> <span class="n">2008</span> +<span class="n">0000</span></li><li></li><li>      <span class="s">[</span><span class="w">perl</span> <span class="c">#49472] Attributes + Unknown Error</span></li><li>      ...</li><li></li><li>  <span class="w">bisect</span> <span class="w">run</span> <span class="w">success</span></li></ol></pre><p>You can peek into the bisecting process with <code class="inline"><span class="w">git</span> <span class="w">bisect</span> <a class="l_k" href="functions/log.html">log</a></code>
 and
<code class="inline"><span class="w">git</span> <span class="w">bisect</span> <span class="w">visualize</span></code>
. <code class="inline"><span class="w">git</span> <span class="w">bisect</span> <a class="l_k" href="functions/reset.html">reset</a></code>
 will get you out of bisect
mode.</p>
<p>Please note that the first <code class="inline"><span class="w">good</span></code>
 state must be an ancestor of the
first <code class="inline"><span class="w">bad</span></code>
 state. If you want to search for the commit that <i>solved</i>
some bug, you have to negate your test case (i.e. exit with <code class="inline"><span class="n">1</span></code>
 if OK
and <code class="inline"><span class="n">0</span></code>
 if not) and still mark the lower bound as <code class="inline"><span class="w">good</span></code>
 and the
upper as <code class="inline"><span class="w">bad</span></code>
. The "first bad commit" has then to be understood as
the "first commit where the bug is solved".</p>
<p><code class="inline"><span class="w">git</span> <span class="w">help</span> <span class="w">bisect</span></code>
 has much more information on how you can tweak your
binary searches.</p>
<a class='view-head1' id="Submitting-a-patch-via-GitHub"></a><h2 class='h2' >Submitting a patch via GitHub</h2>
<p>GitHub is a website that makes it easy to fork and publish projects
with Git. First you should set up a GitHub account and log in.</p>
<p>Perl's git repository is mirrored on GitHub at this page:</p>
<pre class="verbatim"><ol><li>  <span class="j">http:</span><span class="q">//github</span>.<span class="w">com</span>/<span class="w">mirrors</span>/<span class="w">perl</span>/<span class="w">tree</span>/<span class="w">blead</span></li></ol></pre><p>Visit the page and click the "fork" button. This clones the Perl git
repository for you and provides you with "Your Clone URL" from which
you should clone:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">clone</span> <span class="w">git</span><span class="i">@github</span>.<span class="w">com</span><span class="co">:</span><span class="w">USERNAME</span>/<span class="w">perl</span>.<span class="w">git</span> <span class="w">perl</span>-<span class="w">github</span></li></ol></pre><p>The same patch as above, using github might look like this:</p>
<pre class="verbatim"><ol><li>  <span class="i">% cd</span> <span class="w">perl</span>-<span class="w">github</span></li><li>  % <span class="w">git</span> <span class="w">remote</span> <span class="w">add</span> <span class="w">upstream</span> <span class="w">git</span><span class="co">:</span><span class="q">//perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span>/<span class="w">perl</span>.<span class="w">git</span></li><li>  % <span class="w">git</span> <span class="w">pull</span> <span class="w">upstream</span> <span class="w">blead</span></li><li>  % <span class="w">git</span> <span class="w">checkout</span> -b <span class="w">orange</span></li><li>  % <span class="w">perl</span> -<span class="w">pi</span> -e <span class="q">&#39;s{Leon Brocard}{Orange Brocard}&#39;</span> <span class="w">AUTHORS</span></li><li>  % <span class="w">git</span> <span class="w">commit</span> -<span class="w">a</span> -<span class="q">m &#39;Rename Leon Brocard to Orange Brocard&#39;</span></li><li>  % <span class="w">git</span> <a class="l_k" href="functions/push.html">push</a> <span class="w">origin</span> <span class="w">orange</span></li></ol></pre><p>The orange branch has been pushed to GitHub, so you should now send an
email (see <a href="#Submitting-a-patch">Submitting a patch</a>) with a description of your changes
and the following information:</p>
<pre class="verbatim"><ol><li>  <span class="j">http:</span><span class="q">//github</span>.<span class="w">com</span>/<span class="w">USERNAME</span>/<span class="w">perl</span>/<span class="w">tree</span>/<span class="w">orange</span></li><li>  <span class="w">git</span><span class="i">@github</span>.<span class="w">com</span><span class="co">:</span><span class="w">USERNAME</span>/<span class="w">perl</span>.<span class="w">git</span> <span class="w">branch</span> <span class="w">orange</span></li></ol></pre><a class='view-head1' id="Merging-from-a-branch-via-GitHub"></a><h2 class='h2' >Merging from a branch via GitHub</h2>
<p>If someone has provided a branch via GitHub and you are a committer,
you should use the following in your perl-ssh directory:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">remote</span> <span class="w">add</span> <span class="w">dandv</span> <span class="w">git</span><span class="co">:</span><span class="q">//github</span>.<span class="w">com</span>/<span class="w">dandv</span>/<span class="w">perl</span>.<span class="w">git</span></li><li>  % <span class="w">git</span> <span class="w">fetch</span> <span class="w">dandv</span></li></ol></pre><p>Now you can see the differences between the branch and blead:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">diff</span> <span class="w">dandv</span>/<span class="w">blead</span></li></ol></pre><p>And you can see the commits:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <a class="l_k" href="functions/log.html">log</a> <span class="w">dandv</span>/<span class="w">blead</span></li></ol></pre><p>If you approve of a specific commit, you can cherry pick it:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">cherry</span>-<span class="w">pick</span> <span class="n">3</span><span class="w">adac458cb1c1d41af47fc66e67b49c8dec2323f</span></li></ol></pre><p>Or you could just merge the whole branch if you like it all:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">merge</span> <span class="w">dandv</span>/<span class="w">blead</span></li></ol></pre><p>And then push back to the repository:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <a class="l_k" href="functions/push.html">push</a></li></ol></pre><a class='view-head1' id="Topic-branches-and-rewriting-history"></a><h2 class='h2' >Topic branches and rewriting history</h2>
<p>Individual committers should create topic branches under
<strong>yourname</strong>/<strong>some_descriptive_name</strong>. Other committers should check
with a topic branch's creator before making any change to it.</p>
<p>The simplest way to create a remote topic branch that works on all
versions of git is to push the current head as a new branch on the
remote, then check it out locally:</p>
<pre class="verbatim"><ol><li>  <span class="i">$ branch</span>=<span class="q">&quot;$yourname/$some_descriptive_name&quot;</span></li><li>  <span class="i">$ git</span> <a class="l_k" href="functions/push.html">push</a> <span class="w">origin</span> <span class="w">HEAD</span><span class="co">:</span><span class="i">$branch</span></li><li>  <span class="i">$ git</span> <span class="w">checkout</span> -b <span class="i">$branch</span> <span class="w">origin</span>/<span class="i">$branch</span></li></ol></pre><p>Users of git 1.7 or newer can do it in a more obvious manner:</p>
<pre class="verbatim"><ol><li>  <span class="i">$ branch</span>=<span class="q">&quot;$yourname/$some_descriptive_name&quot;</span></li><li>  <span class="i">$ git</span> <span class="w">checkout</span> -b <span class="i">$branch</span></li><li>  <span class="i">$ git</span> <a class="l_k" href="functions/push.html">push</a> <span class="w">origin</span> -u <span class="i">$branch</span></li></ol></pre><p>If you are not the creator of <strong>yourname</strong>/<strong>some_descriptive_name</strong>, you
might sometimes find that the original author has edited the branch's
history. There are lots of good reasons for this. Sometimes, an author
might simply be rebasing the branch onto a newer source point.
Sometimes, an author might have found an error in an early commit which
they wanted to fix before merging the branch to blead.</p>
<p>Currently the master repository is configured to forbid
non-fast-forward merges.  This means that the branches within can not
be rebased and pushed as a single step.</p>
<p>The only way you will ever be allowed to rebase or modify the history
of a pushed branch is to delete it and push it as a new branch under
the same name. Please think carefully about doing this. It may be
better to sequentially rename your branches so that it is easier for
others working with you to cherry-pick their local changes onto the new
version. (XXX: needs explanation).</p>
<p>If you want to rebase a personal topic branch, you will have to delete
your existing topic branch and push as a new version of it. You can do
this via the following formula (see the explanation about <code class="inline"><span class="w">refspec</span></code>
's
in the git push documentation for details) after you have rebased your
branch:</p>
<pre class="verbatim"><ol><li>   <span class="c"># first rebase</span></li><li>   <span class="i">$ git</span> <span class="w">checkout</span> <span class="i">$user</span>/<span class="i">$topic</span></li><li>   <span class="i">$ git</span> <span class="w">fetch</span></li><li>   <span class="i">$ git</span> <span class="w">rebase</span> <span class="w">origin</span>/<span class="w">blead</span></li><li></li><li>   <span class="c"># then &quot;delete-and-push&quot;</span></li><li>   <span class="i">$ git</span> <a class="l_k" href="functions/push.html">push</a> <span class="w">origin</span> <span class="co">:</span><span class="i">$user</span>/<span class="i">$topic</span></li><li>   <span class="i">$ git</span> <a class="l_k" href="functions/push.html">push</a> <span class="w">origin</span> <span class="i">$user</span>/<span class="i">$topic</span></li></ol></pre><p><strong>NOTE:</strong> it is forbidden at the repository level to delete any of the
"primary" branches. That is any branch matching
<code class="inline"><a class="l_k" href="functions/m.html">m!^(blead|maint|perl)!</a></code>. Any attempt to do so will result in git
producing an error like this:</p>
<pre class="verbatim"><ol><li>    <span class="i">$ git</span> <a class="l_k" href="functions/push.html">push</a> <span class="w">origin</span> <span class="co">:</span><span class="w">blead</span></li><li>    **<span class="i">* It</span> <span class="w">is</span> <span class="w">forbidden</span> <span class="w">to</span> <a class="l_k" href="functions/delete.html">delete</a> <span class="w">blead</span>/<span class="w">maint</span> <span class="w">branches</span> <span class="w">in</span> <span class="w">this</span> <span class="w">repository</span></li><li>    <span class="w">error</span><span class="co">:</span> <span class="w">hooks</span>/<span class="w">update</span> <span class="w">exited</span> <span class="w">with</span> <span class="w">error</span> <span class="w">code</span> <span class="n">1</span></li><li>    <span class="w">error</span><span class="co">:</span> <span class="w">hook</span> <span class="w">declined</span> <span class="w">to</span> <span class="w">update</span> <span class="w">refs</span>/<span class="w">heads</span>/<span class="w">blead</span></li><li>    <span class="w">To</span> <span class="w">ssh</span><span class="co">:</span><span class="q">//perl5</span>.<span class="w">git</span>.<span class="w">perl</span>.<span class="w">org</span>/<span class="w">perl</span></li><li>     ! <span class="s">[</span><span class="w">remote</span> <span class="w">rejected</span><span class="s">]</span> <span class="w">blead</span> <span class="s">(</span><span class="w">hook</span> <span class="w">declined</span><span class="s">)</span></li><li>     <span class="w">error</span><span class="co">:</span> <span class="w">failed</span> <span class="w">to</span> <a class="l_k" href="functions/push.html">push</a> <span class="w">some</span> <span class="w">refs</span> <span class="w">to</span> <span class="q">&#39;ssh://perl5.git.perl.org/perl&#39;</span></li></ol></pre><p>As a matter of policy we do <strong>not</strong> edit the history of the blead and
maint-* branches. If a typo (or worse) sneaks into a commit to blead or
maint-*, we'll fix it in another commit. The only types of updates
allowed on these branches are "fast-forward's", where all history is
preserved.</p>
<p>Annotated tags in the canonical perl.git repository will never be
deleted or modified. Think long and hard about whether you want to push
a local tag to perl.git before doing so. (Pushing unannotated tags is
not allowed.)</p>
<a class='view-head1' id="Committing-to-maintenance-versions"></a><h2 class='h2' >Committing to maintenance versions</h2>
<p>Maintenance versions should only be altered to add critical bug
fixes, see <a href="perlpolicy.html">perlpolicy</a>.</p>
<p>To commit to a maintenance version of perl, you need to create a local
tracking branch:</p>
<pre class="verbatim"><ol><li>  <span class="i">% git</span> <span class="w">checkout</span> --<span class="w">track</span> -b <span class="w">maint</span>-<span class="n">5.005</span> <span class="w">origin</span>/<span class="w">maint</span>-<span class="n">5.005</span></li></ol></pre><p>This creates a local branch named <code class="inline"><span class="w">maint</span>-<span class="n">5.005</span></code>
, which tracks the
remote branch <code class="inline"><span class="w">origin</span>/<span class="w">maint</span>-<span class="n">5.005</span></code>
. Then you can pull, commit, merge
and push as before.</p>
<p>You can also cherry-pick commits from blead and another branch, by
using the <code class="inline"><span class="w">git</span> <span class="w">cherry</span>-<span class="w">pick</span></code>
 command. It is recommended to use the
<strong>-x</strong> option to <code class="inline"><span class="w">git</span> <span class="w">cherry</span>-<span class="w">pick</span></code>
 in order to record the SHA1 of the
original commit in the new commit message.</p>
<a class='view-head1' id="Grafts"></a><h2 class='h2' >Grafts</h2>
<p>The perl history contains one mistake which was not caught in the
conversion: a merge was recorded in the history between blead and
maint-5.10 where no merge actually occurred.  Due to the nature of git,
this is now impossible to fix in the public repository.  You can remove
this mis-merge locally by adding the following line to your
<code class="inline">.<span class="w">git</span><span class="q">/info/grafts</span></code>
 file:</p>
<pre class="verbatim"><ol><li>  <span class="n">296</span><span class="w">f12bbbbaa06de9be9d09d3dcf8f4528898a49</span> <span class="n">434946e0cb7a32589ed92d18008aaa1d88515930</span></li></ol></pre><p>It is particularly important to have this graft line if any bisecting
is done in the area of the "merge" in question.</p>
<a class='view-head1' id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<ul>
<li>
<p>The git documentation, accessible via the <code class="inline"><span class="w">git</span> <span class="w">help</span></code>
 command</p>
</li>
<li>
<p><a href="perlpolicy.html">perlpolicy</a> - Perl core development policy</p>
</li>
</ul>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#Getting-access-to-the-repository">Getting access to the repository</a></li><ul><li><a href="#Read-access-via-the-web">Read access via the web</a></li><li><a href="#Read-access-via-Git">Read access via Git</a></li><li><a href="#Write-access-to-the-repository">Write access to the repository</a></li><li><a href="#A-note-on-camel-and-dromedary">A note on camel and dromedary</a></li></ul><li><a href="#Overview-of-the-repository">Overview of the repository</a></li><ul><li><a href="#Finding-out-your-status">Finding out your status</a></li></ul><li><a href="#Submitting-a-patch">Submitting a patch</a></li><ul><li><a href="#Using-git-to-send-patch-emails">Using git to send patch emails</a></li><li><a href="#A-note-on-derived-files">A note on derived files</a></li><li><a href="#Getting-your-patch-accepted">Getting your patch accepted</a></li></ul><li><a href="#Accepting-a-patch">Accepting a patch</a></li><li><a href="#Cleaning-a-working-directory">Cleaning a working directory</a></li><li><a href="#Bisecting">Bisecting</a></li><li><a href="#Submitting-a-patch-via-GitHub">Submitting a patch via GitHub</a></li><li><a href="#Merging-from-a-branch-via-GitHub">Merging from a branch via GitHub</a></li><li><a href="#Topic-branches-and-rewriting-history">Topic branches and rewriting history</a></li><li><a href="#Committing-to-maintenance-versions">Committing to maintenance versions</a></li><li><a href="#Grafts">Grafts</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul>


                  </div>
                </article>
              </div>
            </div>
          </main>
        </div>
           <footer class="footer row bg-light pt-5 pb-5">
       <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
           <div class="row">
               <div class="col-md-4">
                   <ul class="list-unstyled">
                       <li>
                           <h4>Site info</h4>
                       </li>
                       <li>Docs mantained by
                           <a href="//lists.perl.org/list/perl5-porters.html"
                               rel="noopener">Perl 5 Porters</a>
                       </li>
                       <li>Perldoc site development sponsored by
                           <a href="//opusvl.com" rel="noopener">
                           <img style="margin: 20px 20px 5px 10px" class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo">
                        </a>
                    <li><span class="about_perldoc"><a href="//about.html">About PerlDOC</a></span>
                    </li>
                       </li>
                   </ul>
               </div>
               <div class="col-md-8">
                   <div class="row">
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Manuals</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-overview.html">Overview</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-tutorials.html">Tutorials</a>
                               </li>
                               <li>
                                   <a href="/5.12.5/index-faq.html">FAQs</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-history.html">Changes</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Reference</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-language.html">Language</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-functions.html">Functions</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/perlop.html">Operators</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/perlvar.html">Variables</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Modules</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-modules-A.html">Modules</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-pragmas.html">Pragmas</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-utilities.html">Utilities</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Misc</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-licence.html">License</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-internals.html">Internals</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.12.5/index-platforms.html">Platforms</a>
                               </li>
                            <li>
                                <a
                                    href="/5.12.5/index-about.html">About</a>
                            </li>
                           </ul>
                       </div>
                   </div>
               </div>
               <div class=" col-12 footer-inf text-center">
                   <small>perldoc.perl.org - Official documentation for the Perl
                       programming language</small>
               </div>
           </div>
       </div>
   </footer>

        	<div class="beta-wrapper beta-bottom-right ">
		<div class="beta beta-blue  ">
			<a class="beta-link "
				href="//github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
				<span class="beta-text">
					This website is a Beta release.
				</span>
				<span class="beta-text">
					For any issues please raise a ticket on GitHub
				</span>
			</a>
		</div>
	</div>

        <script src="/public/js/main.min.js"></script>
      </body>

      </html>
