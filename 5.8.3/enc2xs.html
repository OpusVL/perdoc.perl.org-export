      
      
      
      

      <!DOCTYPE html>
      <html lang="en">

      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="enc2xs - perldoc.perl.org">
        <link rel="icon" href="/public/img/favicon.ico">
        <title>enc2xs - perldoc.perl.org</title>
        <link href="/public/css/main.min.css" rel="stylesheet">
        <link rel="canonical" href="/enc2xs.html">
        <link
          href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900'
          rel='stylesheet' type='text/css'>
        <script>
          window.ga = window.ga || function () {
            (ga.q = ga.q || []).push(arguments)
          };
          ga.l = +new Date;
          ga('create', 'UA-1892152-2', 'auto'); // JJ's account
          ga('create', 'UA-50555-3', 'auto', 'perlOrg'); // perl.org account
          ga('require', 'outboundLinkTracker', {
            events: ['click', 'auxclick', 'contextmenu'],
          });
          ga('require', 'maxScrollTracker');
          ga('send', 'pageview');
          ga('perlOrg.send', 'pageview');
        </script>
        <script async src="https://www.google-analytics.com/analytics.js">
        </script>
        <script async src="/public/js/tracking.min.js"></script>
      </head>

      <body class="body container-fluid ">
        <div class="wrapper">

          <nav
    class="navbar navbar-dark bg-primary bg-perl fixed-top justify-content-between navbar-expand-lg">
    <a href="#content" class="skippy sr-only sr-only-focusable">
        <span class=' skippy-text'>Skip to main content</span>
    </a>
    <a class="navbar-brand" href="/">
        <img class="logo" src="/public/img/logo_perl_doc.svg"
            alt="Perl Documentation Logo" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#navbar" aria-controls="navbar" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ">
        <ul class="navbar-nav ml-auto navbar-right">
            <form class="nav-item dropdown search-wrapper">
                <input type="text" id='searchinput' aria-describedby='navbarDropdown5'
                    placeholder="Type query" class='search-input-field' value=''>

                <button href="#" data-toggle='dropdown' type="button"
                    aria-haspopup="true" aria-expanded='false' id="navbarDropdown5"
                    class="nav-link dropdown-toggle search-link">
                    <object tabindex='-1' focusable="false" class='search-icon'
                        data="/public/img/search.svg" type="image/svg+xml"
                        name='search icon'>search
                        icon</object>
                </button>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown5"
                    id='search-results'>
                    <p class='dropdown-item major-version'>
                        No results
                    </p>
                </div>
            </form>
            <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    
                        <p class='dropdown-item major-version'>
                            5.32
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.32.0/">5.32.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.30
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.30.3/">5.30.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.2/">5.30.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.1/">5.30.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.0/">5.30.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.28
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.28.3/">5.28.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.2/">5.28.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.1/">5.28.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.0/">5.28.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.26
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.26.3/">5.26.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.2/">5.26.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.1/">5.26.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.0/">5.26.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.24
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.24.4/">5.24.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.3/">5.24.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.2/">5.24.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.1/">5.24.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.0/">5.24.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.22
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.22.4/">5.22.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.3/">5.22.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.2/">5.22.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.1/">5.22.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.0/">5.22.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.20
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.20.3/">5.20.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.2/">5.20.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.1/">5.20.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.0/">5.20.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.18
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.18.4/">5.18.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.3/">5.18.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.2/">5.18.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.1/">5.18.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.0/">5.18.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.16
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.16.3/">5.16.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.2/">5.16.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.1/">5.16.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.0/">5.16.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.14
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.14.4/">5.14.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.3/">5.14.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.2/">5.14.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.1/">5.14.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.0/">5.14.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.12
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.12.5/">5.12.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.4/">5.12.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.3/">5.12.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.2/">5.12.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.1/">5.12.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.0/">5.12.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.10
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.10.1/">5.10.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.10.0/">5.10.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.8
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.8.9/">5.8.9</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.8/">5.8.8</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.7/">5.8.7</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.6/">5.8.6</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.5/">5.8.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.4/">5.8.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.3/">5.8.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.2/">5.8.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.1/">5.8.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.0/">5.8.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.6
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.6.2/">5.6.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.1/">5.6.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.0/">5.6.0</a>
                        
                        
                    
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                    <a class="dropdown-item"
                        href="/5.8.3/index-overview.html">Overview</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-tutorials.html">Tutorials</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-faq.html">FAQs</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-history.html">Changes</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-licence.html">License</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-language.html">Language</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-functions.html">Functions</a>
                    <a class="dropdown-item"
                        href="/5.8.3/perlop.html">Operators</a>
                    <a class="dropdown-item"
                        href="/5.8.3/perlvar.html">Variables</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-pragmas.html">Pragmas</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-utilities.html">Utilities</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-internals.html">Internals</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-platforms.html">Platforms</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3"
                    class="dropdown-menu letters-wrap">
                    <!--<a class="dropdown-item"
                        href="/5.8.3/index-modules.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-modules-by-cat.html">By
                        Category</a>-->
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-A.html">A</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-B.html">B</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-C.html">C</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-D.html">D</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-E.html">E</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-F.html">F</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-G.html">G</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-H.html">H</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-I.html">I</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-J.html">J</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-K.html">K</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-L.html">L</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-M.html">M</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-N.html">N</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-O.html">O</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-P.html">P</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-Q.html">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-R.html">R</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-S.html">S</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-T.html">T</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-U.html">U</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-V.html">V</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-W.html">W</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-X.html">X</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-Y.html">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-modules-Z.html">Z</a>
                    </div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown4" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Functions</a>
                <div aria-labelledby="navbarDropdown4"
                    class="dropdown-menu letters-wrap">
                    <a class="dropdown-item"
                        href="/5.8.3/index-functions.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.8.3/index-functions-by-cat.html">By
                        Category</a>
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#A">A</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#B">B</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#C">C</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#D">D</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#E">E</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#F">F</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#G">G</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#H">H</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#I">I</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#J">J</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#K">K</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#L">L</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#M">M</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#N">N</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#O">O</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#P">P</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#Q">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#R">R</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#S">S</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#T">T</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#U">U</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#V">V</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#W">W</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#X">X</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#Y">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.8.3/index-functions.html#Z">Z</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!--/.nav-collapse -->
</nav>


          <main class="row main-content pb-5 pt-5" id='content'>
            <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
              <div class="row">
                <div class="col-sm-12">
                  <div id="breadcrumbs">
                      
    <a href="index.html">Home</a>&nbsp; &gt;
    
      
        <a href="index-utilities.html">Utilities</a> &gt;
      
    
    enc2xs
  

                  </div>
                </div>
              </div>
              <div class="row">
                <article class="col-sm-12 content">
                  <div class="documentation-wrapper">
                    <div id="perl_version">
                      <h7 class='page-title'> Perl 5 version 8.3
                        documentation</h7>
                    </div>
                    <h1>enc2xs</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Quick-Guide">Quick Guide</a></li><li><a href="#The-Unicode-Character-Map">The Unicode Character Map</a></li><ul><li><a href="#Coping-with-duplicate-mappings">Coping with duplicate mappings</a></li></ul><li><a href="#Bookmarks">Bookmarks</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul><a class='view-head1' id="NAME"></a><h2 class='h2' >NAME</h2>
<p>enc2xs -- Perl Encode Module Generator</p>
<a class='view-head1' id="SYNOPSIS"></a><h2 class='h2' >SYNOPSIS</h2>
<pre class="verbatim"><ol><li>  <span class="w">enc2xs</span> -<span class="s">[</span><span class="w">options</span><span class="s">]</span></li><li>  <span class="w">enc2xs</span> -M <span class="w">ModName</span> <span class="w">mapfiles</span>...</li><li>  <span class="w">enc2xs</span> -C</li></ol></pre><a class='view-head1' id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p><i>enc2xs</i> builds a Perl extension for use by Encode from either
Unicode Character Mapping files (.ucm) or Tcl Encoding Files (.enc).
Besides being used internally during the build process of the Encode
module, you can use <i>enc2xs</i> to add your own encoding to perl.
No knowledge of XS is necessary.</p>
<a class='view-head1' id="Quick-Guide"></a><h2 class='h2' >Quick Guide</h2>
<p>If you want to know as little about Perl as possible but need to
add a new encoding, just read this chapter and forget the rest.</p>
<dl>
<li>
<p>Have a .ucm file ready.  You can get it from somewhere or you can write
your own from scratch or you can grab one from the Encode distribution
and customize it.  For the UCM format, see the next Chapter.  In the
example below, I'll call my theoretical encoding myascii, defined
in <i>my.ucm</i>.  <code class="inline"><span class="i">$</span></code>
 is a shell prompt.</p>
<pre class="verbatim"><ol><li>  <span class="i">$ ls</span> -<span class="w">F</span></li><li>  <a class="l_k" href="functions/my.html">my</a>.<span class="w">ucm</span></li></ol></pre></li>
<li>
<p>Issue a command as follows;</p>
<pre class="verbatim"><ol><li>  <span class="i">$ enc2xs</span> -<span class="w">M</span> <span class="w">My</span> <a class="l_k" href="functions/my.html">my</a>.<span class="w">ucm</span></li><li>  <span class="w">generating</span> <span class="w">Makefile</span>.<span class="w">PL</span></li><li>  <span class="w">generating</span> <span class="w">My</span>.<span class="w">pm</span></li><li>  <span class="w">generating</span> <span class="w">README</span></li><li>  <span class="w">generating</span> <span class="w">Changes</span></li></ol></pre><p>Now take a look at your current directory.  It should look like this.</p>
<pre class="verbatim"><ol><li>  <span class="i">$ ls</span> -<span class="w">F</span></li><li>  <span class="w">Makefile</span>.<span class="w">PL</span>   <span class="w">My</span>.<span class="w">pm</span>         <a class="l_k" href="functions/my.html">my</a>.<span class="w">ucm</span>        <span class="w">t</span>/</li></ol></pre><p>The following files were created.</p>
<pre class="verbatim"><ol><li>  <span class="w">Makefile</span>.<span class="w">PL</span> - <span class="w">MakeMaker</span> <span class="w">script</span></li><li>  <span class="w">My</span>.<span class="w">pm</span>       - <span class="w">Encode</span> <span class="w">submodule</span></li><li>  <span class="w">t</span>/<span class="w">My</span>.<span class="w">t</span>      - <span class="w">test</span> <span class="w">file</span></li></ol></pre><dl>
<li><a class='view-title' id="1.1."></a><strong>1.</strong>
<p>If you want *.ucm installed together with the modules, do as follows;</p>
<pre class="verbatim"><ol><li>  <span class="i">$ mkdir</span> <span class="w">Encode</span></li><li>  <span class="i">$ mv</span> <span class="i">*.</span><span class="w">ucm</span> <span class="w">Encode</span></li><li>  <span class="i">$ enc2xs</span> -M <span class="w">My</span> <span class="w">Encode</span><span class="q">/*ucm</span></li></ol></pre></li>
</dl>
</li>
<li>
<p>Edit the files generated.  You don't have to if you have no time AND no
intention to give it to someone else.  But it is a good idea to edit
the pod and to add more tests.</p>
</li>
<li>
<p>Now issue a command all Perl Mongers love:</p>
<pre class="verbatim"><ol><li>  <span class="i">$ perl</span> <span class="w">Makefile</span>.<span class="w">PL</span></li><li>  <span class="w">Writing</span> <span class="w">Makefile</span> for <span class="w">Encode::My</span></li></ol></pre></li>
<li>
<p>Now all you have to do is make.</p>
<pre class="verbatim"><ol><li>  <span class="i">$ make</span></li><li>  <span class="w">cp</span> <span class="w">My</span>.<span class="w">pm</span> <span class="w">blib</span>/<span class="w">lib</span>/<span class="w">Encode</span>/<span class="w">My</span>.<span class="w">pm</span></li><li>  /<span class="w">usr</span>/<a class="l_k" href="functions/local.html">local</a><span class="q">/bin/perl</span> /<span class="w">usr</span>/<a class="l_k" href="functions/local.html">local</a><span class="q">/bin/</span><span class="w">enc2xs</span> -<span class="w">Q</span> -O \</li><li>    -o <span class="w">encode_t</span>.<span class="w">c</span> -f <span class="w">encode_t</span>.<span class="w">fnm</span></li><li>  <span class="w">Reading</span> <span class="w">myascii</span> <span class="s">(</span><span class="w">myascii</span><span class="s">)</span></li><li>  <span class="w">Writing</span> <span class="w">compiled</span> <span class="w">form</span></li><li>  <span class="n">128</span> <span class="w">bytes</span> <span class="w">in</span> <span class="w">string</span> <span class="w">tables</span></li><li>  <span class="n">384</span> <span class="w">bytes</span> <span class="s">(</span><span class="n">25</span>%<span class="s">)</span> <span class="w">saved</span> <span class="w">spotting</span> <span class="w">duplicates</span></li><li>  <span class="n">1</span> <span class="w">bytes</span> <span class="s">(</span><span class="n">99.2</span>%<span class="s">)</span> <span class="w">saved</span> <span class="w">using</span> <span class="w">substrings</span></li><li>  ....</li><li>  <a class="l_k" href="functions/chmod.html">chmod</a> <span class="n">644</span> <span class="w">blib</span>/<span class="w">arch</span>/<span class="w">auto</span>/<span class="w">Encode</span>/<span class="w">My</span>/<span class="w">My</span>.<span class="w">bs</span></li><li>  <span class="i">$</span></li></ol></pre><p>The time it takes varies depending on how fast your machine is and
how large your encoding is.  Unless you are working on something big
like euc-tw, it won't take too long.</p>
</li>
<li>
<p>You can "make install" already but you should test first.</p>
<pre class="verbatim"><ol><li>  <span class="i">$ make</span> <span class="w">test</span></li><li>  <span class="w">PERL_DL_NONLAZY</span>=<span class="n">1</span> /<span class="w">usr</span>/<a class="l_k" href="functions/local.html">local</a><span class="q">/bin/perl</span> -<span class="w">Iblib</span>/<span class="w">arch</span> -<span class="w">Iblib</span>/<span class="w">lib</span> \</li><li>    -e <span class="q">&#39;use Test::Harness  qw(&amp;runtests $verbose); \</span></li><li>    <span class="q">    $verbose=0; runtests @ARGV;&#39;</span> <span class="w">t</span><span class="q">/*.t</span></li><li>  <span class="q">  t/</span><span class="w">My</span>....<span class="w">ok</span></li><li>  <span class="w">All</span> <span class="w">tests</span> <span class="w">successful</span>.</li><li>  <span class="w">Files</span>=<span class="n">1</span><span class="cm">,</span> <span class="w">Tests</span>=<span class="n">2</span><span class="cm">,</span>  <span class="n">0</span> <span class="w">wallclock</span> <span class="i">secs</span></li><li>   <span class="s">(</span> <span class="n">0.09</span> <span class="w">cusr</span> + <span class="n">0.01</span> <span class="w">csys</span> = <span class="n">0.09</span> <span class="w">CPU</span><span class="s">)</span></li></ol></pre></li>
<li>
<p>If you are content with the test result, just "make install"</p>
</li>
<li>
<p>If you want to add your encoding to Encode's demand-loading list
(so you don't have to "use Encode::YourEncoding"), run</p>
<pre class="verbatim"><ol><li>  <span class="w">enc2xs</span> -C</li></ol></pre><p>to update Encode::ConfigLocal, a module that controls local settings.
After that, "use Encode;" is enough to load your encodings on demand.</p>
</li>
</dl>
<a class='view-head1' id="The-Unicode-Character-Map"></a><h2 class='h2' >The Unicode Character Map</h2>
<p>Encode uses the Unicode Character Map (UCM) format for source character
mappings.  This format is used by IBM's ICU package and was adopted
by Nick Ing-Simmons for use with the Encode module.  Since UCM is
more flexible than Tcl's Encoding Map and far more user-friendly,
this is the recommended formet for Encode now.</p>
<p>A UCM file looks like this.</p>
<pre class="verbatim"><ol><li>  <span class="c">#</span></li><li>  <span class="c"># Comments</span></li><li>  <span class="c">#</span></li><li>  <span class="q">&lt;code_set_name&gt;</span> <span class="q">&quot;US-ascii&quot;</span> <span class="c"># Required</span></li><li>  &lt;<span class="w">code_set_alias</span>&gt; <span class="q">&quot;ascii&quot;</span>   <span class="c"># Optional</span></li><li>  &lt;<span class="w">mb_cur_min</span>&gt; <span class="n">1</span>             <span class="c"># Required; usually 1</span></li><li>  &lt;<span class="w">mb_cur_max</span>&gt; <span class="n">1</span>             <span class="c"># Max. # of bytes/char</span></li><li>  &lt;<span class="w">subchar</span>&gt; \<span class="w">x3F</span>             <span class="c"># Substitution char</span></li><li>  <span class="c">#</span></li><li>  <span class="w">CHARMAP</span></li><li>  <span class="q">&lt;U0000&gt;</span> \<span class="w">x00</span> |<span class="n">0</span> <span class="c"># &lt;control&gt;</span></li><li>  &lt;<span class="w">U0001</span>&gt; \<span class="w">x01</span> |<span class="n">0</span> <span class="c"># &lt;control&gt;</span></li><li>  &lt;<span class="w">U0002</span>&gt; \<span class="w">x02</span> |<span class="n">0</span> <span class="c"># &lt;control&gt;</span></li><li>  ....</li><li>  <span class="q">&lt;U007C&gt;</span> \<span class="w">x7C</span> |<span class="n">0</span> <span class="c"># VERTICAL LINE</span></li><li>  &lt;<span class="w">U007D</span>&gt; \<span class="w">x7D</span> |<span class="n">0</span> <span class="c"># RIGHT CURLY BRACKET</span></li><li>  &lt;<span class="w">U007E</span>&gt; \<span class="w">x7E</span> |<span class="n">0</span> <span class="c"># TILDE</span></li><li>  &lt;<span class="w">U007F</span>&gt; \<span class="w">x7F</span> |<span class="n">0</span> <span class="c"># &lt;control&gt;</span></li><li>  END <span class="w">CHARMAP</span></li></ol></pre><ul>
<li>
<p>Anything that follows <code class="inline"><span class="c">#</span></code>
 is treated as a comment.</p>
</li>
<li>
<p>The header section continues until a line containing the word
CHARMAP. This section has a form of <i>&lt;keyword&gt; value</i>, one
pair per line.  Strings used as values must be quoted. Barewords are
treated as numbers.  <i>\xXX</i> represents a byte.</p>
<p>Most of the keywords are self-explanatory. <i>subchar</i> means
substitution character, not subcharacter.  When you decode a Unicode
sequence to this encoding but no matching character is found, the byte
sequence defined here will be used.  For most cases, the value here is
\x3F; in ASCII, this is a question mark.</p>
</li>
<li>
<p>CHARMAP starts the character map section.  Each line has a form as
follows:</p>
<pre class="verbatim"><ol><li>  <span class="q">&lt;UXXXX&gt;</span> \<span class="w">xXX</span>.. |<span class="n">0</span> <span class="c"># comment</span></li><li>    ^     ^      ^</li><li>    |     |      +- <span class="w">Fallback</span> <span class="w">flag</span></li><li>    |     +-------- <span class="w">Encoded</span> <span class="w">byte</span> <span class="w">sequence</span></li><li>    +-------------- <span class="w">Unicode</span> <span class="w">Character</span> <span class="w">ID</span> <span class="w">in</span> <a class="l_k" href="functions/hex.html">hex</a></li></ol></pre><p>The format is roughly the same as a header section except for the
fallback flag: | followed by 0..3.   The meaning of the possible
values is as follows:</p>
<ul>
<li><a class='view-title' id="%7c0"></a><strong>|0</strong>
<p>Round trip safe.  A character decoded to Unicode encodes back to the
same byte sequence.  Most characters have this flag.</p>
</li>
<li><a class='view-title' id="%7c1"></a><strong>|1</strong>
<p>Fallback for unicode -&gt; encoding.  When seen, enc2xs adds this
character for the encode map only.</p>
</li>
<li><a class='view-title' id="%7c2"></a><strong>|2</strong>
<p>Skip sub-char mapping should there be no code point.</p>
</li>
<li><a class='view-title' id="%7c3"></a><strong>|3</strong>
<p>Fallback for encoding -&gt; unicode.  When seen, enc2xs adds this
character for the decode map only.</p>
</li>
</ul>
</li>
<li>
<p>And finally, END OF CHARMAP ends the section.</p>
</li>
</ul>
<p>When you are manually creating a UCM file, you should copy ascii.ucm
or an existing encoding which is close to yours, rather than write
your own from scratch.</p>
<p>When you do so, make sure you leave at least <strong>U0000</strong> to <strong>U0020</strong> as
is, unless your environment is EBCDIC.</p>
<p><strong>CAVEAT</strong>: not all features in UCM are implemented.  For example,
icu:state is not used.  Because of that, you need to write a perl
module if you want to support algorithmical encodings, notably
the ISO-2022 series.  Such modules include <a href="https://search.cpan.org/perldoc/Encode::JP::2022_JP">Encode::JP::2022_JP</a>,
<a href="Encode/KR/2022_KR.html">Encode::KR::2022_KR</a>, and <a href="https://search.cpan.org/perldoc/Encode::TW::HZ">Encode::TW::HZ</a>.</p>
<a class='view-head2' id="Coping-with-duplicate-mappings"></a><h3 class='h3' >Coping with duplicate mappings</h3>
<p>When you create a map, you SHOULD make your mappings round-trip safe.
That is, <code class="inline"><span class="i">encode</span><span class="s">(</span><span class="q">&#39;your-encoding&#39;</span><span class="cm">,</span> <span class="i">decode</span><span class="s">(</span><span class="q">&#39;your-encoding&#39;</span><span class="cm">,</span> <span class="i">$data</span><span class="s">)</span><span class="s">)</span> eq
<span class="i">$data</span></code>
 stands for all characters that are marked as <code class="inline">|<span class="n">0</span></code>
.  Here is
how to make sure:</p>
<ul>
<li>
<p>Sort your map in Unicode order.</p>
</li>
<li>
<p>When you have a duplicate entry, mark either one with '|1' or '|3'.</p>
</li>
<li>
<p>And make sure the '|1' or '|3' entry FOLLOWS the '|0' entry.</p>
</li>
</ul>
<p>Here is an example from big5-eten.</p>
<pre class="verbatim"><ol><li>  <span class="q">&lt;U2550&gt;</span> \<span class="w">xF9</span>\<span class="w">xF9</span> |<span class="n">0</span></li><li>  &lt;<span class="w">U2550</span>&gt; \<span class="w">xA2</span>\<span class="w">xA4</span> |<span class="n">3</span></li></ol></pre><p>Internally Encoding -&gt; Unicode and Unicode -&gt; Encoding Map looks like
this;</p>
<pre class="verbatim"><ol><li>  <span class="w">E</span> <span class="w">to</span> <span class="w">U</span>               <span class="w">U</span> <span class="w">to</span> <span class="w">E</span></li><li>  --------------------------------------</li><li>  \<span class="w">xF9</span>\<span class="w">xF9</span> <span class="cm">=&gt;</span> <span class="w">U2550</span>    <span class="w">U2550</span> <span class="cm">=&gt;</span> \<span class="w">xF9</span>\<span class="w">xF9</span></li><li>  \<span class="w">xA2</span>\<span class="w">xA4</span> <span class="cm">=&gt;</span> <span class="w">U2550</span></li></ol></pre><p>So it is round-trip safe for \xF9\xF9.  But if the line above is upside
down, here is what happens.</p>
<pre class="verbatim"><ol><li>  <span class="w">E</span> <span class="w">to</span> <span class="w">U</span>               <span class="w">U</span> <span class="w">to</span> <span class="w">E</span></li><li>  --------------------------------------</li><li>  \<span class="w">xA2</span>\<span class="w">xA4</span> <span class="cm">=&gt;</span> <span class="w">U2550</span>    <span class="w">U2550</span> <span class="cm">=&gt;</span> \<span class="w">xF9</span>\<span class="i">xF9</span></li><li>  <span class="s">(</span>\<span class="w">xF9</span>\<span class="w">xF9</span> <span class="cm">=&gt;</span> <span class="w">U2550</span> <span class="w">is</span> <span class="w">now</span> <span class="w">overwritten</span>!<span class="s">)</span></li></ol></pre><p>The Encode package comes with <i>ucmlint</i>, a crude but sufficient
utility to check the integrity of a UCM file.  Check under the
Encode/bin directory for this.</p>
<a class='view-head1' id="Bookmarks"></a><h2 class='h2' >Bookmarks</h2>
<ul>
<li>
<p>ICU Home Page 
<a href="http://oss.software.ibm.com/icu/">http://oss.software.ibm.com/icu/</a></p>
</li>
<li>
<p>ICU Character Mapping Tables
<a href="http://oss.software.ibm.com/icu/charset/">http://oss.software.ibm.com/icu/charset/</a></p>
</li>
<li>
<p>ICU:Conversion Data
<a href="http://oss.software.ibm.com/icu/userguide/conversion-data.html">http://oss.software.ibm.com/icu/userguide/conversion-data.html</a></p>
</li>
</ul>
<a class='view-head1' id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p><a href="Encode.html">Encode</a>,
<a href="perlmod.html">perlmod</a>,
<a href="perlpod.html">perlpod</a></p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#Quick-Guide">Quick Guide</a></li><li><a href="#The-Unicode-Character-Map">The Unicode Character Map</a></li><ul><li><a href="#Coping-with-duplicate-mappings">Coping with duplicate mappings</a></li></ul><li><a href="#Bookmarks">Bookmarks</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul>


                  </div>
                </article>
              </div>
            </div>
          </main>
        </div>
           <footer class="footer row bg-light pt-5 pb-5">
       <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
           <div class="row">
               <div class="col-md-4">
                   <ul class="list-unstyled">
                       <li>
                           <h4>Site info</h4>
                       </li>
                       <li>Docs mantained by
                           <a href="//lists.perl.org/list/perl5-porters.html"
                               rel="noopener">Perl 5 Porters</a>
                       </li>
                       <li>Perldoc site development sponsored by
                           <a href="//opusvl.com" rel="noopener">
                           <img style="margin: 20px 20px 5px 10px" class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo">
                        </a>
                    <li><span class="about_perldoc"><a href="//about.html">About PerlDOC</a></span>
                    </li>
                       </li>
                   </ul>
               </div>
               <div class="col-md-8">
                   <div class="row">
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Manuals</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/index-overview.html">Overview</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/index-tutorials.html">Tutorials</a>
                               </li>
                               <li>
                                   <a href="/5.8.3/index-faq.html">FAQs</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/index-history.html">Changes</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Reference</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/index-language.html">Language</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/index-functions.html">Functions</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/perlop.html">Operators</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/perlvar.html">Variables</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Modules</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/index-modules-A.html">Modules</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/index-pragmas.html">Pragmas</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/index-utilities.html">Utilities</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Misc</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/index-licence.html">License</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/index-internals.html">Internals</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.8.3/index-platforms.html">Platforms</a>
                               </li>
                            <li>
                                <a
                                    href="/5.8.3/index-about.html">About</a>
                            </li>
                           </ul>
                       </div>
                   </div>
               </div>
               <div class=" col-12 footer-inf text-center">
                   <small>perldoc.perl.org - Official documentation for the Perl
                       programming language</small>
               </div>
           </div>
       </div>
   </footer>

        	<div class="beta-wrapper beta-bottom-right ">
		<div class="beta beta-blue  ">
			<a class="beta-link "
				href="//github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
				<span class="beta-text">
					This website is a Beta release.
				</span>
				<span class="beta-text">
					For any issues please raise a ticket on GitHub
				</span>
			</a>
		</div>
	</div>

        <script src="/public/js/main.min.js"></script>
      </body>

      </html>
