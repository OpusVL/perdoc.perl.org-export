      
      
      
      

      <!DOCTYPE html>
      <html lang="en">

      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Test::Builder::Tester - perldoc.perl.org">
        <link rel="icon" href="/public/img/favicon.ico">
        <title>Test::Builder::Tester - perldoc.perl.org</title>
        <link href="/public/css/main.min.css" rel="stylesheet">
        <link rel="canonical" href="/Test/Builder/Tester.html">
        <link
          href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900'
          rel='stylesheet' type='text/css'>
        <script>
          window.ga = window.ga || function () {
            (ga.q = ga.q || []).push(arguments)
          };
          ga.l = +new Date;
          ga('create', 'UA-1892152-2', 'auto'); // JJ's account
          ga('create', 'UA-50555-3', 'auto', 'perlOrg'); // perl.org account
          ga('require', 'outboundLinkTracker', {
            events: ['click', 'auxclick', 'contextmenu'],
          });
          ga('require', 'maxScrollTracker');
          ga('send', 'pageview');
          ga('perlOrg.send', 'pageview');
        </script>
        <script async src="https://www.google-analytics.com/analytics.js">
        </script>
        <script async src="/public/js/tracking.min.js"></script>
      </head>

      <body class="body container-fluid ">
        <div class="wrapper">

          <nav
    class="navbar navbar-dark bg-primary bg-perl fixed-top justify-content-between navbar-expand-lg">
    <a href="#content" class="skippy sr-only sr-only-focusable">
        <span class=' skippy-text'>Skip to main content</span>
    </a>
    <a class="navbar-brand" href="/">
        <img class="logo" src="/public/img/logo_perl_doc.svg"
            alt="Perl Documentation Logo" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#navbar" aria-controls="navbar" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ">
        <ul class="navbar-nav ml-auto navbar-right">
            <form class="nav-item dropdown search-wrapper">
                <input type="text" id='searchinput' aria-describedby='navbarDropdown5'
                    placeholder="Type query" class='search-input-field' value=''>

                <button href="#" data-toggle='dropdown' type="button"
                    aria-haspopup="true" aria-expanded='false' id="navbarDropdown5"
                    class="nav-link dropdown-toggle search-link">
                    <object tabindex='-1' focusable="false" class='search-icon'
                        data="/public/img/search.svg" type="image/svg+xml"
                        name='search icon'>search
                        icon</object>
                </button>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown5"
                    id='search-results'>
                    <p class='dropdown-item major-version'>
                        No results
                    </p>
                </div>
            </form>
            <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    
                        <p class='dropdown-item major-version'>
                            5.32
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.32.0/">5.32.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.30
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.30.3/">5.30.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.2/">5.30.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.1/">5.30.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.0/">5.30.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.28
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.28.3/">5.28.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.2/">5.28.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.1/">5.28.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.0/">5.28.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.26
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.26.3/">5.26.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.2/">5.26.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.1/">5.26.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.0/">5.26.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.24
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.24.4/">5.24.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.3/">5.24.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.2/">5.24.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.1/">5.24.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.0/">5.24.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.22
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.22.4/">5.22.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.3/">5.22.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.2/">5.22.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.1/">5.22.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.0/">5.22.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.20
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.20.3/">5.20.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.2/">5.20.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.1/">5.20.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.0/">5.20.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.18
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.18.4/">5.18.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.3/">5.18.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.2/">5.18.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.1/">5.18.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.0/">5.18.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.16
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.16.3/">5.16.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.2/">5.16.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.1/">5.16.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.0/">5.16.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.14
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.14.4/">5.14.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.3/">5.14.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.2/">5.14.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.1/">5.14.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.0/">5.14.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.12
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.12.5/">5.12.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.4/">5.12.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.3/">5.12.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.2/">5.12.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.1/">5.12.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.0/">5.12.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.10
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.10.1/">5.10.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.10.0/">5.10.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.8
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.8.9/">5.8.9</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.8/">5.8.8</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.7/">5.8.7</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.6/">5.8.6</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.5/">5.8.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.4/">5.8.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.3/">5.8.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.2/">5.8.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.1/">5.8.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.0/">5.8.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.6
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.6.2/">5.6.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.1/">5.6.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.0/">5.6.0</a>
                        
                        
                    
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                    <a class="dropdown-item"
                        href="/5.14.0/index-overview.html">Overview</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-tutorials.html">Tutorials</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-faq.html">FAQs</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-history.html">Changes</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-licence.html">License</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-language.html">Language</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-functions.html">Functions</a>
                    <a class="dropdown-item"
                        href="/5.14.0/perlop.html">Operators</a>
                    <a class="dropdown-item"
                        href="/5.14.0/perlvar.html">Variables</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-pragmas.html">Pragmas</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-utilities.html">Utilities</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-internals.html">Internals</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-platforms.html">Platforms</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3"
                    class="dropdown-menu letters-wrap">
                    <!--<a class="dropdown-item"
                        href="/5.14.0/index-modules.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-modules-by-cat.html">By
                        Category</a>-->
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-A.html">A</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-B.html">B</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-C.html">C</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-D.html">D</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-E.html">E</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-F.html">F</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-G.html">G</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-H.html">H</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-I.html">I</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-J.html">J</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-K.html">K</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-L.html">L</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-M.html">M</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-N.html">N</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-O.html">O</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-P.html">P</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-Q.html">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-R.html">R</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-S.html">S</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-T.html">T</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-U.html">U</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-V.html">V</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-W.html">W</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-X.html">X</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-Y.html">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-modules-Z.html">Z</a>
                    </div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown4" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Functions</a>
                <div aria-labelledby="navbarDropdown4"
                    class="dropdown-menu letters-wrap">
                    <a class="dropdown-item"
                        href="/5.14.0/index-functions.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.14.0/index-functions-by-cat.html">By
                        Category</a>
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#A">A</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#B">B</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#C">C</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#D">D</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#E">E</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#F">F</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#G">G</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#H">H</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#I">I</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#J">J</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#K">K</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#L">L</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#M">M</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#N">N</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#O">O</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#P">P</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#Q">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#R">R</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#S">S</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#T">T</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#U">U</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#V">V</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#W">W</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#X">X</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#Y">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.14.0/index-functions.html#Z">Z</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!--/.nav-collapse -->
</nav>


          <main class="row main-content pb-5 pt-5" id='content'>
            <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
              <div class="row">
                <div class="col-sm-12">
                  <div id="breadcrumbs">
                      
    <a href="../../index.html">Home</a>&nbsp; &gt;
    
      
        <a href="../../index-modules-T.html">Core modules (T)</a> &gt;
      
    
    Test::Builder::Tester
  

                  </div>
                </div>
              </div>
              <div class="row">
                <article class="col-sm-12 content">
                  <div class="documentation-wrapper">
                    <div id="perl_version">
                      <h7 class='page-title'> Perl 5 version 14.0
                        documentation</h7>
                    </div>
                    <h1>Test::Builder::Tester</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><ul><li><a href="#Functions">Functions</a></li></ul><li><a href="#BUGS">BUGS</a></li><li><a href="#AUTHOR">AUTHOR</a></li><li><a href="#NOTES">NOTES</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul><a class='view-head1' id="NAME"></a><h2 class='h2' >NAME</h2>
<p>Test::Builder::Tester - test testsuites that have been built with
Test::Builder</p>
<a class='view-head1' id="SYNOPSIS"></a><h2 class='h2' >SYNOPSIS</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Test::Builder::Tester</span> <span class="w">tests</span> <span class="cm">=&gt;</span> <span class="n">1</span><span class="sc">;</span></li><li>    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Test::More</span><span class="sc">;</span></li><li></li><li>    <span class="i">test_out</span><span class="s">(</span><span class="q">&quot;not ok 1 - foo&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">test_fail</span><span class="s">(</span><span class="n">+1</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">fail</span><span class="s">(</span><span class="q">&quot;foo&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">test_test</span><span class="s">(</span><span class="q">&quot;fail works&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><a class='view-head1' id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>A module that helps you test testing modules that are built with
<strong>Test::Builder</strong>.</p>
<p>The testing system is designed to be used by performing a three step
process for each test you wish to test.  This process starts with using
<code class="inline"><span class="w">test_out</span></code>
 and <code class="inline"><span class="w">test_err</span></code>
 in advance to declare what the testsuite you
are testing will output with <strong>Test::Builder</strong> to stdout and stderr.</p>
<p>You then can run the test(s) from your test suite that call
<strong>Test::Builder</strong>.  At this point the output of <strong>Test::Builder</strong> is
safely captured by <strong>Test::Builder::Tester</strong> rather than being
interpreted as real test output.</p>
<p>The final stage is to call <code class="inline"><span class="w">test_test</span></code>
 that will simply compare what you
predeclared to what <strong>Test::Builder</strong> actually outputted, and report the
results back with a "ok" or "not ok" (with debugging) to the normal
output.</p>
<a class='view-head2' id="Functions"></a><h3 class='h3' >Functions</h3>
<p>These are the six methods that are exported as default.</p>
<ul>
<li><a class='view-title' id="test_out"></a><strong>test_out</strong>
</li>
<li><a class='view-title' id="test_err"></a><strong>test_err</strong>
<p>Procedures for predeclaring the output that your test suite is
expected to produce until <code class="inline"><span class="w">test_test</span></code>
 is called.  These procedures
automatically assume that each line terminates with "\n".  So</p>
<pre class="verbatim"><ol><li>   <span class="i">test_out</span><span class="s">(</span><span class="q">&quot;ok 1&quot;</span><span class="cm">,</span><span class="q">&quot;ok 2&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>is the same as</p>
<pre class="verbatim"><ol><li>   <span class="i">test_out</span><span class="s">(</span><span class="q">&quot;ok 1\nok 2&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>which is even the same as</p>
<pre class="verbatim"><ol><li>   <span class="i">test_out</span><span class="s">(</span><span class="q">&quot;ok 1&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>   <span class="i">test_out</span><span class="s">(</span><span class="q">&quot;ok 2&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Once <code class="inline"><span class="w">test_out</span></code>
 or <code class="inline"><span class="w">test_err</span></code>
 (or <code class="inline"><span class="w">test_fail</span></code>
 or <code class="inline"><span class="w">test_diag</span></code>
) have
been called, all further output from <strong>Test::Builder</strong> will be
captured by <strong>Test::Builder::Tester</strong>.  This means that you will not
be able perform further tests to the normal output in the normal way
until you call <code class="inline"><span class="w">test_test</span></code>
 (well, unless you manually meddle with the
output filehandles)</p>
</li>
<li><a class='view-title' id="test_fail"></a><strong>test_fail</strong>
<p>Because the standard failure message that <strong>Test::Builder</strong> produces
whenever a test fails will be a common occurrence in your test error
output, and because it has changed between Test::Builder versions, rather
than forcing you to call <code class="inline"><span class="w">test_err</span></code>
 with the string all the time like
so</p>
<pre class="verbatim"><ol><li>    <span class="i">test_err</span><span class="s">(</span><span class="q">&quot;# Failed test ($0 at line &quot;</span>.<span class="i">line_num</span><span class="s">(</span><span class="n">+1</span><span class="s">)</span>.<span class="q">&quot;)&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p><code class="inline"><span class="w">test_fail</span></code>
 exists as a convenience function that can be called
instead.  It takes one argument, the offset from the current line that
the line that causes the fail is on.</p>
<pre class="verbatim"><ol><li>    <span class="i">test_fail</span><span class="s">(</span><span class="n">+1</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>This means that the example in the synopsis could be rewritten
more simply as:</p>
<pre class="verbatim"><ol><li>   <span class="i">test_out</span><span class="s">(</span><span class="q">&quot;not ok 1 - foo&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>   <span class="i">test_fail</span><span class="s">(</span><span class="n">+1</span><span class="s">)</span><span class="sc">;</span></li><li>   <span class="i">fail</span><span class="s">(</span><span class="q">&quot;foo&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>   <span class="i">test_test</span><span class="s">(</span><span class="q">&quot;fail works&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre></li>
<li><a class='view-title' id="test_diag"></a><strong>test_diag</strong>
<p>As most of the remaining expected output to the error stream will be
created by Test::Builder's <code class="inline"><span class="w">diag</span></code>
 function, <strong>Test::Builder::Tester</strong>
provides a convenience function <code class="inline"><span class="w">test_diag</span></code>
 that you can use instead of
<code class="inline"><span class="w">test_err</span></code>
.</p>
<p>The <code class="inline"><span class="w">test_diag</span></code>
 function prepends comment hashes and spacing to the
start and newlines to the end of the expected output passed to it and
adds it to the list of expected error output.  So, instead of writing</p>
<pre class="verbatim"><ol><li>   <span class="i">test_err</span><span class="s">(</span><span class="q">&quot;# Couldn&#39;t open file&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>you can write</p>
<pre class="verbatim"><ol><li>   <span class="i">test_diag</span><span class="s">(</span><span class="q">&quot;Couldn&#39;t open file&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Remember that <strong>Test::Builder</strong>'s diag function will not add newlines to
the end of output and test_diag will. So to check</p>
<pre class="verbatim"><ol><li>   <span class="w">Test::Builder</span><span class="w">-&gt;new</span><span class="w">-&gt;diag</span><span class="s">(</span><span class="q">&quot;foo\n&quot;</span><span class="cm">,</span><span class="q">&quot;bar\n&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>You would do</p>
<pre class="verbatim"><ol><li>  <span class="i">test_diag</span><span class="s">(</span><span class="q">&quot;foo&quot;</span><span class="cm">,</span><span class="q">&quot;bar&quot;</span><span class="s">)</span></li></ol></pre><p>without the newlines.</p>
</li>
<li><a class='view-title' id="test_test"></a><strong>test_test</strong>
<p>Actually performs the output check testing the tests, comparing the
data (with <code class="inline">eq</code>
) that we have captured from <strong>Test::Builder</strong> against
that that was declared with <code class="inline"><span class="w">test_out</span></code>
 and <code class="inline"><span class="w">test_err</span></code>
.</p>
<p>This takes name/value pairs that effect how the test is run.</p>
<ul>
<li><a class='view-title' id="title-(synonym-'name'%2c-'label')"></a><strong>title (synonym 'name', 'label')</strong>
<p>The name of the test that will be displayed after the <code class="inline"><span class="w">ok</span></code>
 or <code class="inline">not
<span class="w">ok</span></code>
.</p>
</li>
<li><a class='view-title' id="skip_out"></a><strong>skip_out</strong>
<p>Setting this to a true value will cause the test to ignore if the
output sent by the test to the output stream does not match that
declared with <code class="inline"><span class="w">test_out</span></code>
.</p>
</li>
<li><a class='view-title' id="skip_err"></a><strong>skip_err</strong>
<p>Setting this to a true value will cause the test to ignore if the
output sent by the test to the error stream does not match that
declared with <code class="inline"><span class="w">test_err</span></code>
.</p>
</li>
</ul>
<p>As a convenience, if only one argument is passed then this argument
is assumed to be the name of the test (as in the above examples.)</p>
<p>Once <code class="inline"><span class="w">test_test</span></code>
 has been run test output will be redirected back to
the original filehandles that <strong>Test::Builder</strong> was connected to
(probably STDOUT and STDERR,) meaning any further tests you run
will function normally and cause success/errors for <strong>Test::Harness</strong>.</p>
</li>
<li><a class='view-title' id="line_num"></a><strong>line_num</strong>
<p>A utility function that returns the line number that the function was
called on.  You can pass it an offset which will be added to the
result.  This is very useful for working out the correct text of
diagnostic functions that contain line numbers.</p>
<p>Essentially this is the same as the <code class="inline"><span class="w">__LINE__</span></code>
 macro, but the
<code class="inline"><span class="i">line_num</span><span class="s">(</span><span class="n">+3</span><span class="s">)</span></code>
 idiom is arguably nicer.</p>
</li>
</ul>
<p>In addition to the six exported functions there exists one
function that can only be accessed with a fully qualified function
call.</p>
<ul>
<li><a class='view-title' id="color"></a><strong>color</strong>
<p>When <code class="inline"><span class="w">test_test</span></code>
 is called and the output that your tests generate
does not match that which you declared, <code class="inline"><span class="w">test_test</span></code>
 will print out
debug information showing the two conflicting versions.  As this
output itself is debug information it can be confusing which part of
the output is from <code class="inline"><span class="w">test_test</span></code>
 and which was the original output from
your original tests.  Also, it may be hard to spot things like
extraneous whitespace at the end of lines that may cause your test to
fail even though the output looks similar.</p>
<p>To assist you <code class="inline"><span class="w">test_test</span></code>
 can colour the background of the debug
information to disambiguate the different types of output. The debug
output will have its background coloured green and red.  The green
part represents the text which is the same between the executed and
actual output, the red shows which part differs.</p>
<p>The <code class="inline"><span class="w">color</span></code>
 function determines if colouring should occur or not.
Passing it a true or false value will enable or disable colouring
respectively, and the function called with no argument will return the
current setting.</p>
<p>To enable colouring from the command line, you can use the
<strong>Text::Builder::Tester::Color</strong> module like so:</p>
<pre class="verbatim"><ol><li>   <span class="w">perl</span> -<span class="w">Mlib</span>=<span class="w">Text::Builder::Tester::Color</span> <span class="w">test</span>.<span class="w">t</span></li></ol></pre><p>Or by including the <strong>Test::Builder::Tester::Color</strong> module directly in
the PERL5LIB.</p>
</li>
</ul>
<a class='view-head1' id="BUGS"></a><h2 class='h2' >BUGS</h2>
<p>Calls <code class="inline">&lt;<span class="w">Test::Builder</span>-</code>
no_ending&gt;&gt; turning off the ending tests.
This is needed as otherwise it will trip out because we've run more
tests than we strictly should have and it'll register any failures we
had that we were testing for as real failures.</p>
<p>The color function doesn't work unless <strong>Term::ANSIColor</strong> is
compatible with your terminal.</p>
<p>Bugs (and requests for new features) can be reported to the author
though the CPAN RT system:
<a href="http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Test-Builder-Tester">http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Test-Builder-Tester</a></p>
<a class='view-head1' id="AUTHOR"></a><h2 class='h2' >AUTHOR</h2>
<p>Copyright Mark Fowler &lt;mark@twoshortplanks.com&gt; 2002, 2004.</p>
<p>Some code taken from <strong>Test::More</strong> and <strong>Test::Catch</strong>, written by by
Michael G Schwern &lt;schwern@pobox.com&gt;.  Hence, those parts
Copyright Micheal G Schwern 2001.  Used and distributed with
permission.</p>
<p>This program is free software; you can redistribute it
and/or modify it under the same terms as Perl itself.</p>
<a class='view-head1' id="NOTES"></a><h2 class='h2' >NOTES</h2>
<p>Thanks to Richard Clamp &lt;richardc@unixbeard.net&gt; for letting
me use his testing system to try this module out on.</p>
<a class='view-head1' id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p><a href="../../Test/Builder.html">Test::Builder</a>, <a href="../../Test/Builder/Tester/Color.html">Test::Builder::Tester::Color</a>, <a href="../../Test/More.html">Test::More</a>.</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><ul><li><a href="#Functions">Functions</a></li></ul><li><a href="#BUGS">BUGS</a></li><li><a href="#AUTHOR">AUTHOR</a></li><li><a href="#NOTES">NOTES</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul>


                  </div>
                </article>
              </div>
            </div>
          </main>
        </div>
           <footer class="footer row bg-light pt-5 pb-5">
       <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
           <div class="row">
               <div class="col-md-4">
                   <ul class="list-unstyled">
                       <li>
                           <h4>Site info</h4>
                       </li>
                       <li>Docs mantained by
                           <a href="//lists.perl.org/list/perl5-porters.html"
                               rel="noopener">Perl 5 Porters</a>
                       </li>
                       <li>Perldoc site development sponsored by
                           <a href="//opusvl.com" rel="noopener">
                           <img style="margin: 20px 20px 5px 10px" class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo">
                        </a>
                    <li><span class="about_perldoc"><a href="//about.html">About PerlDOC</a></span>
                    </li>
                       </li>
                   </ul>
               </div>
               <div class="col-md-8">
                   <div class="row">
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Manuals</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/index-overview.html">Overview</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/index-tutorials.html">Tutorials</a>
                               </li>
                               <li>
                                   <a href="/5.14.0/index-faq.html">FAQs</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/index-history.html">Changes</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Reference</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/index-language.html">Language</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/index-functions.html">Functions</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/perlop.html">Operators</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/perlvar.html">Variables</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Modules</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/index-modules-A.html">Modules</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/index-pragmas.html">Pragmas</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/index-utilities.html">Utilities</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Misc</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/index-licence.html">License</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/index-internals.html">Internals</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.14.0/index-platforms.html">Platforms</a>
                               </li>
                            <li>
                                <a
                                    href="/5.14.0/index-about.html">About</a>
                            </li>
                           </ul>
                       </div>
                   </div>
               </div>
               <div class=" col-12 footer-inf text-center">
                   <small>perldoc.perl.org - Official documentation for the Perl
                       programming language</small>
               </div>
           </div>
       </div>
   </footer>

        	<div class="beta-wrapper beta-bottom-right ">
		<div class="beta beta-blue  ">
			<a class="beta-link "
				href="//github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
				<span class="beta-text">
					This website is a Beta release.
				</span>
				<span class="beta-text">
					For any issues please raise a ticket on GitHub
				</span>
			</a>
		</div>
	</div>

        <script src="/public/js/main.min.js"></script>
      </body>

      </html>
