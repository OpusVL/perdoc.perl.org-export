      
      
      
      

      <!DOCTYPE html>
      <html lang="en">

      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Test2::API::Instance - perldoc.perl.org">
        <link rel="icon" href="/public/img/favicon.ico">
        <title>Test2::API::Instance - perldoc.perl.org</title>
        <link href="/public/css/main.min.css" rel="stylesheet">
        <link rel="canonical" href="/Test2/API/Instance.html">
        <link
          href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900'
          rel='stylesheet' type='text/css'>
        <script>
          window.ga = window.ga || function () {
            (ga.q = ga.q || []).push(arguments)
          };
          ga.l = +new Date;
          ga('create', 'UA-1892152-2', 'auto'); // JJ's account
          ga('create', 'UA-50555-3', 'auto', 'perlOrg'); // perl.org account
          ga('require', 'outboundLinkTracker', {
            events: ['click', 'auxclick', 'contextmenu'],
          });
          ga('require', 'maxScrollTracker');
          ga('send', 'pageview');
          ga('perlOrg.send', 'pageview');
        </script>
        <script async src="https://www.google-analytics.com/analytics.js">
        </script>
        <script async src="/public/js/tracking.min.js"></script>
      </head>

      <body class="body container-fluid ">
        <div class="wrapper">

          <nav
    class="navbar navbar-dark bg-primary bg-perl fixed-top justify-content-between navbar-expand-lg">
    <a href="#content" class="skippy sr-only sr-only-focusable">
        <span class=' skippy-text'>Skip to main content</span>
    </a>
    <a class="navbar-brand" href="/">
        <img class="logo" src="/public/img/logo_perl_doc.svg"
            alt="Perl Documentation Logo" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#navbar" aria-controls="navbar" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ">
        <ul class="navbar-nav ml-auto navbar-right">
            <form class="nav-item dropdown search-wrapper">
                <input type="text" id='searchinput' aria-describedby='navbarDropdown5'
                    placeholder="Type query" class='search-input-field' value=''>

                <button href="#" data-toggle='dropdown' type="button"
                    aria-haspopup="true" aria-expanded='false' id="navbarDropdown5"
                    class="nav-link dropdown-toggle search-link">
                    <object tabindex='-1' focusable="false" class='search-icon'
                        data="/public/img/search.svg" type="image/svg+xml"
                        name='search icon'>search
                        icon</object>
                </button>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown5"
                    id='search-results'>
                    <p class='dropdown-item major-version'>
                        No results
                    </p>
                </div>
            </form>
            <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    
                        <p class='dropdown-item major-version'>
                            5.32
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.32.0/">5.32.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.30
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.30.3/">5.30.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.2/">5.30.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.1/">5.30.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.0/">5.30.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.28
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.28.3/">5.28.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.2/">5.28.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.1/">5.28.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.0/">5.28.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.26
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.26.3/">5.26.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.2/">5.26.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.1/">5.26.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.0/">5.26.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.24
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.24.4/">5.24.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.3/">5.24.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.2/">5.24.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.1/">5.24.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.0/">5.24.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.22
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.22.4/">5.22.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.3/">5.22.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.2/">5.22.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.1/">5.22.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.0/">5.22.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.20
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.20.3/">5.20.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.2/">5.20.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.1/">5.20.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.0/">5.20.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.18
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.18.4/">5.18.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.3/">5.18.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.2/">5.18.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.1/">5.18.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.0/">5.18.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.16
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.16.3/">5.16.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.2/">5.16.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.1/">5.16.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.0/">5.16.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.14
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.14.4/">5.14.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.3/">5.14.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.2/">5.14.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.1/">5.14.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.0/">5.14.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.12
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.12.5/">5.12.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.4/">5.12.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.3/">5.12.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.2/">5.12.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.1/">5.12.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.0/">5.12.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.10
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.10.1/">5.10.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.10.0/">5.10.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.8
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.8.9/">5.8.9</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.8/">5.8.8</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.7/">5.8.7</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.6/">5.8.6</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.5/">5.8.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.4/">5.8.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.3/">5.8.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.2/">5.8.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.1/">5.8.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.0/">5.8.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.6
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.6.2/">5.6.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.1/">5.6.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.0/">5.6.0</a>
                        
                        
                    
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                    <a class="dropdown-item"
                        href="/5.26.0/index-overview.html">Overview</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-tutorials.html">Tutorials</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-faq.html">FAQs</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-history.html">Changes</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-licence.html">License</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-language.html">Language</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-functions.html">Functions</a>
                    <a class="dropdown-item"
                        href="/5.26.0/perlop.html">Operators</a>
                    <a class="dropdown-item"
                        href="/5.26.0/perlvar.html">Variables</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-pragmas.html">Pragmas</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-utilities.html">Utilities</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-internals.html">Internals</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-platforms.html">Platforms</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3"
                    class="dropdown-menu letters-wrap">
                    <!--<a class="dropdown-item"
                        href="/5.26.0/index-modules.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-modules-by-cat.html">By
                        Category</a>-->
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-A.html">A</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-B.html">B</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-C.html">C</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-D.html">D</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-E.html">E</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-F.html">F</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-G.html">G</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-H.html">H</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-I.html">I</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-J.html">J</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-K.html">K</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-L.html">L</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-M.html">M</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-N.html">N</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-O.html">O</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-P.html">P</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-Q.html">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-R.html">R</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-S.html">S</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-T.html">T</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-U.html">U</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-V.html">V</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-W.html">W</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-X.html">X</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-Y.html">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-modules-Z.html">Z</a>
                    </div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown4" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Functions</a>
                <div aria-labelledby="navbarDropdown4"
                    class="dropdown-menu letters-wrap">
                    <a class="dropdown-item"
                        href="/5.26.0/index-functions.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.26.0/index-functions-by-cat.html">By
                        Category</a>
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#A">A</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#B">B</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#C">C</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#D">D</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#E">E</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#F">F</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#G">G</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#H">H</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#I">I</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#J">J</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#K">K</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#L">L</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#M">M</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#N">N</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#O">O</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#P">P</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#Q">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#R">R</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#S">S</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#T">T</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#U">U</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#V">V</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#W">W</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#X">X</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#Y">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.26.0/index-functions.html#Z">Z</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!--/.nav-collapse -->
</nav>


          <main class="row main-content pb-5 pt-5" id='content'>
            <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
              <div class="row">
                <div class="col-sm-12">
                  <div id="breadcrumbs">
                      
    <a href="../../index.html">Home</a>&nbsp; &gt;
    
      
        <a href="../../index-modules-T.html">Core modules (T)</a> &gt;
      
    
    Test2::API::Instance
  

                  </div>
                </div>
              </div>
              <div class="row">
                <article class="col-sm-12 content">
                  <div class="documentation-wrapper">
                    <div id="perl_version">
                      <h7 class='page-title'> Perl 5 version 26.0
                        documentation</h7>
                    </div>
                    <h1>Test2::API::Instance</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#SOURCE">SOURCE</a></li><li><a href="#MAINTAINERS">MAINTAINERS</a></li><li><a href="#AUTHORS">AUTHORS</a></li><li><a href="#COPYRIGHT">COPYRIGHT</a></li></ul><a class='view-head1' id="NAME"></a><h2 class='h2' >NAME</h2>
<p>Test2::API::Instance - Object used by Test2::API under the hood</p>
<a class='view-head1' id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>This object encapsulates the global shared state tracked by
<a href="../../Test2.html">Test2</a>. A single global instance of this package is stored (and
obscured) by the <a href="../../Test2/API.html">Test2::API</a> package.</p>
<p>There is no reason to directly use this package. This package is documented for
completeness. This package can change, or go away completely at any time.
Directly using, or monkeypatching this package is not supported in any way
shape or form.</p>
<a class='view-head1' id="SYNOPSIS"></a><h2 class='h2' >SYNOPSIS</h2>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../../functions/use.html">use</a> <span class="w">Test2::API::Instance</span><span class="sc">;</span></li><li></li><li>    <a class="l_k" href="../../functions/my.html">my</a> <span class="i">$obj</span> = <span class="w">Test2::API::Instance</span><span class="w">-&gt;new</span><span class="sc">;</span></li></ol></pre><ul>
<li><a class='view-title' id="%24pid-%3d-%24obj-%3epid"></a><strong>$pid = $obj-&gt;pid</strong>
<p>PID of this instance.</p>
</li>
<li><a class='view-title' id="%24obj-%3etid"></a><strong>$obj-&gt;tid</strong>
<p>Thread ID of this instance.</p>
</li>
<li><a class='view-title' id="%24obj-%3ereset()"></a><strong>$obj-&gt;reset()</strong>
<p>Reset the object to defaults.</p>
</li>
<li><a class='view-title' id="%24obj-%3eload()"></a><strong>$obj-&gt;load()</strong>
<p>Set the internal state to loaded, and run and stored post-load callbacks.</p>
</li>
<li><a class='view-title' id="%24bool-%3d-%24obj-%3eloaded"></a><strong>$bool = $obj-&gt;loaded</strong>
<p>Check if the state is set to loaded.</p>
</li>
<li><a class='view-title' id="%24arrayref-%3d-%24obj-%3epost_load_callbacks"></a><strong>$arrayref = $obj-&gt;post_load_callbacks</strong>
<p>Get the post-load callbacks.</p>
</li>
<li><a class='view-title' id="%24obj-%3eadd_post_load_callback(sub-%7b-...-%7d)"></a><strong>$obj-&gt;add_post_load_callback(sub { ... })</strong>
<p>Add a post-load callback. If <code class="inline"><span class="i">load</span><span class="s">(</span><span class="s">)</span></code>
 has already been called then the callback will
be immediately executed. If <code class="inline"><span class="i">load</span><span class="s">(</span><span class="s">)</span></code>
 has not been called then the callback will be
stored and executed later when <code class="inline"><span class="i">load</span><span class="s">(</span><span class="s">)</span></code>
 is called.</p>
</li>
<li><a class='view-title' id="%24hashref-%3d-%24obj-%3econtexts()"></a><strong>$hashref = $obj-&gt;contexts()</strong>
<p>Get a hashref of all active contexts keyed by hub id.</p>
</li>
<li><a class='view-title' id="%24arrayref-%3d-%24obj-%3econtext_acquire_callbacks"></a><strong>$arrayref = $obj-&gt;context_acquire_callbacks</strong>
<p>Get all context acquire callbacks.</p>
</li>
<li><a class='view-title' id="%24arrayref-%3d-%24obj-%3econtext_init_callbacks"></a><strong>$arrayref = $obj-&gt;context_init_callbacks</strong>
<p>Get all context init callbacks.</p>
</li>
<li><a class='view-title' id="%24arrayref-%3d-%24obj-%3econtext_release_callbacks"></a><strong>$arrayref = $obj-&gt;context_release_callbacks</strong>
<p>Get all context release callbacks.</p>
</li>
<li><a class='view-title' id="%24obj-%3eadd_context_init_callback(sub-%7b-...-%7d)"></a><strong>$obj-&gt;add_context_init_callback(sub { ... })</strong>
<p>Add a context init callback. Subs are called every time a context is created. Subs
get the newly created context as their only argument.</p>
</li>
<li><a class='view-title' id="%24obj-%3eadd_context_release_callback(sub-%7b-...-%7d)"></a><strong>$obj-&gt;add_context_release_callback(sub { ... })</strong>
<p>Add a context release callback. Subs are called every time a context is released. Subs
get the released context as their only argument. These callbacks should not
call release on the context.</p>
</li>
<li><a class='view-title' id="%24obj-%3eset_exit()"></a><strong>$obj-&gt;set_exit()</strong>
<p>This is intended to be called in an <code class="inline"><a class="l_k" href="../../functions/END.html">END</a> <span class="s">{</span> ... <span class="s">}</span></code>
 block. This will look at
test state and set $?. This will also call any end callbacks, and wait on child
processes/threads.</p>
</li>
<li><a class='view-title' id="%24obj-%3eipc_enable_shm()"></a><strong>$obj-&gt;ipc_enable_shm()</strong>
<p>Turn on SHM for IPC (if possible)</p>
</li>
<li><a class='view-title' id="%24shm_id-%3d-%24obj-%3eipc_shm_id()"></a><strong>$shm_id = $obj-&gt;ipc_shm_id()</strong>
<p>If SHM is enabled for IPC this will be the shm_id for it.</p>
</li>
<li><a class='view-title' id="%24shm_size-%3d-%24obj-%3eipc_shm_size()"></a><strong>$shm_size = $obj-&gt;ipc_shm_size()</strong>
<p>If SHM is enabled for IPC this will be the size of it.</p>
</li>
<li><a class='view-title' id="%24shm_last_val-%3d-%24obj-%3eipc_shm_last()"></a><strong>$shm_last_val = $obj-&gt;ipc_shm_last()</strong>
<p>If SHM is enabled for IPC this will return the last SHM value seen.</p>
</li>
<li><a class='view-title' id="%24obj-%3eset_ipc_pending(%24val)"></a><strong>$obj-&gt;set_ipc_pending($val)</strong>
<p>use the IPC SHM to tell other processes and threads there is a pending event.
<code class="inline"><span class="i">$val</span></code>
 should be a unique value no other thread/process will generate.</p>
<p><strong>Note:</strong> This will also make the current process see a pending event. It does
not set <code class="inline"><span class="i">ipc_shm_last</span><span class="s">(</span><span class="s">)</span></code>
, this is important because doing so could hide a
previous change.</p>
</li>
<li><a class='view-title' id="%24pending-%3d-%24obj-%3eget_ipc_pending()"></a><strong>$pending = $obj-&gt;get_ipc_pending()</strong>
<p>This returns -1 if SHM is not enabled for IPC.</p>
<p>This returns 0 if the SHM value matches the last known value, which means there
are no pending events.</p>
<p>This returns 1 if the SHM value has changed, which means there are probably
pending events.</p>
<p>When 1 is returned this will set <code class="inline"><span class="i">$obj</span><span class="i">-&gt;ipc_shm_last</span><span class="s">(</span><span class="s">)</span></code>
.</p>
</li>
<li><a class='view-title' id="%24drivers-%3d-%24obj-%3eipc_drivers"></a><strong>$drivers = $obj-&gt;ipc_drivers</strong>
<p>Get the list of IPC drivers.</p>
</li>
<li><a class='view-title' id="%24obj-%3eadd_ipc_driver(%24DRIVER_CLASS)"></a><strong>$obj-&gt;add_ipc_driver($DRIVER_CLASS)</strong>
<p>Add an IPC driver to the list. The most recently added IPC driver will become
the global one during initialization. If a driver is added after initialization
has occurred a warning will be generated:</p>
<pre class="verbatim"><ol><li>    <span class="q">&quot;IPC driver $driver loaded too late to be used as the global ipc driver&quot;</span></li></ol></pre></li>
<li><a class='view-title' id="%24bool-%3d-%24obj-%3eipc_polling"></a><strong>$bool = $obj-&gt;ipc_polling</strong>
<p>Check if polling is enabled.</p>
</li>
<li><a class='view-title' id="%24obj-%3eenable_ipc_polling"></a><strong>$obj-&gt;enable_ipc_polling</strong>
<p>Turn on polling. This will cull events from other processes and threads every
time a context is created.</p>
</li>
<li><a class='view-title' id="%24obj-%3edisable_ipc_polling"></a><strong>$obj-&gt;disable_ipc_polling</strong>
<p>Turn off IPC polling.</p>
</li>
<li><a class='view-title' id="%24bool-%3d-%24obj-%3eno_wait"></a><strong>$bool = $obj-&gt;no_wait</strong>
</li>
<li><a class='view-title' id="%24bool-%3d-%24obj-%3eset_no_wait(%24bool)"></a><strong>$bool = $obj-&gt;set_no_wait($bool)</strong>
<p>Get/Set no_wait. This option is used to turn off process/thread waiting at exit.</p>
</li>
<li><a class='view-title' id="%24arrayref-%3d-%24obj-%3eexit_callbacks"></a><strong>$arrayref = $obj-&gt;exit_callbacks</strong>
<p>Get the exit callbacks.</p>
</li>
<li><a class='view-title' id="%24obj-%3eadd_exit_callback(sub-%7b-...-%7d)"></a><strong>$obj-&gt;add_exit_callback(sub { ... })</strong>
<p>Add an exit callback. This callback will be called by <code class="inline"><span class="i">set_exit</span><span class="s">(</span><span class="s">)</span></code>
.</p>
</li>
<li><a class='view-title' id="%24bool-%3d-%24obj-%3efinalized"></a><strong>$bool = $obj-&gt;finalized</strong>
<p>Check if the object is finalized. Finalization happens when either <code class="inline"><span class="i">ipc</span><span class="s">(</span><span class="s">)</span></code>
,
<code class="inline"><span class="i">stack</span><span class="s">(</span><span class="s">)</span></code>
, or <code class="inline"><a class="l_k" href="../../functions/format.html">format()</a></code> are called on the object. Once finalization happens
these fields are considered unchangeable (not enforced here, enforced by
<a href="../../Test2.html">Test2</a>).</p>
</li>
<li><a class='view-title' id="%24ipc-%3d-%24obj-%3eipc"></a><strong>$ipc = $obj-&gt;ipc</strong>
<p>Get the one true IPC instance.</p>
</li>
<li><a class='view-title' id="%24stack-%3d-%24obj-%3estack"></a><strong>$stack = $obj-&gt;stack</strong>
<p>Get the one true hub stack.</p>
</li>
<li><a class='view-title' id="%24formatter-%3d-%24obj-%3eformatter"></a><strong>$formatter = $obj-&gt;formatter</strong>
<p>Get the global formatter. By default this is the <code class="inline"><span class="q">&#39;Test2::Formatter::TAP&#39;</span></code>

package. This could be any package that implements the <code class="inline"><a class="l_k" href="../../functions/write.html">write()</a></code> method. This
can also be an instantiated object.</p>
</li>
<li><a class='view-title' id="%24bool-%3d-%24obj-%3eformatter_set()"></a><strong>$bool = $obj-&gt;formatter_set()</strong>
<p>Check if a formatter has been set.</p>
</li>
<li><a class='view-title' id="%24obj-%3eadd_formatter(%24class)"></a><strong>$obj-&gt;add_formatter($class)</strong>
</li>
<li><a class='view-title' id="%24obj-%3eadd_formatter(%24obj)"></a><strong>$obj-&gt;add_formatter($obj)</strong>
<p>Add a formatter. The most recently added formatter will become the global one
during initialization. If a formatter is added after initialization has occurred
a warning will be generated:</p>
<pre class="verbatim"><ol><li>    <span class="q">&quot;Formatter $formatter loaded too late to be used as the global formatter&quot;</span></li></ol></pre></li>
</ul>
<a class='view-head1' id="SOURCE"></a><h2 class='h2' >SOURCE</h2>
<p>The source code repository for Test2 can be found at
<i><a href="http://github.com/Test-More/test-more/">http://github.com/Test-More/test-more/</a></i>.</p>
<a class='view-head1' id="MAINTAINERS"></a><h2 class='h2' >MAINTAINERS</h2>
<ul>
<li><a class='view-title' id="Chad-Granum-%3cexodist%40cpan.org%3e"></a><strong>Chad Granum &lt;exodist@cpan.org&gt;</strong>
</li>
</ul>
<a class='view-head1' id="AUTHORS"></a><h2 class='h2' >AUTHORS</h2>
<ul>
<li><a class='view-title' id="Chad-Granum-%3cexodist%40cpan.org%3e"></a><strong>Chad Granum &lt;exodist@cpan.org&gt;</strong>
</li>
</ul>
<a class='view-head1' id="COPYRIGHT"></a><h2 class='h2' >COPYRIGHT</h2>
<p>Copyright 2016 Chad Granum &lt;exodist@cpan.org&gt;.</p>
<p>This program is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.</p>
<p>See <i><a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></i></p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><li><a href="#SYNOPSIS">SYNOPSIS</a></li><li><a href="#SOURCE">SOURCE</a></li><li><a href="#MAINTAINERS">MAINTAINERS</a></li><li><a href="#AUTHORS">AUTHORS</a></li><li><a href="#COPYRIGHT">COPYRIGHT</a></li></ul>


                  </div>
                </article>
              </div>
            </div>
          </main>
        </div>
           <footer class="footer row bg-light pt-5 pb-5">
       <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
           <div class="row">
               <div class="col-md-4">
                   <ul class="list-unstyled">
                       <li>
                           <h4>Site info</h4>
                       </li>
                       <li>Docs mantained by
                           <a href="//lists.perl.org/list/perl5-porters.html"
                               rel="noopener">Perl 5 Porters</a>
                       </li>
                       <li>Perldoc site development sponsored by
                           <a href="//opusvl.com" rel="noopener">
                           <img style="margin: 20px 20px 5px 10px" class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo">
                        </a>
                    <li><span class="about_perldoc"><a href="//about.html">About PerlDOC</a></span>
                    </li>
                       </li>
                   </ul>
               </div>
               <div class="col-md-8">
                   <div class="row">
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Manuals</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/index-overview.html">Overview</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/index-tutorials.html">Tutorials</a>
                               </li>
                               <li>
                                   <a href="/5.26.0/index-faq.html">FAQs</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/index-history.html">Changes</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Reference</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/index-language.html">Language</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/index-functions.html">Functions</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/perlop.html">Operators</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/perlvar.html">Variables</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Modules</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/index-modules-A.html">Modules</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/index-pragmas.html">Pragmas</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/index-utilities.html">Utilities</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Misc</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/index-licence.html">License</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/index-internals.html">Internals</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.26.0/index-platforms.html">Platforms</a>
                               </li>
                            <li>
                                <a
                                    href="/5.26.0/index-about.html">About</a>
                            </li>
                           </ul>
                       </div>
                   </div>
               </div>
               <div class=" col-12 footer-inf text-center">
                   <small>perldoc.perl.org - Official documentation for the Perl
                       programming language</small>
               </div>
           </div>
       </div>
   </footer>

        	<div class="beta-wrapper beta-bottom-right ">
		<div class="beta beta-blue  ">
			<a class="beta-link "
				href="//github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
				<span class="beta-text">
					This website is a Beta release.
				</span>
				<span class="beta-text">
					For any issues please raise a ticket on GitHub
				</span>
			</a>
		</div>
	</div>

        <script src="/public/js/main.min.js"></script>
      </body>

      </html>
