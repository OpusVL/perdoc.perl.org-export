      
      
      
      

      <!DOCTYPE html>
      <html lang="en">

      <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="perlre - perldoc.perl.org">
        <link rel="icon" href="/public/img/favicon.ico">
        <title>perlre - perldoc.perl.org</title>
        <link href="/public/css/main.min.css" rel="stylesheet">
        <link rel="canonical" href="/perlre.html">
        <link
          href='https://fonts.googleapis.com/css?family=Lato:400,100,300,700,900'
          rel='stylesheet' type='text/css'>
        <script>
          window.ga = window.ga || function () {
            (ga.q = ga.q || []).push(arguments)
          };
          ga.l = +new Date;
          ga('create', 'UA-1892152-2', 'auto'); // JJ's account
          ga('create', 'UA-50555-3', 'auto', 'perlOrg'); // perl.org account
          ga('require', 'outboundLinkTracker', {
            events: ['click', 'auxclick', 'contextmenu'],
          });
          ga('require', 'maxScrollTracker');
          ga('send', 'pageview');
          ga('perlOrg.send', 'pageview');
        </script>
        <script async src="https://www.google-analytics.com/analytics.js">
        </script>
        <script async src="/public/js/tracking.min.js"></script>
      </head>

      <body class="body container-fluid ">
        <div class="wrapper">

          <nav
    class="navbar navbar-dark bg-primary bg-perl fixed-top justify-content-between navbar-expand-lg">
    <a href="#content" class="skippy sr-only sr-only-focusable">
        <span class=' skippy-text'>Skip to main content</span>
    </a>
    <a class="navbar-brand" href="/">
        <img class="logo" src="/public/img/logo_perl_doc.svg"
            alt="Perl Documentation Logo" />
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#navbar" aria-controls="navbar" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div id="navbar" class="collapse navbar-collapse ">
        <ul class="navbar-nav ml-auto navbar-right">
            <form class="nav-item dropdown search-wrapper">
                <input type="text" id='searchinput' aria-describedby='navbarDropdown5'
                    placeholder="Type query" class='search-input-field' value=''>

                <button href="#" data-toggle='dropdown' type="button"
                    aria-haspopup="true" aria-expanded='false' id="navbarDropdown5"
                    class="nav-link dropdown-toggle search-link">
                    <object tabindex='-1' focusable="false" class='search-icon'
                        data="/public/img/search.svg" type="image/svg+xml"
                        name='search icon'>search
                        icon</object>
                </button>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown5"
                    id='search-results'>
                    <p class='dropdown-item major-version'>
                        No results
                    </p>
                </div>
            </form>
            <li class="nav-item dropdown">
                <a id="navbarDropdown" href="#" class="nav-link dropdown-toggle"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Perl versions</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    
                        <p class='dropdown-item major-version'>
                            5.32
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.32.0/">5.32.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.30
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.30.3/">5.30.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.2/">5.30.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.1/">5.30.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.30.0/">5.30.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.28
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.28.3/">5.28.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.2/">5.28.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.1/">5.28.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.28.0/">5.28.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.26
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.26.3/">5.26.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.2/">5.26.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.1/">5.26.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.26.0/">5.26.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.24
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.24.4/">5.24.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.3/">5.24.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.2/">5.24.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.1/">5.24.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.24.0/">5.24.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.22
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.22.4/">5.22.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.3/">5.22.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.2/">5.22.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.1/">5.22.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.22.0/">5.22.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.20
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.20.3/">5.20.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.2/">5.20.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.1/">5.20.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.20.0/">5.20.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.18
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.18.4/">5.18.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.3/">5.18.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.2/">5.18.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.1/">5.18.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.18.0/">5.18.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.16
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.16.3/">5.16.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.2/">5.16.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.1/">5.16.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.16.0/">5.16.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.14
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.14.4/">5.14.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.3/">5.14.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.2/">5.14.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.1/">5.14.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.14.0/">5.14.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.12
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.12.5/">5.12.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.4/">5.12.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.3/">5.12.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.2/">5.12.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.1/">5.12.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.12.0/">5.12.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.10
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.10.1/">5.10.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.10.0/">5.10.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.8
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.8.9/">5.8.9</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.8/">5.8.8</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.7/">5.8.7</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.6/">5.8.6</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.5/">5.8.5</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.4/">5.8.4</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.3/">5.8.3</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.2/">5.8.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.1/">5.8.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.8.0/">5.8.0</a>
                        
                        
                        <div class="dropdown-divider"></div>
                        
                    
                        <p class='dropdown-item major-version'>
                            5.6
                        </p>
                        
                        <a class='dropdown-item minor-version' href="/5.6.2/">5.6.2</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.1/">5.6.1</a>
                        
                        <a class='dropdown-item minor-version' href="/5.6.0/">5.6.0</a>
                        
                        
                    
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown1" href="#" class="dropdown-toggle nav-link"
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Manuals</a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown1">
                    <a class="dropdown-item"
                        href="/5.6.2/index-overview.html">Overview</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-tutorials.html">Tutorials</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-faq.html">FAQs</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-history.html">Changes</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-licence.html">License</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-language.html">Language</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-functions.html">Functions</a>
                    <a class="dropdown-item"
                        href="/5.6.2/perlop.html">Operators</a>
                    <a class="dropdown-item"
                        href="/5.6.2/perlvar.html">Variables</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-pragmas.html">Pragmas</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-utilities.html">Utilities</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-internals.html">Internals</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-platforms.html">Platforms</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown3" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Modules</a>
                <div aria-labelledby="navbarDropdown3"
                    class="dropdown-menu letters-wrap">
                    <!--<a class="dropdown-item"
                        href="/5.6.2/index-modules.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-modules-by-cat.html">By
                        Category</a>-->
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-A.html">A</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-B.html">B</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-C.html">C</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-D.html">D</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-E.html">E</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-F.html">F</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-G.html">G</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-H.html">H</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-I.html">I</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-J.html">J</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-K.html">K</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-L.html">L</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-M.html">M</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-N.html">N</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-O.html">O</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-P.html">P</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-Q.html">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-R.html">R</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-S.html">S</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-T.html">T</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-U.html">U</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-V.html">V</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-W.html">W</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-X.html">X</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-Y.html">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-modules-Z.html">Z</a>
                    </div>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a id="navbarDropdown4" href="#" class="nav-link dropdown-toggle "
                    data-toggle="dropdown" role="button" aria-haspopup="true"
                    aria-expanded="false">Functions</a>
                <div aria-labelledby="navbarDropdown4"
                    class="dropdown-menu letters-wrap">
                    <a class="dropdown-item"
                        href="/5.6.2/index-functions.html">A-Z</a>
                    <a class="dropdown-item"
                        href="/5.6.2/index-functions-by-cat.html">By
                        Category</a>
                    <div class="dropdown-divider"></div>
                    <div class="letter-container">
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#A">A</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#B">B</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#C">C</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#D">D</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#E">E</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#F">F</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#G">G</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#H">H</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#I">I</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#J">J</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#K">K</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#L">L</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#M">M</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#N">N</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#O">O</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#P">P</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#Q">Q</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#R">R</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#S">S</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#T">T</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#U">U</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#V">V</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#W">W</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#X">X</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#Y">Y</a>
                        <a class="dropdown-item letters"
                            href="/5.6.2/index-functions.html#Z">Z</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!--/.nav-collapse -->
</nav>


          <main class="row main-content pb-5 pt-5" id='content'>
            <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
              <div class="row">
                <div class="col-sm-12">
                  <div id="breadcrumbs">
                      
    <a href="index.html">Home</a>&nbsp; &gt;
    
      
        <a href="index-language.html">Language reference</a> &gt;
      
    
    perlre
  

                  </div>
                </div>
              </div>
              <div class="row">
                <article class="col-sm-12 content">
                  <div class="documentation-wrapper">
                    <div id="perl_version">
                      <h7 class='page-title'> Perl 5 version 6.2
                        documentation</h7>
                    </div>
                    <h1>perlre</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><ul><li><a href="#Regular-Expressions">Regular Expressions</a></li><li><a href="#Extended-Patterns">Extended Patterns</a></li><li><a href="#Backtracking">Backtracking</a></li><li><a href="#Version-8-Regular-Expressions">Version 8 Regular Expressions</a></li><li><a href="#Warning-on-%5c1-vs-%241">Warning on \1 vs $1</a></li><li><a href="#Repeated-patterns-matching-zero-length-substring">Repeated patterns matching zero-length substring</a></li><li><a href="#Combining-pieces-together">Combining pieces together</a></li><li><a href="#Creating-custom-RE-engines">Creating custom RE engines</a></li></ul><li><a href="#BUGS">BUGS</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul><a class='view-head1' id="NAME"></a><h2 class='h2' >NAME</h2>
<p>perlre - Perl regular expressions</p>
<a class='view-head1' id="DESCRIPTION"></a><h2 class='h2' >DESCRIPTION</h2>
<p>This page describes the syntax of regular expressions in Perl.  For a
description of how to <i>use</i> regular expressions in matching
operations, plus various examples of the same, see discussions
of <code class="inline"><a class="l_k" href="functions/m.html">m//</a></code>, <code class="inline"><a class="l_k" href="functions/s.html">s///</a></code>, <code class="inline"><a class="l_k" href="functions/qr.html">qr//</a></code> and <code class="inline"><span class="q">??</span></code>
 in <a href="perlop.html#Regexp-Quote-Like-Operators">Regexp Quote-Like Operators in perlop</a>.</p>
<p>Matching operations can have various modifiers.  Modifiers
that relate to the interpretation of the regular expression inside
are listed below.  Modifiers that alter the way a regular expression
is used by Perl are detailed in <a href="perlop.html#Regexp-Quote-Like-Operators">Regexp Quote-Like Operators in perlop</a> and 
<a href="perlop.html#Gory-details-of-parsing-quoted-constructs">Gory details of parsing quoted constructs in perlop</a>.</p>
<ul>
<li><a class='view-title' id="i"></a><strong>i</strong>
<p>Do case-insensitive pattern matching.</p>
<p>If <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">locale</span></code>
 is in effect, the case map is taken from the current
locale.  See <a href="perllocale.html">perllocale</a>.</p>
</li>
<li><a class='view-title' id="m"></a><strong>m</strong>
<p>Treat string as multiple lines.  That is, change "^" and "$" from matching
the start or end of the string to matching the start or end of any
line anywhere within the string.</p>
</li>
<li><a class='view-title' id="s"></a><strong>s</strong>
<p>Treat string as single line.  That is, change "." to match any character
whatsoever, even a newline, which normally it would not match.</p>
<p>The <code class="inline"><span class="q">/s</span></code>
 and <code class="inline"><span class="q">/m</span></code>
 modifiers both override the <code class="inline"><span class="i">$*</span></code>
 setting.  That
is, no matter what <code class="inline"><span class="i">$*</span></code>
 contains, <code class="inline"><span class="q">/s</span></code>
 without <code class="inline"><span class="q">/m</span></code>
 will force
"^" to match only at the beginning of the string and "$" to match
only at the end (or just before a newline at the end) of the string.
Together, as /ms, they let the "." match any character whatsoever,
while still allowing "^" and "$" to match, respectively, just after
and just before newlines within the string.</p>
</li>
<li><a class='view-title' id="x"></a><strong>x</strong>
<p>Extend your pattern's legibility by permitting whitespace and comments.</p>
</li>
</ul>
<p>These are usually written as "the <code class="inline"><span class="q">/x</span></code>
 modifier", even though the delimiter
in question might not really be a slash.  Any of these
modifiers may also be embedded within the regular expression itself using
the <code class="inline"><span class="s">(</span><span class="q">?...)</span></code>
 construct.  See below.</p>
<p>The <code class="inline"><span class="q">/x</span></code>
 modifier itself needs a little more explanation.  It tells
the regular expression parser to ignore whitespace that is neither
backslashed nor within a character class.  You can use this to break up
your regular expression into (slightly) more readable parts.  The <code class="inline"><span class="c">#</span></code>

character is also treated as a metacharacter introducing a comment,
just as in ordinary Perl code.  This also means that if you want real
whitespace or <code class="inline"><span class="c">#</span></code>
 characters in the pattern (outside a character
class, where they are unaffected by <code class="inline"><span class="q">/x</span></code>
), that you'll either have to 
escape them or encode them using octal or hex escapes.  Taken together,
these features go a long way towards making Perl's regular expressions
more readable.  Note that you have to be careful not to include the
pattern delimiter in the comment--perl has no way of knowing you did
not intend to close the pattern early.  See the C-comment deletion code
in <a href="perlop.html">perlop</a>.</p>
<a class='view-head2' id="Regular-Expressions"></a><h3 class='h3' >Regular Expressions</h3>
<p>The patterns used in Perl pattern matching derive from supplied in
the Version 8 regex routines.  (The routines are derived
(distantly) from Henry Spencer's freely redistributable reimplementation
of the V8 routines.)  See <a href="#Version-8-Regular-Expressions">Version 8 Regular Expressions</a> for
details.</p>
<p>In particular the following metacharacters have their standard <i>egrep</i>-ish
meanings:</p>
<pre class="verbatim"><ol><li>    \	<span class="w">Quote</span> <span class="w">the</span> <a class="l_k" href="functions/next.html">next</a> <span class="j">metacharacter</span></li><li>    ^	<span class="w">Match</span> <span class="w">the</span> <span class="w">beginning</span> <span class="w">of</span> <span class="w">the</span> <span class="w">line</span></li><li>    .	<span class="w">Match</span> <span class="w">any</span> <span class="w">character</span> <span class="s">(</span><span class="w">except</span> <span class="w">newline</span><span class="s">)</span></li><li>    <span class="i">$	Match</span> <span class="w">the</span> <span class="w">end</span> <span class="w">of</span> <span class="w">the</span> <span class="w">line</span> <span class="s">(</span>or <span class="w">before</span> <span class="w">newline</span> <span class="w">at</span> <span class="w">the</span> <span class="w">end</span><span class="s">)</span></li><li>    |	<span class="i">Alternation</span></li><li>    <span class="s">(</span><span class="s">)</span>	<span class="w">Grouping</span></li><li>    <span class="s">[</span><span class="s">]</span>	<span class="w">Character</span> <span class="w">class</span></li></ol></pre><p>By default, the "^" character is guaranteed to match only the
beginning of the string, the "$" character only the end (or before the
newline at the end), and Perl does certain optimizations with the
assumption that the string contains only one line.  Embedded newlines
will not be matched by "^" or "$".  You may, however, wish to treat a
string as a multi-line buffer, such that the "^" will match after any
newline within the string, and "$" will match before any newline.  At the
cost of a little more overhead, you can do this by using the /m modifier
on the pattern match operator.  (Older programs did this by setting <code class="inline"><span class="i">$*</span></code>
,
but this practice is now deprecated.)</p>
<p>To simplify multi-line substitutions, the "." character never matches a
newline unless you use the <code class="inline"><span class="q">/s</span></code>
 modifier, which in effect tells Perl to pretend
the string is a single line--even if it isn't.  The <code class="inline"><span class="q">/s</span></code>
 modifier also
overrides the setting of <code class="inline"><span class="i">$*</span></code>
, in case you have some (badly behaved) older
code that sets it in another module.</p>
<p>The following standard quantifiers are recognized:</p>
<pre class="verbatim"><ol><li>    <span class="i">*	   Match</span> <span class="n">0</span> or <span class="w">more</span> <a class="l_k" href="functions/times.html">times</a></li><li>    +	   <span class="w">Match</span> <span class="n">1</span> or <span class="w">more</span> <a class="l_k" href="functions/times.html">times</a></li><li>    ?	   <span class="w">Match</span> <span class="n">1</span> or <span class="n">0</span> <a class="l_k" href="functions/times.html">times</a></li><li>    <span class="s">{</span><span class="w">n</span><span class="s">}</span>    <span class="w">Match</span> <span class="w">exactly</span> <span class="w">n</span> <a class="l_k" href="functions/times.html">times</a></li><li>    <span class="s">{</span><span class="w">n</span><span class="cm">,</span><span class="s">}</span>   <span class="w">Match</span> <span class="w">at</span> <span class="w">least</span> <span class="w">n</span> <a class="l_k" href="functions/times.html">times</a></li><li>    <span class="s">{</span><span class="w">n</span><span class="cm">,</span><span class="q">m}  Match at least n but not more than m times</span></li></ol></pre><p>(If a curly bracket occurs in any other context, it is treated
as a regular character.)  The "*" modifier is equivalent to <code class="inline"><span class="s">{</span><span class="n">0</span><span class="cm">,</span><span class="s">}</span></code>
, the "+"
modifier to <code class="inline"><span class="s">{</span><span class="n">1</span><span class="cm">,</span><span class="s">}</span></code>
, and the "?" modifier to <code class="inline"><span class="s">{</span><span class="n">0</span><span class="cm">,</span><span class="n">1</span><span class="s">}</span></code>
.  n and m are limited
to integral values less than a preset limit defined when perl is built.
This is usually 32766 on the most common platforms.  The actual limit can
be seen in the error message generated by code such as this:</p>
<pre class="verbatim"><ol><li>    <span class="i">$_</span> **= <span class="i">$_</span> <span class="cm">,</span> <span class="q">/ {$_} /</span> for <span class="n">2</span> .. <span class="n">42</span><span class="sc">;</span></li></ol></pre><p>By default, a quantified subpattern is "greedy", that is, it will match as
many times as possible (given a particular starting location) while still
allowing the rest of the pattern to match.  If you want it to match the
minimum number of times possible, follow the quantifier with a "?".  Note
that the meanings don't change, just the "greediness":</p>
<pre class="verbatim"><ol><li>    <span class="i">*?</span>	   <span class="w">Match</span> <span class="n">0</span> or <span class="w">more</span> <a class="l_k" href="functions/times.html">times</a></li><li>    +<span class="q">?	   Match 1 or more times</span></li><li>    <span class="q">    ?</span>?	   <span class="w">Match</span> <span class="n">0</span> or <span class="n">1</span> <a class="l_k" href="functions/time.html">time</a></li><li>    <span class="s">{</span><span class="w">n</span><span class="s">}</span><span class="q">?   Match exactly n times</span></li><li>    <span class="q">    {n,}?</span>  <span class="w">Match</span> <span class="w">at</span> <span class="w">least</span> <span class="w">n</span> <a class="l_k" href="functions/times.html">times</a></li><li>    <span class="s">{</span><span class="w">n</span><span class="cm">,</span><span class="q">m}? Match at least n but not more than m times</span></li></ol></pre><p>Because patterns are processed as double quoted strings, the following
also work:</p>
<pre class="verbatim"><ol><li>    \<span class="w">t</span>		<span class="w">tab</span>                   <span class="s">(</span><span class="w">HT</span><span class="cm">,</span> <span class="w">TAB</span><span class="s">)</span></li><li>    \<span class="w">n</span>		<span class="w">newline</span>               <span class="s">(</span><span class="w">LF</span><span class="cm">,</span> <span class="w">NL</span><span class="s">)</span></li><li>    \<span class="w">r</span>		<a class="l_k" href="functions/return.html">return</a>                <span class="s">(</span><span class="w">CR</span><span class="s">)</span></li><li>    \<span class="w">f</span>		<span class="w">form</span> <span class="w">feed</span>             <span class="s">(</span><span class="w">FF</span><span class="s">)</span></li><li>    \<span class="w">a</span>		<a class="l_k" href="functions/alarm.html">alarm</a> <span class="s">(</span><span class="w">bell</span><span class="s">)</span>          <span class="s">(</span><span class="w">BEL</span><span class="s">)</span></li><li>    \<span class="w">e</span>		<span class="w">escape</span> <span class="s">(</span><span class="w">think</span> <span class="w">troff</span><span class="s">)</span>  <span class="s">(</span><span class="w">ESC</span><span class="s">)</span></li><li>    \<span class="n">033</span>	<span class="w">octal</span> <span class="w">char</span> <span class="s">(</span><span class="w">think</span> <span class="w">of</span> <span class="w">a</span> <span class="w">PDP</span>-<span class="n">11</span><span class="s">)</span></li><li>    \<span class="w">x1B</span>	<a class="l_k" href="functions/hex.html">hex</a> <span class="w">char</span></li><li>    \<span class="i">x</span><span class="s">{</span><span class="n">263</span><span class="w">a</span><span class="s">}</span>	<span class="w">wide</span> <a class="l_k" href="functions/hex.html">hex</a> <span class="w">char</span>         <span class="s">(</span><span class="w">Unicode</span> <span class="w">SMILEY</span><span class="s">)</span></li><li>    \<span class="w">c</span><span class="s">[</span>		<span class="w">control</span> <span class="w">char</span></li><li>    \<span class="i">N</span><span class="s">{</span><span class="w">name</span><span class="s">}</span>	<span class="w">named</span> <span class="w">char</span></li><li>    \<span class="w">l</span>		<span class="w">lowercase</span> <a class="l_k" href="functions/next.html">next</a> <span class="j">char</span> <span class="s">(</span><span class="w">think</span> <span class="w">vi</span><span class="s">)</span></li><li>    \<span class="w">u</span>		<span class="w">uppercase</span> <a class="l_k" href="functions/next.html">next</a> <span class="j">char</span> <span class="s">(</span><span class="w">think</span> <span class="w">vi</span><span class="s">)</span></li><li>    \<span class="w">L</span>		<span class="w">lowercase</span> <span class="w">till</span> \<span class="w">E</span> <span class="s">(</span><span class="w">think</span> <span class="w">vi</span><span class="s">)</span></li><li>    \<span class="w">U</span>		<span class="w">uppercase</span> <span class="w">till</span> \<span class="w">E</span> <span class="s">(</span><span class="w">think</span> <span class="w">vi</span><span class="s">)</span></li><li>    \<span class="w">E</span>		<span class="w">end</span> case <span class="w">modification</span> <span class="s">(</span><span class="w">think</span> <span class="w">vi</span><span class="s">)</span></li><li>    \<span class="w">Q</span>		<span class="w">quote</span> <span class="s">(</span><span class="w">disable</span><span class="s">)</span> <span class="w">pattern</span> <span class="w">metacharacters</span> <span class="w">till</span> \<span class="w">E</span></li></ol></pre><p>If <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">locale</span></code>
 is in effect, the case map used by <code class="inline">\<span class="w">l</span></code>
, <code class="inline">\<span class="w">L</span></code>
, <code class="inline">\<span class="w">u</span></code>

and <code class="inline">\<span class="w">U</span></code>
 is taken from the current locale.  See <a href="perllocale.html">perllocale</a>.  For
documentation of <code class="inline">\<span class="i">N</span><span class="s">{</span><span class="w">name</span><span class="s">}</span></code>
, see <a href="https://search.cpan.org/perldoc/charnames">charnames</a>.</p>
<p>You cannot include a literal <code class="inline"><span class="i">$</span></code>
 or <code class="inline"><span class="i">@</span></code>
 within a <code class="inline">\<span class="w">Q</span></code>
 sequence.
An unescaped <code class="inline"><span class="i">$</span></code>
 or <code class="inline"><span class="i">@</span></code>
 interpolates the corresponding variable,
while escaping will cause the literal string <code class="inline">\<span class="i">$</span></code>
 to be matched.
You'll need to write something like <code class="inline"><a class="l_k" href="functions/m.html">m/\Quser\E\@\Qhost/</a></code>.</p>
<p>In addition, Perl defines the following:</p>
<pre class="verbatim"><ol><li>    \<span class="w">w</span>	<span class="w">Match</span> <span class="w">a</span> <span class="q">&quot;word&quot;</span> <span class="w">character</span> <span class="s">(</span><span class="w">alphanumeric</span> <span class="w">plus</span> <span class="q">&quot;_&quot;</span><span class="s">)</span></li><li>    \<span class="w">W</span>	<span class="w">Match</span> <span class="w">a</span> <span class="w">non</span>-<span class="q">&quot;word&quot;</span> <span class="w">character</span></li><li>    \<span class="q">s	Match a whitespace character</span></li><li>    <span class="q">    \S	Match a non-whitespace character</span></li><li>    <span class="q">    \d	Match</span> <span class="w">a</span> <span class="w">digit</span> <span class="w">character</span></li><li>    \<span class="w">D</span>	<span class="w">Match</span> <span class="w">a</span> <span class="w">non</span>-<span class="w">digit</span> <span class="w">character</span></li><li>    \<span class="w">pP</span>	<span class="w">Match</span> <span class="w">P</span><span class="cm">,</span> <span class="w">named</span> <span class="w">property</span>.  <span class="w">Use</span> \<span class="i">p</span><span class="s">{</span><span class="w">Prop</span><span class="s">}</span> for <span class="w">longer</span> <span class="w">names</span>.</li><li>    \<span class="w">PP</span>	<span class="w">Match</span> <span class="w">non</span>-<span class="w">P</span></li><li>    \<span class="w">X</span>	<span class="w">Match</span> <span class="w">eXtended</span> <span class="w">Unicode</span> <span class="q">&quot;combining character sequence&quot;</span><span class="cm">,</span></li><li>        <span class="w">equivalent</span> <span class="w">to</span> <span class="w">C</span><span class="q">&lt;(?:\PM\pM*)&gt;</span></li><li>    \<span class="w">C</span>	<span class="w">Match</span> <span class="w">a</span> <span class="w">single</span> <span class="w">C</span> <span class="w">char</span> <span class="s">(</span><span class="w">octet</span><span class="s">)</span> <span class="w">even</span> <span class="w">under</span> <span class="w">utf8</span>.</li></ol></pre><p>A <code class="inline">\<span class="w">w</span></code>
 matches a single alphanumeric character or <code class="inline"><span class="w">_</span></code>
, not a whole word.
Use <code class="inline">\<span class="w">w</span>+</code>
 to match a string of Perl-identifier characters (which isn't 
the same as matching an English word).  If <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">locale</span></code>
 is in effect, the
list of alphabetic characters generated by <code class="inline">\<span class="w">w</span></code>
 is taken from the
current locale.  See <a href="perllocale.html">perllocale</a>.  You may use <code class="inline">\<span class="w">w</span></code>
, <code class="inline">\<span class="w">W</span></code>
, <code class="inline">\<span class="q">s</span></code>
, <code class="inline">\<span class="w">S</span></code>
,
<code class="inline">\<span class="w">d</span></code>
, and <code class="inline">\<span class="w">D</span></code>
 within character classes, but if you try to use them
as endpoints of a range, that's not a range, the "-" is understood literally.
See <a href="https://search.cpan.org/perldoc/utf8">utf8</a> for details about <code class="inline">\<span class="w">pP</span></code>
, <code class="inline">\<span class="w">PP</span></code>
, and <code class="inline">\<span class="w">X</span></code>
.</p>
<p>The POSIX character class syntax</p>
<pre class="verbatim"><ol><li>    <span class="s">[</span><span class="co">:</span><span class="w">class</span><span class="co">:</span><span class="s">]</span></li></ol></pre><p>is also available.  The available classes and their backslash
equivalents (if available) are as follows:</p>
<pre class="verbatim"><ol><li>    <span class="w">alpha</span></li><li>    <span class="w">alnum</span></li><li>    <span class="w">ascii</span></li><li>    <span class="w">blank</span>		<span class="s">[</span><span class="n">1</span><span class="s">]</span></li><li>    <span class="w">cntrl</span></li><li>    <span class="w">digit</span>       \<span class="w">d</span></li><li>    <span class="w">graph</span></li><li>    <span class="w">lower</span></li><li>    <a class="l_k" href="functions/print.html">print</a></li><li>    <span class="i">punct</span></li><li>    <span class="w">space</span>       \<span class="q">s	[2]</span></li><li>    <span class="q">    upper</span></li><li>    <span class="q">    word        \w	[3]</span></li><li>    <span class="q">    xdigit</span></li><li></li><li>  <span class="q">  [1] A GNU extension equivalent</span> <span class="w">to</span> <span class="w">C</span><span class="q">&lt;[ \t]&gt;</span><span class="cm">,</span> <span class="q">`all horizontal whitespace&#39;.</span></li><li>  <span class="q">  [2] Not I&lt;exactly equivalent&gt; to C&lt;\s&gt; since the C&lt;[[:space:]]&gt; includes</span></li><li>      <span class="q">      also the (very rare) `</span><span class="w">vertical</span> <span class="w">tabulator</span><span class="q">&#39;, &quot;\ck&quot;, chr(11).</span></li><li>  <span class="q">  [3] A Perl extension.</span></li></ol></pre><p>For example use <code class="inline"><span class="s">[</span><span class="co">:</span><span class="w">upper</span><span class="co">:</span><span class="s">]</span></code>
 to match all the uppercase characters.
Note that the <code class="inline"><span class="s">[</span><span class="s">]</span></code>
 are part of the <code class="inline"><span class="s">[</span><span class="w">::</span><span class="s">]</span></code>
 construct, not part of the
whole character class.  For example:</p>
<pre class="verbatim"><ol><li>    <span class="s">[</span><span class="n">01</span><span class="s">[</span><span class="co">:</span><span class="w">alpha</span><span class="co">:</span><span class="s">]</span><span class="i">%]</span></li></ol></pre><p>matches zero, one, any alphabetic character, and the percentage sign.</p>
<p>If the <code class="inline"><span class="w">utf8</span></code>
 pragma is used, the following equivalences to Unicode
\p{} constructs and equivalent backslash character classes (if available),
will hold:</p>
<pre class="verbatim"><ol><li>    <span class="w">alpha</span>       <span class="w">IsAlpha</span></li><li>    <span class="w">alnum</span>       <span class="w">IsAlnum</span></li><li>    <span class="w">ascii</span>       <span class="w">IsASCII</span></li><li>    <span class="w">blank</span>	<span class="w">IsSpace</span></li><li>    <span class="w">cntrl</span>       <span class="w">IsCntrl</span></li><li>    <span class="w">digit</span>       <span class="w">IsDigit</span>        \<span class="w">d</span></li><li>    <span class="w">graph</span>       <span class="w">IsGraph</span></li><li>    <span class="w">lower</span>       <span class="w">IsLower</span></li><li>    <a class="l_k" href="functions/print.html">print</a>       <span class="i">IsPrint</span></li><li>    <span class="w">punct</span>       <span class="w">IsPunct</span></li><li>    <span class="w">space</span>       <span class="w">IsSpace</span></li><li>                <span class="w">IsSpacePerl</span>    \<span class="q">s</span></li><li>    <span class="q">    upper       IsUpper</span></li><li>    <span class="q">    word        IsWord</span></li><li>    <span class="q">    xdigit      IsXDigit</span></li></ol></pre><p>For example <code class="inline"><span class="s">[</span><span class="co">:</span><span class="w">lower</span><span class="co">:</span><span class="s">]</span></code>
 and <code class="inline">\<span class="i">p</span><span class="s">{</span><span class="w">IsLower</span><span class="s">}</span></code>
 are equivalent.</p>
<p>If the <code class="inline"><span class="w">utf8</span></code>
 pragma is not used but the <code class="inline"><span class="w">locale</span></code>
 pragma is, the
classes correlate with the usual isalpha(3) interface (except for
`word' and `blank').</p>
<p>The assumedly non-obviously named classes are:</p>
<ul>
<li><a class='view-title' id="cntrl"></a><strong>cntrl</strong>
<p>Any control character.  Usually characters that don't produce output as
such but instead control the terminal somehow: for example newline and
backspace are control characters.  All characters with ord() less than
32 are most often classified as control characters (assuming ASCII,
the ISO Latin character sets, and Unicode).</p>
</li>
<li><a class='view-title' id="graph"></a><strong>graph</strong>
<p>Any alphanumeric or punctuation (special) character.</p>
</li>
<li><a class='view-title' id="print"></a><strong>print</strong>
<p>Any alphanumeric or punctuation (special) character or space.</p>
</li>
<li><a class='view-title' id="punct"></a><strong>punct</strong>
<p>Any punctuation (special) character.</p>
</li>
<li><a class='view-title' id="xdigit"></a><strong>xdigit</strong>
<p>Any hexadecimal digit.  Though this may feel silly ([0-9A-Fa-f] would
work just fine) it is included for completeness.</p>
</li>
</ul>
<p>You can negate the [::] character classes by prefixing the class name
with a '^'. This is a Perl extension.  For example:</p>
<pre class="verbatim"><ol><li>    <span class="w">POSIX</span>	<span class="w">trad</span>. <span class="w">Perl</span>  <span class="w">utf8</span> <span class="w">Perl</span></li><li></li><li>    <span class="s">[</span><span class="co">:</span>^<span class="w">digit</span><span class="co">:</span><span class="s">]</span>      \<span class="w">D</span>      \<span class="i">P</span><span class="s">{</span><span class="w">IsDigit</span><span class="s">}</span></li><li>    <span class="s">[</span><span class="co">:</span>^<span class="w">space</span><span class="co">:</span><span class="s">]</span>	    \<span class="w">S</span>	    \<span class="i">P</span><span class="s">{</span><span class="w">IsSpace</span><span class="s">}</span></li><li>    <span class="s">[</span><span class="co">:</span>^<span class="w">word</span><span class="co">:</span><span class="s">]</span>	    \<span class="w">W</span>	    \<span class="i">P</span><span class="s">{</span><span class="w">IsWord</span><span class="s">}</span></li></ol></pre><p>The POSIX character classes [.cc.] and [=cc=] are recognized but
<strong>not</strong> supported and trying to use them will cause an error.</p>
<p>Perl defines the following zero-width assertions:</p>
<pre class="verbatim"><ol><li>    \<span class="w">b</span>	<span class="w">Match</span> <span class="w">a</span> <span class="w">word</span> <span class="w">boundary</span></li><li>    \<span class="w">B</span>	<span class="w">Match</span> <span class="w">a</span> <span class="w">non</span>-<span class="s">(</span><span class="w">word</span> <span class="w">boundary</span><span class="s">)</span></li><li>    \<span class="w">A</span>	<span class="w">Match</span> <span class="w">only</span> <span class="w">at</span> <span class="w">beginning</span> <span class="w">of</span> <span class="w">string</span></li><li>    \<span class="w">Z</span>	<span class="w">Match</span> <span class="w">only</span> <span class="w">at</span> <span class="w">end</span> <span class="w">of</span> <span class="w">string</span><span class="cm">,</span> or <span class="w">before</span> <span class="w">newline</span> <span class="w">at</span> <span class="w">the</span> <span class="w">end</span></li><li>    \<span class="w">z</span>	<span class="w">Match</span> <span class="w">only</span> <span class="w">at</span> <span class="w">end</span> <span class="w">of</span> <span class="w">string</span></li><li>    \<span class="w">G</span>	<span class="w">Match</span> <span class="w">only</span> <span class="w">at</span> <a class="l_k" href="functions/pos.html">pos</a><span class="s">(</span><span class="s">)</span> <span class="s">(</span><span class="w">e</span>.<span class="w">g</span>. <span class="w">at</span> <span class="w">the</span> <span class="w">end</span>-<span class="w">of</span>-<span class="w">match</span> <span class="w">position</span></li><li>        <span class="w">of</span> <span class="w">prior</span> <span class="q">m//g</span><span class="s">)</span></li></ol></pre><p>A word boundary (<code class="inline">\<span class="w">b</span></code>
) is a spot between two characters
that has a <code class="inline">\<span class="w">w</span></code>
 on one side of it and a <code class="inline">\<span class="w">W</span></code>
 on the other side
of it (in either order), counting the imaginary characters off the
beginning and end of the string as matching a <code class="inline">\<span class="w">W</span></code>
.  (Within
character classes <code class="inline">\<span class="w">b</span></code>
 represents backspace rather than a word
boundary, just as it normally does in any double-quoted string.)
The <code class="inline">\<span class="w">A</span></code>
 and <code class="inline">\<span class="w">Z</span></code>
 are just like "^" and "$", except that they
won't match multiple times when the <code class="inline"><span class="q">/m</span></code>
 modifier is used, while
"^" and "$" will match at every internal line boundary.  To match
the actual end of the string and not ignore an optional trailing
newline, use <code class="inline">\<span class="w">z</span></code>
.</p>
<p>The <code class="inline">\<span class="w">G</span></code>
 assertion can be used to chain global matches (using
<code class="inline"><a class="l_k" href="functions/m.html">m//g</a></code>), as described in <a href="perlop.html#Regexp-Quote-Like-Operators">Regexp Quote-Like Operators in perlop</a>.
It is also useful when writing <code class="inline"><span class="w">lex</span></code>
-like scanners, when you have
several patterns that you want to match against consequent substrings
of your string, see the previous reference.  The actual location
where <code class="inline">\<span class="w">G</span></code>
 will match can also be influenced by using <code class="inline"><a class="l_k" href="functions/pos.html">pos()</a></code> as
an lvalue.  See <a class='function-name' href="functions/pos.html">pos</a>.</p>
<p>The bracketing construct <code class="inline"><span class="s">(</span> ... <span class="s">)</span></code>
 creates capture buffers.  To
refer to the digit'th buffer use \&lt;digit&gt; within the
match.  Outside the match use "$" instead of "\".  (The
\&lt;digit&gt; notation works in certain circumstances outside 
the match.  See the warning below about \1 vs $1 for details.)
Referring back to another part of the match is called a
<i>backreference</i>.</p>
<p>There is no limit to the number of captured substrings that you may
use.  However Perl also uses \10, \11, etc. as aliases for \010,
\011, etc.  (Recall that 0 means octal, so \011 is the character at
number 9 in your coded character set; which would be the 10th character,
a horizontal tab under ASCII.)  Perl resolves this 
ambiguity by interpreting \10 as a backreference only if at least 10 
left parentheses have opened before it.  Likewise \11 is a 
backreference only if at least 11 left parentheses have opened 
before it.  And so on.  \1 through \9 are always interpreted as 
backreferences.</p>
<p>Examples:</p>
<pre class="verbatim"><ol><li>    <span class="q">s/^([^ ]*) *([^ ]*)/$2 $1/</span><span class="sc">;</span>     <span class="c"># swap first two words</span></li><li></li><li>     if <span class="s">(</span><span class="q">/(.)\1/</span><span class="s">)</span> <span class="s">{</span>                 <span class="c"># find first doubled char</span></li><li>         <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;&#39;$1&#39; is the first doubled character\n&quot;</span><span class="sc">;</span></li><li>     <span class="s">}</span></li><li></li><li>    if <span class="s">(</span><span class="q">/Time: (..):(..):(..)/</span><span class="s">)</span> <span class="s">{</span>   <span class="c"># parse out values</span></li><li>	<span class="i">$hours</span> = <span class="i">$1</span><span class="sc">;</span></li><li>	<span class="i">$minutes</span> = <span class="i">$2</span><span class="sc">;</span></li><li>	<span class="i">$seconds</span> = <span class="i">$3</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>Several special variables also refer back to portions of the previous
match.  <code class="inline"><span class="i">$+</span></code>
 returns whatever the last bracket match matched.
<code class="inline"><span class="i">$&amp;</span></code>
 returns the entire matched string.  (At one point <code class="inline"><span class="i">$0</span></code>
 did
also, but now it returns the name of the program.)  <code class="inline"><span class="i">$`</span></code>
 returns
everything before the matched string.  And <code class="inline"><span class="i">$&#39;</span></code>
 returns everything
after the matched string.</p>
<p>The numbered variables ($1, $2, $3, etc.) and the related punctuation
set (<code class="inline"><span class="i">$+</span></code>
, <code class="inline"><span class="i">$&amp;</span></code>
, <code class="inline"><span class="i">$`</span></code>
, and <code class="inline"><span class="i">$&#39;</span></code>
) are all dynamically scoped
until the end of the enclosing block or until the next successful
match, whichever comes first.  (See <a href="perlsyn.html#Compound-Statements">Compound Statements in perlsyn</a>.)</p>
<p><strong>WARNING</strong>: Once Perl sees that you need one of <code class="inline"><span class="i">$&amp;</span></code>
, <code class="inline"><span class="i">$`</span></code>
, or
<code class="inline"><span class="i">$&#39;</span></code>
 anywhere in the program, it has to provide them for every
pattern match.  This may substantially slow your program.  Perl
uses the same mechanism to produce $1, $2, etc, so you also pay a
price for each pattern that contains capturing parentheses.  (To
avoid this cost while retaining the grouping behaviour, use the
extended regular expression <code class="inline"><span class="s">(</span><span class="q">?: ... )</span></code>
 instead.)  But if you never
use <code class="inline"><span class="i">$&amp;</span></code>
, <code class="inline"><span class="i">$`</span></code>
 or <code class="inline"><span class="i">$&#39;</span></code>
, then patterns <i>without</i> capturing
parentheses will not be penalized.  So avoid <code class="inline"><span class="i">$&amp;</span></code>
, <code class="inline"><span class="i">$&#39;</span></code>
, and <code class="inline"><span class="i">$`</span></code>

if you can, but if you can't (and some algorithms really appreciate
them), once you've used them once, use them at will, because you've
already paid the price.  As of 5.005, <code class="inline"><span class="i">$&amp;</span></code>
 is not so costly as the
other two.</p>
<p>Backslashed metacharacters in Perl are alphanumeric, such as <code class="inline">\<span class="w">b</span></code>
,
<code class="inline">\<span class="w">w</span></code>
, <code class="inline">\<span class="w">n</span></code>
.  Unlike some other regular expression languages, there
are no backslashed symbols that aren't alphanumeric.  So anything
that looks like \\, \(, \), \&lt;, \&gt;, \{, or \} is always
interpreted as a literal character, not a metacharacter.  This was
once used in a common idiom to disable or quote the special meanings
of regular expression metacharacters in a string that you want to
use for a pattern. Simply quote all non-"word" characters:</p>
<pre class="verbatim"><ol><li>    <span class="i">$pattern</span> =~ <span class="q">s/(\W)/\\$1/g</span><span class="sc">;</span></li></ol></pre><p>(If <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">locale</span></code>
 is set, then this depends on the current locale.)
Today it is more common to use the quotemeta() function or the <code class="inline">\<span class="w">Q</span></code>

metaquoting escape sequence to disable all metacharacters' special
meanings like this:</p>
<pre class="verbatim"><ol><li>    <span class="q">/$unquoted\Q$quoted\E$unquoted/</span></li></ol></pre><p>Beware that if you put literal backslashes (those not inside
interpolated variables) between <code class="inline">\<span class="w">Q</span></code>
 and <code class="inline">\<span class="w">E</span></code>
, double-quotish
backslash interpolation may lead to confusing results.  If you
<i>need</i> to use literal backslashes within <code class="inline">\<span class="w">Q</span>...\<span class="w">E</span></code>
,
consult <a href="perlop.html#Gory-details-of-parsing-quoted-constructs">Gory details of parsing quoted constructs in perlop</a>.</p>
<a class='view-head2' id="Extended-Patterns"></a><h3 class='h3' >Extended Patterns</h3>
<p>Perl also defines a consistent extension syntax for features not
found in standard tools like <strong>awk</strong> and <strong>lex</strong>.  The syntax is a
pair of parentheses with a question mark as the first thing within
the parentheses.  The character after the question mark indicates
the extension.</p>
<p>The stability of these extensions varies widely.  Some have been
part of the core language for many years.  Others are experimental
and may change without warning or be completely removed.  Check
the documentation on an individual feature to verify its current
status.</p>
<p>A question mark was chosen for this and for the minimal-matching
construct because 1) question marks are rare in older regular
expressions, and 2) whenever you see one, you should stop and
"question" exactly what is going on.  That's psychology...</p>
<ul>
<li><a class='view-title' id="(%3f%23text)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?#text)</span></code>
</strong>
<p>A comment.  The text is ignored.  If the <code class="inline"><span class="q">/x</span></code>
 modifier enables
whitespace formatting, a simple <code class="inline"><span class="c">#</span></code>
 will suffice.  Note that Perl closes
the comment as soon as it sees a <code class="inline"><span class="p">)</span></code>
, so there is no way to put a literal
<code class="inline"><span class="p">)</span></code>
 in the comment.</p>
</li>
<li><a class='view-title' id="(%3fimsx-imsx)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?imsx-imsx)</span></code>
</strong>
<p>One or more embedded pattern-match modifiers.  This is particularly
useful for dynamic patterns, such as those read in from a configuration
file, read in as an argument, are specified in a table somewhere,
etc.  Consider the case that some of which want to be case sensitive
and some do not.  The case insensitive ones need to include merely
<code class="inline"><span class="s">(</span><span class="q">?i)</span></code>
 at the front of the pattern.  For example:</p>
<pre class="verbatim"><ol><li>    <span class="i">$pattern</span> = <span class="q">&quot;foobar&quot;</span><span class="sc">;</span></li><li>    if <span class="s">(</span> <span class="q">/$pattern/i</span> <span class="s">)</span> <span class="s">{</span> <span class="s">}</span> </li><li></li><li>    <span class="c"># more flexible:</span></li><li></li><li>    <span class="i">$pattern</span> = <span class="q">&quot;(?i)foobar&quot;</span><span class="sc">;</span></li><li>    if <span class="s">(</span> <span class="q">/$pattern/</span> <span class="s">)</span> <span class="s">{</span> <span class="s">}</span></li></ol></pre><p>Letters after a <code class="inline">-</code>
 turn those modifiers off.  These modifiers are
localized inside an enclosing group (if any).  For example,</p>
<pre class="verbatim"><ol><li>    <span class="s">(</span> <span class="s">(</span><span class="q">?i) blah ) \s+ \1</span></li></ol></pre><p>will match a repeated (<i>including the case</i>!) word <code class="inline"><span class="w">blah</span></code>
 in any
case, assuming <code class="inline"><span class="w">x</span></code>
 modifier, and no <code class="inline"><span class="w">i</span></code>
 modifier outside this
group.</p>
</li>
<li><a class='view-title' id="(%3f%3apattern)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?:pattern)</span></code>
</strong>
</li>
<li><a class='view-title' id="(%3fimsx-imsx%3apattern)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?imsx-imsx:pattern)</span></code>
</strong>
<p>This is for clustering, not capturing; it groups subexpressions like
"()", but doesn't make backreferences as "()" does.  So</p>
<pre class="verbatim"><ol><li>    <span class="i">@fields</span> = <a class="l_k" href="functions/split.html">split</a><span class="s">(</span><span class="q">/\b(?:a|b|c)\b/</span><span class="s">)</span></li></ol></pre><p>is like</p>
<pre class="verbatim"><ol><li>    <span class="i">@fields</span> = <a class="l_k" href="functions/split.html">split</a><span class="s">(</span><span class="q">/\b(a|b|c)\b/</span><span class="s">)</span></li></ol></pre><p>but doesn't spit out extra fields.  It's also cheaper not to capture
characters if you don't need to.</p>
<p>Any letters between <code class="inline"><span class="q">?</span></code>
 and <code class="inline"><span class="j">:</span></code>
 act as flags modifiers as with
<code class="inline"><span class="s">(</span><span class="q">?imsx-imsx)</span></code>
.  For example,</p>
<pre class="verbatim"><ol><li>    <span class="q">/(?s-i:more.*than).*million/i</span></li></ol></pre><p>is equivalent to the more verbose</p>
<pre class="verbatim"><ol><li>    <span class="q">/(?:(?s-i)more.*than).*million/i</span></li></ol></pre></li>
<li><a class='view-title' id="(%3f%3dpattern)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?=pattern)</span></code>
</strong>
<p>A zero-width positive look-ahead assertion.  For example, <code class="inline"><span class="q">/\w+(?=\t)/</span></code>

matches a word followed by a tab, without including the tab in <code class="inline"><span class="i">$&amp;</span></code>
.</p>
</li>
<li><a class='view-title' id="(%3f!pattern)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?!pattern)</span></code>
</strong>
<p>A zero-width negative look-ahead assertion.  For example <code class="inline"><span class="q">/foo(?!bar)/</span></code>

matches any occurrence of "foo" that isn't followed by "bar".  Note
however that look-ahead and look-behind are NOT the same thing.  You cannot
use this for look-behind.</p>
<p>If you are looking for a "bar" that isn't preceded by a "foo", <code class="inline"><span class="q">/(?!foo)bar/</span></code>

will not do what you want.  That's because the <code class="inline"><span class="s">(</span><span class="q">?!foo)</span></code>
 is just saying that
the next thing cannot be "foo"--and it's not, it's a "bar", so "foobar" will
match.  You would have to do something like <code class="inline"><span class="q">/(?!foo)...bar/</span></code>
 for that.   We
say "like" because there's the case of your "bar" not having three characters
before it.  You could cover that this way: <code class="inline"><span class="q">/(?:(?!foo)...|^.{0,2})bar/</span></code>
.
Sometimes it's still easier just to say:</p>
<pre class="verbatim"><ol><li>    if <span class="s">(</span><span class="q">/bar/</span> &amp;&amp; <span class="i">$`</span> !~ <span class="q">/foo$/</span><span class="s">)</span></li></ol></pre><p>For look-behind see below.</p>
</li>
<li><a class='view-title' id="(%3f%3c%3dpattern)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?&lt;=pattern)</span></code>
</strong>
<p>A zero-width positive look-behind assertion.  For example, <code class="inline"><span class="q">/(?&lt;=\t)\w+/</span></code>

matches a word that follows a tab, without including the tab in <code class="inline"><span class="i">$&amp;</span></code>
.
Works only for fixed-width look-behind.</p>
</li>
<li><a class='view-title' id="(%3f%3c!pattern)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?&lt;!pattern)</span></code>
</strong>
<p>A zero-width negative look-behind assertion.  For example <code class="inline"><span class="q">/(?&lt;!bar)foo/</span></code>

matches any occurrence of "foo" that does not follow "bar".  Works
only for fixed-width look-behind.</p>
</li>
<li><a class='view-title' id="(%3f%7b-code-%7d)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?{ code })</span></code>
</strong>
<p><strong>WARNING</strong>: This extended regular expression feature is considered
highly experimental, and may be changed or deleted without notice.</p>
<p>This zero-width assertion evaluate any embedded Perl code.  It
always succeeds, and its <code class="inline"><span class="w">code</span></code>
 is not interpolated.  Currently,
the rules to determine where the <code class="inline"><span class="w">code</span></code>
 ends are somewhat convoluted.</p>
<p>The <code class="inline"><span class="w">code</span></code>
 is properly scoped in the following sense: If the assertion
is backtracked (compare <a href="#Backtracking">Backtracking</a>), all changes introduced after
<code class="inline"><a class="l_k" href="functions/local.html">local</a></code>ization are undone, so that</p>
<pre class="verbatim"><ol><li>  <span class="i">$_</span> = <span class="q">&#39;a&#39;</span> x <span class="n">8</span><span class="sc">;</span></li><li>  <span class="q">m&lt; </span></li><li>     <span class="q">     (?{ $cnt = 0 })			# Initialize $cnt.</span></li><li>     <span class="q">     (</span></li><li>       <span class="q">       a </span></li><li>       <span class="q">       (?{</span></li><li>           <span class="q">           local $cnt = $cnt + 1;	# Update $cnt, backtracking-safe.</span></li><li>       <span class="q">       })</span></li><li>     <span class="q">     )*  </span></li><li>     <span class="q">     aaaa</span></li><li>     <span class="q">     (?{ $res = $cnt })			# On success copy to non-localized</span></li><li>					<span class="q">					# location.</span></li><li>   <span class="q">   &gt;x</span><span class="sc">;</span></li></ol></pre><p>will set <code class="inline"><span class="i">$res</span> = <span class="n">4</span></code>
.  Note that after the match, $cnt returns to the globally
introduced value, because the scopes that restrict <code class="inline"><a class="l_k" href="functions/local.html">local</a></code> operators
are unwound.</p>
<p>This assertion may be used as a <code class="inline"><span class="s">(</span><span class="q">?(condition)yes-pattern|no-pattern)</span></code>

switch.  If <i>not</i> used in this way, the result of evaluation of
<code class="inline"><span class="w">code</span></code>
 is put into the special variable <code class="inline"><span class="i">$^R</span></code>
.  This happens
immediately, so <code class="inline"><span class="i">$^R</span></code>
 can be used from other <code class="inline"><span class="s">(</span><span class="q">?{ code })</span></code>
 assertions
inside the same regular expression.</p>
<p>The assignment to <code class="inline"><span class="i">$^R</span></code>
 above is properly localized, so the old
value of <code class="inline"><span class="i">$^R</span></code>
 is restored if the assertion is backtracked; compare
<a href="#Backtracking">Backtracking</a>.</p>
<p>For reasons of security, this construct is forbidden if the regular
expression involves run-time interpolation of variables, unless the
perilous <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">re</span> <span class="q">&#39;eval&#39;</span></code>
 pragma has been used (see <a href="https://search.cpan.org/perldoc/re">re</a>), or the
variables contain results of <code class="inline"><a class="l_k" href="functions/qr.html">qr//</a></code> operator (see
<a href="perlop.html#qr%2fSTRING%2fimosx">qr/STRING/imosx in perlop</a>).</p>
<p>This restriction is because of the wide-spread and remarkably convenient
custom of using run-time determined strings as patterns.  For example:</p>
<pre class="verbatim"><ol><li>    <span class="i">$re</span> = &lt;&gt;<span class="sc">;</span></li><li>    <a class="l_k" href="functions/chomp.html">chomp</a> <span class="i">$re</span><span class="sc">;</span></li><li>    <span class="i">$string</span> =~ <span class="q">/$re/</span><span class="sc">;</span></li></ol></pre><p>Before Perl knew how to execute interpolated code within a pattern,
this operation was completely safe from a security point of view,
although it could raise an exception from an illegal pattern.  If
you turn on the <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">re</span> <span class="q">&#39;eval&#39;</span></code>
, though, it is no longer secure,
so you should only do so if you are also using taint checking.
Better yet, use the carefully constrained evaluation within a Safe
module.  See <a href="perlsec.html">perlsec</a> for details about both these mechanisms.</p>
</li>
<li><a class='view-title' id="(%3f%3f%7b-code-%7d)"></a><strong><code class="inline"><span class="s">(</span><span class="q">??</span><span class="s">{</span> <span class="w">code</span> <span class="s">}</span><span class="s">)</span></code>
</strong>
<p><strong>WARNING</strong>: This extended regular expression feature is considered
highly experimental, and may be changed or deleted without notice.
A simplified version of the syntax may be introduced for commonly
used idioms.</p>
<p>This is a "postponed" regular subexpression.  The <code class="inline"><span class="w">code</span></code>
 is evaluated
at run time, at the moment this subexpression may match.  The result
of evaluation is considered as a regular expression and matched as
if it were inserted instead of this construct.</p>
<p>The <code class="inline"><span class="w">code</span></code>
 is not interpolated.  As before, the rules to determine
where the <code class="inline"><span class="w">code</span></code>
 ends are currently somewhat convoluted.</p>
<p>The following pattern matches a parenthesized group:</p>
<pre class="verbatim"><ol><li>  <span class="i">$re</span> = <span class="q">qr{</span></li><li>	     <span class="q">	     \(</span></li><li>	     <span class="q">	     (?:</span></li><li>		<span class="q">		(?&gt; [^()]+ )	# Non-parens without backtracking</span></li><li>	      <span class="q">	      |</span></li><li>		<span class="q">		(??{ $re })	# Group with matching parens</span></li><li>	     <span class="q">	     )*</span></li><li>	     <span class="q">	     \)</span></li><li>	  <span class="q">	  }x</span><span class="sc">;</span></li></ol></pre></li>
<li><a class='view-title' id="(%3f%3epattern)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?&gt;pattern)</span></code>
</strong>
<p><strong>WARNING</strong>: This extended regular expression feature is considered
highly experimental, and may be changed or deleted without notice.</p>
<p>An "independent" subexpression, one which matches the substring
that a <i>standalone</i> <code class="inline"><span class="w">pattern</span></code>
 would match if anchored at the given
position, and it matches <i>nothing other than this substring</i>.  This
construct is useful for optimizations of what would otherwise be
"eternal" matches, because it will not backtrack (see <a href="#Backtracking">Backtracking</a>).
It may also be useful in places where the "grab all you can, and do not
give anything back" semantic is desirable.</p>
<p>For example: <code class="inline">^<span class="s">(</span><span class="q">?&gt;a*)ab</span></code>
 will never match, since <code class="inline"><span class="s">(</span><span class="q">?&gt;a*)</span></code>

(anchored at the beginning of string, as above) will match <i>all</i>
characters <code class="inline"><span class="w">a</span></code>
 at the beginning of string, leaving no <code class="inline"><span class="w">a</span></code>
 for
<code class="inline"><span class="w">ab</span></code>
 to match.  In contrast, <code class="inline"><span class="w">a</span>*<span class="w">ab</span></code>
 will match the same as <code class="inline"><span class="w">a</span>+<span class="w">b</span></code>
,
since the match of the subgroup <code class="inline"><span class="w">a</span>*</code>
 is influenced by the following
group <code class="inline"><span class="w">ab</span></code>
 (see <a href="#Backtracking">Backtracking</a>).  In particular, <code class="inline"><span class="w">a</span>*</code>
 inside
<code class="inline"><span class="w">a</span>*<span class="w">ab</span></code>
 will match fewer characters than a standalone <code class="inline"><span class="w">a</span>*</code>
, since
this makes the tail match.</p>
<p>An effect similar to <code class="inline"><span class="s">(</span><span class="q">?&gt;pattern)</span></code>
 may be achieved by writing
<code class="inline"><span class="s">(</span><span class="q">?=(pattern))\1</span></code>
.  This matches the same substring as a standalone
<code class="inline"><span class="w">a</span>+</code>
, and the following <code class="inline">\<span class="n">1</span></code>
 eats the matched string; it therefore
makes a zero-length assertion into an analogue of <code class="inline"><span class="s">(</span><span class="q">?&gt;...)</span></code>
.
(The difference between these two constructs is that the second one
uses a capturing group, thus shifting ordinals of backreferences
in the rest of a regular expression.)</p>
<p>Consider this pattern:</p>
<pre class="verbatim"><ol><li>    <span class="q">m{ \(</span></li><li>	  <span class="q">	  ( </span></li><li>	    <span class="q">	    [^()]+		# x+</span></li><li>          <span class="q">          | </span></li><li>            <span class="q">            \( [^()]* \)</span></li><li>          <span class="q">          )+</span></li><li>       <span class="q">       \) </span></li><li>     <span class="q">     }x</span></li></ol></pre><p>That will efficiently match a nonempty group with matching parentheses
two levels deep or less.  However, if there is no such group, it
will take virtually forever on a long string.  That's because there
are so many different ways to split a long string into several
substrings.  This is what <code class="inline"><span class="s">(</span>.+<span class="s">)</span>+</code>
 is doing, and <code class="inline"><span class="s">(</span>.+<span class="s">)</span>+</code>
 is similar
to a subpattern of the above pattern.  Consider how the pattern
above detects no-match on <code class="inline"><span class="s">(</span><span class="s">(</span><span class="s">(</span><span class="s">)</span><span class="w">aaaaaaaaaaaaaaaaaa</span></code>
 in several
seconds, but that each extra letter doubles this time.  This
exponential performance will make it appear that your program has
hung.  However, a tiny change to this pattern</p>
<pre class="verbatim"><ol><li>    <span class="q">m{ \( </span></li><li>	  <span class="q">	  ( </span></li><li>	    <span class="q">	    (?&gt; [^()]+ )	# change x+ above to (?&gt; x+ )</span></li><li>          <span class="q">          | </span></li><li>            <span class="q">            \( [^()]* \)</span></li><li>          <span class="q">          )+</span></li><li>       <span class="q">       \) </span></li><li>     <span class="q">     }x</span></li></ol></pre><p>which uses <code class="inline"><span class="s">(</span><span class="q">?&gt;...)</span></code>
 matches exactly when the one above does (verifying
this yourself would be a productive exercise), but finishes in a fourth
the time when used on a similar string with 1000000 <code class="inline"><span class="w">a</span></code>
s.  Be aware,
however, that this pattern currently triggers a warning message under
the <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">warnings</span></code>
 pragma or <strong>-w</strong> switch saying it
<code class="inline"><span class="q">&quot;matches the null string many times&quot;</span></code>
):</p>
<p>On simple groups, such as the pattern <code class="inline"><span class="s">(</span><span class="q">?&gt; [^()]+ )</span></code>
, a comparable
effect may be achieved by negative look-ahead, as in <code class="inline"><span class="s">[</span>^<span class="s">(</span><span class="s">)</span><span class="s">]</span>+ <span class="s">(</span><span class="q">?! [^()] )</span></code>
.
This was only 4 times slower on a string with 1000000 <code class="inline"><span class="w">a</span></code>
s.</p>
<p>The "grab all you can, and do not give anything back" semantic is desirable
in many situations where on the first sight a simple <code class="inline"><span class="s">(</span><span class="s">)</span>*</code>
 looks like
the correct solution.  Suppose we parse text with comments being delimited
by <code class="inline"><span class="c">#</span></code>
 followed by some optional (horizontal) whitespace.  Contrary to
its appearance, <code class="inline"><span class="c">#[ \t]*</span></code>
 <i>is not</i> the correct subexpression to match
the comment delimiter, because it may "give up" some whitespace if
the remainder of the pattern can be made to match that way.  The correct
answer is either one of these:</p>
<pre class="verbatim"><ol><li>    <span class="s">(</span><span class="q">?&gt;#[ \t]*)</span></li><li>    <span class="q">    #[ \t]*(?</span>!<span class="s">[</span> \<span class="w">t</span><span class="s">]</span><span class="s">)</span></li></ol></pre><p>For example, to grab non-empty comments into $1, one should use either
one of these:</p>
<pre class="verbatim"><ol><li>    <span class="q">/ (?&gt; \# [ \t]* ) (        .+ ) /x</span><span class="sc">;</span></li><li>    <span class="q">/     \# [ \t]*   ( [^ \t] .* ) /x</span><span class="sc">;</span></li></ol></pre><p>Which one you pick depends on which of these expressions better reflects
the above specification of comments.</p>
</li>
<li><a class='view-title' id="(%3f(condition)yes-pattern%7cno-pattern)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?(condition)yes-pattern|no-pattern)</span></code>
</strong>
</li>
<li><a class='view-title' id="(%3f(condition)yes-pattern)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?(condition)yes-pattern)</span></code>
</strong>
<p><strong>WARNING</strong>: This extended regular expression feature is considered
highly experimental, and may be changed or deleted without notice.</p>
<p>Conditional expression.  <code class="inline"><span class="s">(</span><span class="w">condition</span><span class="s">)</span></code>
 should be either an integer in
parentheses (which is valid if the corresponding pair of parentheses
matched), or look-ahead/look-behind/evaluate zero-width assertion.</p>
<p>For example:</p>
<pre class="verbatim"><ol><li>    <span class="q">m{ ( \( )? </span></li><li>       <span class="q">       [^()]+ </span></li><li>       <span class="q">       (?(1) \) ) </span></li><li>     <span class="q">     }x</span></li></ol></pre><p>matches a chunk of non-parentheses, possibly included in parentheses
themselves.</p>
</li>
</ul>
<a class='view-head2' id="Backtracking"></a><h3 class='h3' >Backtracking</h3>
<p>NOTE: This section presents an abstract approximation of regular
expression behavior.  For a more rigorous (and complicated) view of
the rules involved in selecting a match among possible alternatives,
see <a href="#Combining-pieces-together">Combining pieces together</a>.</p>
<p>A fundamental feature of regular expression matching involves the
notion called <i>backtracking</i>, which is currently used (when needed)
by all regular expression quantifiers, namely <code class="inline"><span class="i">*</span></code>
, <code class="inline"><span class="i">*?</span></code>
, <code class="inline">+</code>
,
<code class="inline">+<span class="q">?</span></code>
, <code class="inline"><span class="s">{</span><span class="w">n</span><span class="cm">,</span><span class="q">m}</span></code>
, and <code class="inline"><span class="s">{</span><span class="w">n</span><span class="cm">,</span><span class="q">m}?</span></code>
.  Backtracking is often optimized
internally, but the general principle outlined here is valid.</p>
<p>For a regular expression to match, the <i>entire</i> regular expression must
match, not just part of it.  So if the beginning of a pattern containing a
quantifier succeeds in a way that causes later parts in the pattern to
fail, the matching engine backs up and recalculates the beginning
part--that's why it's called backtracking.</p>
<p>Here is an example of backtracking:  Let's say you want to find the
word following "foo" in the string "Food is on the foo table.":</p>
<pre class="verbatim"><ol><li>    <span class="i">$_</span> = <span class="q">&quot;Food is on the foo table.&quot;</span><span class="sc">;</span></li><li>    if <span class="s">(</span> <span class="q">/\b(foo)\s+(\w+)/i</span> <span class="s">)</span> <span class="s">{</span></li><li>	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;$2 follows $1.\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>When the match runs, the first part of the regular expression (<code class="inline">\<span class="i">b</span><span class="s">(</span><span class="w">foo</span><span class="s">)</span></code>
)
finds a possible match right at the beginning of the string, and loads up
$1 with "Foo".  However, as soon as the matching engine sees that there's
no whitespace following the "Foo" that it had saved in $1, it realizes its
mistake and starts over again one character after where it had the
tentative match.  This time it goes all the way until the next occurrence
of "foo". The complete regular expression matches this time, and you get
the expected output of "table follows foo."</p>
<p>Sometimes minimal matching can help a lot.  Imagine you'd like to match
everything between "foo" and "bar".  Initially, you write something
like this:</p>
<pre class="verbatim"><ol><li>    <span class="i">$_</span> =  <span class="q">&quot;The food is under the bar in the barn.&quot;</span><span class="sc">;</span></li><li>    if <span class="s">(</span> <span class="q">/foo(.*)bar/</span> <span class="s">)</span> <span class="s">{</span></li><li>	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;got &lt;$1&gt;\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>Which perhaps unexpectedly yields:</p>
<pre class="verbatim"><ol><li>  <span class="w">got</span> <span class="q">&lt;d is under the bar in the &gt;</span></li></ol></pre><p>That's because <code class="inline">.<span class="i">*</span></code>
 was greedy, so you get everything between the
<i>first</i> "foo" and the <i>last</i> "bar".  Here it's more effective
to use minimal matching to make sure you get the text between a "foo"
and the first "bar" thereafter.</p>
<pre class="verbatim"><ol><li>    if <span class="s">(</span> <span class="q">/foo(.*?)bar/</span> <span class="s">)</span> <span class="s">{</span> <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;got &lt;$1&gt;\n&quot;</span> <span class="s">}</span></li><li>  <span class="w">got</span> <span class="q">&lt;d is under the &gt;</span></li></ol></pre><p>Here's another example: let's say you'd like to match a number at the end
of a string, and you also want to keep the preceding part the match.
So you write this:</p>
<pre class="verbatim"><ol><li>    <span class="i">$_</span> = <span class="q">&quot;I have 2 numbers: 53147&quot;</span><span class="sc">;</span></li><li>    if <span class="s">(</span> <span class="q">/(.*)(\d*)/</span> <span class="s">)</span> <span class="s">{</span>				<span class="c"># Wrong!</span></li><li>	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;Beginning is &lt;$1&gt;, number is &lt;$2&gt;.\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>That won't work at all, because <code class="inline">.<span class="i">*</span></code>
 was greedy and gobbled up the
whole string. As <code class="inline">\<span class="w">d</span>*</code>
 can match on an empty string the complete
regular expression matched successfully.</p>
<pre class="verbatim"><ol><li>    <span class="w">Beginning</span> <span class="w">is</span> <span class="q">&lt;I have 2 numbers: 53147&gt;</span><span class="cm">,</span> <span class="w">number</span> <span class="w">is</span> &lt;&gt;.</li></ol></pre><p>Here are some variants, most of which don't work:</p>
<pre class="verbatim"><ol><li>    <span class="i">$_</span> = <span class="q">&quot;I have 2 numbers: 53147&quot;</span><span class="sc">;</span></li><li>    <span class="i">@pats</span> = <span class="q">qw{</span></li><li>	<span class="q">(.*)(\d*)</span></li><li>	<span class="q">(.*)(\d+)</span></li><li>	<span class="q">(.*?)(\d*)</span></li><li>	<span class="q">(.*?)(\d+)</span></li><li>	<span class="q">(.*)(\d+)$</span></li><li>	<span class="q">(.*?)(\d+)$</span></li><li>	<span class="q">(.*)\b(\d+)$</span></li><li>	<span class="q">(.*\D)(\d+)$</span></li><li>    <span class="q">}</span><span class="sc">;</span></li><li></li><li>    for <span class="i">$pat</span> <span class="s">(</span><span class="i">@pats</span><span class="s">)</span> <span class="s">{</span></li><li>	<a class="l_k" href="functions/printf.html">printf</a> <span class="q">&quot;%-12s &quot;</span><span class="cm">,</span> <span class="i">$pat</span><span class="sc">;</span></li><li>	if <span class="s">(</span> <span class="q">/$pat/</span> <span class="s">)</span> <span class="s">{</span></li><li>	    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;&lt;$1&gt; &lt;$2&gt;\n&quot;</span><span class="sc">;</span></li><li>	<span class="s">}</span> else <span class="s">{</span></li><li>	    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;FAIL\n&quot;</span><span class="sc">;</span></li><li>	<span class="s">}</span></li><li>    <span class="s">}</span></li></ol></pre><p>That will print out:</p>
<pre class="verbatim"><ol><li>    <span class="s">(</span>.<span class="i">*)</span><span class="s">(</span>\<span class="w">d</span>*<span class="s">)</span>    &lt;<span class="w">I</span> <span class="w">have</span> <span class="n">2</span> <span class="w">numbers</span><span class="co">:</span> <span class="n">53147</span>&gt; &lt;&gt;</li><li>    <span class="s">(</span>.<span class="i">*)</span><span class="s">(</span>\<span class="w">d</span>+<span class="s">)</span>    &lt;<span class="w">I</span> <span class="w">have</span> <span class="n">2</span> <span class="w">numbers</span><span class="co">:</span> <span class="n">5314</span>&gt; <span class="q">&lt;7&gt;</span></li><li>    <span class="s">(</span>.<span class="i">*?</span><span class="s">)</span><span class="s">(</span>\<span class="w">d</span>*<span class="s">)</span>   &lt;&gt; &lt;&gt;</li><li>    <span class="s">(</span>.<span class="i">*?</span><span class="s">)</span><span class="s">(</span>\<span class="w">d</span>+<span class="s">)</span>   &lt;<span class="w">I</span> <span class="w">have</span> &gt; <span class="q">&lt;2&gt;</span></li><li>    <span class="s">(</span>.<span class="i">*)</span><span class="s">(</span>\<span class="w">d</span>+<span class="s">)</span><span class="i">$   &lt;</span><span class="w">I</span> <span class="w">have</span> <span class="n">2</span> <span class="w">numbers</span><span class="co">:</span> <span class="n">5314</span>&gt; <span class="q">&lt;7&gt;</span></li><li>    <span class="s">(</span>.<span class="i">*?</span><span class="s">)</span><span class="s">(</span>\<span class="w">d</span>+<span class="s">)</span><span class="i">$  &lt;</span><span class="w">I</span> <span class="w">have</span> <span class="n">2</span> <span class="w">numbers</span><span class="co">:</span> &gt; <span class="q">&lt;53147&gt;</span></li><li>    <span class="s">(</span>.<span class="i">*)</span>\<span class="i">b</span><span class="s">(</span>\<span class="w">d</span>+<span class="s">)</span><span class="i">$ &lt;</span><span class="w">I</span> <span class="w">have</span> <span class="n">2</span> <span class="w">numbers</span><span class="co">:</span> &gt; <span class="q">&lt;53147&gt;</span></li><li>    <span class="s">(</span>.<span class="i">*\</span><span class="w">D</span><span class="s">)</span><span class="s">(</span>\<span class="w">d</span>+<span class="s">)</span><span class="i">$ &lt;</span><span class="w">I</span> <span class="w">have</span> <span class="n">2</span> <span class="w">numbers</span><span class="co">:</span> &gt; <span class="q">&lt;53147&gt;</span></li></ol></pre><p>As you see, this can be a bit tricky.  It's important to realize that a
regular expression is merely a set of assertions that gives a definition
of success.  There may be 0, 1, or several different ways that the
definition might succeed against a particular string.  And if there are
multiple ways it might succeed, you need to understand backtracking to
know which variety of success you will achieve.</p>
<p>When using look-ahead assertions and negations, this can all get even
tricker.  Imagine you'd like to find a sequence of non-digits not
followed by "123".  You might try to write that as</p>
<pre class="verbatim"><ol><li>    <span class="i">$_</span> = <span class="q">&quot;ABC123&quot;</span><span class="sc">;</span></li><li>    if <span class="s">(</span> <span class="q">/^\D*(?!123)/</span> <span class="s">)</span> <span class="s">{</span>		<span class="c"># Wrong!</span></li><li>	<a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;Yup, no 123 in $_\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>But that isn't going to match; at least, not the way you're hoping.  It
claims that there is no 123 in the string.  Here's a clearer picture of
why it that pattern matches, contrary to popular expectations:</p>
<pre class="verbatim"><ol><li>    <span class="i">$x</span> = <span class="q">&#39;ABC123&#39;</span> <span class="sc">;</span></li><li>    <span class="i">$y</span> = <span class="q">&#39;ABC445&#39;</span> <span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;1: got $1\n&quot;</span> if <span class="i">$x</span> =~ <span class="q">/^(ABC)(?!123)/</span> <span class="sc">;</span></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;2: got $1\n&quot;</span> if <span class="i">$y</span> =~ <span class="q">/^(ABC)(?!123)/</span> <span class="sc">;</span></li><li></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;3: got $1\n&quot;</span> if <span class="i">$x</span> =~ <span class="q">/^(\D*)(?!123)/</span> <span class="sc">;</span></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;4: got $1\n&quot;</span> if <span class="i">$y</span> =~ <span class="q">/^(\D*)(?!123)/</span> <span class="sc">;</span></li></ol></pre><p>This prints</p>
<pre class="verbatim"><ol><li>    <span class="n">2</span><span class="co">:</span> <span class="w">got</span> <span class="w">ABC</span></li><li>    <span class="n">3</span><span class="co">:</span> <span class="w">got</span> <span class="w">AB</span></li><li>    <span class="n">4</span><span class="co">:</span> <span class="w">got</span> <span class="w">ABC</span></li></ol></pre><p>You might have expected test 3 to fail because it seems to a more
general purpose version of test 1.  The important difference between
them is that test 3 contains a quantifier (<code class="inline">\<span class="w">D</span>*</code>
) and so can use
backtracking, whereas test 1 will not.  What's happening is
that you've asked "Is it true that at the start of $x, following 0 or more
non-digits, you have something that's not 123?"  If the pattern matcher had
let <code class="inline">\<span class="w">D</span>*</code>
 expand to "ABC", this would have caused the whole pattern to
fail.</p>
<p>The search engine will initially match <code class="inline">\<span class="w">D</span>*</code>
 with "ABC".  Then it will
try to match <code class="inline"><span class="s">(</span><span class="q">?!123</span></code>
 with "123", which fails.  But because
a quantifier (<code class="inline">\<span class="w">D</span>*</code>
) has been used in the regular expression, the
search engine can backtrack and retry the match differently
in the hope of matching the complete regular expression.</p>
<p>The pattern really, <i>really</i> wants to succeed, so it uses the
standard pattern back-off-and-retry and lets <code class="inline">\<span class="w">D</span>*</code>
 expand to just "AB" this
time.  Now there's indeed something following "AB" that is not
"123".  It's "C123", which suffices.</p>
<p>We can deal with this by using both an assertion and a negation.
We'll say that the first part in $1 must be followed both by a digit
and by something that's not "123".  Remember that the look-aheads
are zero-width expressions--they only look, but don't consume any
of the string in their match.  So rewriting this way produces what
you'd expect; that is, case 5 will fail, but case 6 succeeds:</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;5: got $1\n&quot;</span> if <span class="i">$x</span> =~ <span class="q">/^(\D*)(?=\d)(?!123)/</span> <span class="sc">;</span></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;6: got $1\n&quot;</span> if <span class="i">$y</span> =~ <span class="q">/^(\D*)(?=\d)(?!123)/</span> <span class="sc">;</span></li><li></li><li>    <span class="n">6</span><span class="co">:</span> <span class="w">got</span> <span class="w">ABC</span></li></ol></pre><p>In other words, the two zero-width assertions next to each other work as though
they're ANDed together, just as you'd use any built-in assertions:  <code class="inline"><span class="q">/^$/</span></code>

matches only if you're at the beginning of the line AND the end of the
line simultaneously.  The deeper underlying truth is that juxtaposition in
regular expressions always means AND, except when you write an explicit OR
using the vertical bar.  <code class="inline"><span class="q">/ab/</span></code>
 means match "a" AND (then) match "b",
although the attempted matches are made at different positions because "a"
is not a zero-width assertion, but a one-width assertion.</p>
<p><strong>WARNING</strong>: particularly complicated regular expressions can take
exponential time to solve because of the immense number of possible
ways they can use backtracking to try match.  For example, without
internal optimizations done by the regular expression engine, this will
take a painfully long time to run:</p>
<pre class="verbatim"><ol><li>    <span class="q">&#39;aaaaaaaaaaaa&#39;</span> =~ <span class="q">/((a{0,5}){0,5})*[c]/</span></li></ol></pre><p>And if you used <code class="inline"><span class="i">*</span></code>
's in the internal groups instead of limiting them
to 0 through 5 matches, then it would take forever--or until you ran
out of stack space.  Moreover, these internal optimizations are not
always applicable.  For example, if you put <code class="inline"><span class="s">{</span><span class="n">0</span><span class="cm">,</span><span class="n">5</span><span class="s">}</span></code>
 instead of <code class="inline"><span class="i">*</span></code>

on the external group, no current optimization is applicable, and the
match takes a long time to finish.</p>
<p>A powerful tool for optimizing such beasts is what is known as an
"independent group",
which does not backtrack (see <i>(?&gt;pattern)</i>).  Note also that
zero-length look-ahead/look-behind assertions will not backtrack to make
the tail match, since they are in "logical" context: only 
whether they match is considered relevant.  For an example
where side-effects of look-ahead <i>might</i> have influenced the
following match, see <i>(?&gt;pattern)</i>.</p>
<a class='view-head2' id="Version-8-Regular-Expressions"></a><h3 class='h3' >Version 8 Regular Expressions</h3>
<p>In case you're not familiar with the "regular" Version 8 regex
routines, here are the pattern-matching rules not described above.</p>
<p>Any single character matches itself, unless it is a <i>metacharacter</i>
with a special meaning described here or above.  You can cause
characters that normally function as metacharacters to be interpreted
literally by prefixing them with a "\" (e.g., "\." matches a ".", not any
character; "\\" matches a "\").  A series of characters matches that
series of characters in the target string, so the pattern <code class="inline"><span class="w">blurfl</span></code>

would match "blurfl" in the target string.</p>
<p>You can specify a character class, by enclosing a list of characters
in <code class="inline"><span class="s">[</span><span class="s">]</span></code>
, which will match any one character from the list.  If the
first character after the "[" is "^", the class matches any character not
in the list.  Within a list, the "-" character specifies a
range, so that <code class="inline"><span class="w">a</span>-z</code>
 represents all characters between "a" and "z",
inclusive.  If you want either "-" or "]" itself to be a member of a
class, put it at the start of the list (possibly after a "^"), or
escape it with a backslash.  "-" is also taken literally when it is
at the end of the list, just before the closing "]".  (The
following all specify the same class of three characters: <code class="inline"><span class="s">[</span>-<span class="w">az</span><span class="s">]</span></code>
,
<code class="inline"><span class="s">[</span><span class="w">az</span>-<span class="s">]</span></code>
, and <code class="inline"><span class="s">[</span><span class="w">a</span>\-z<span class="s">]</span></code>
.  All are different from <code class="inline"><span class="s">[</span><span class="w">a</span>-z<span class="s">]</span></code>
, which
specifies a class containing twenty-six characters, even on EBCDIC
based coded character sets.)  Also, if you try to use the character 
classes <code class="inline">\<span class="w">w</span></code>
, <code class="inline">\<span class="w">W</span></code>
, <code class="inline">\<span class="q">s</span></code>
, <code class="inline">\<span class="w">S</span></code>
, <code class="inline">\<span class="w">d</span></code>
, or <code class="inline">\<span class="w">D</span></code>
 as endpoints of 
a range, that's not a range, the "-" is understood literally.</p>
<p>Note also that the whole range idea is rather unportable between
character sets--and even within character sets they may cause results
you probably didn't expect.  A sound principle is to use only ranges
that begin from and end at either alphabets of equal case ([a-e],
[A-E]), or digits ([0-9]).  Anything else is unsafe.  If in doubt,
spell out the character sets in full.</p>
<p>Characters may be specified using a metacharacter syntax much like that
used in C: "\n" matches a newline, "\t" a tab, "\r" a carriage return,
"\f" a form feed, etc.  More generally, \<i>nnn</i>, where <i>nnn</i> is a string
of octal digits, matches the character whose coded character set value 
is <i>nnn</i>.  Similarly, \x<i>nn</i>, where <i>nn</i> are hexadecimal digits, 
matches the character whose numeric value is <i>nn</i>. The expression \c<i>x</i> 
matches the character control-<i>x</i>.  Finally, the "." metacharacter 
matches any character except "\n" (unless you use <code class="inline"><span class="q">/s</span></code>
).</p>
<p>You can specify a series of alternatives for a pattern using "|" to
separate them, so that <code class="inline"><span class="w">fee</span>|<span class="w">fie</span>|<span class="w">foe</span></code>
 will match any of "fee", "fie",
or "foe" in the target string (as would <code class="inline"><span class="i">f</span><span class="s">(</span><span class="w">e</span>|<span class="w">i</span>|<span class="w">o</span><span class="s">)</span><span class="w">e</span></code>
).  The
first alternative includes everything from the last pattern delimiter
("(", "[", or the beginning of the pattern) up to the first "|", and
the last alternative contains everything from the last "|" to the next
pattern delimiter.  That's why it's common practice to include
alternatives in parentheses: to minimize confusion about where they
start and end.</p>
<p>Alternatives are tried from left to right, so the first
alternative found for which the entire expression matches, is the one that
is chosen. This means that alternatives are not necessarily greedy. For
example: when matching <code class="inline"><span class="w">foo</span>|<span class="w">foot</span></code>
 against "barefoot", only the "foo"
part will match, as that is the first alternative tried, and it successfully
matches the target string. (This might not seem important, but it is
important when you are capturing matched text using parentheses.)</p>
<p>Also remember that "|" is interpreted as a literal within square brackets,
so if you write <code class="inline"><span class="s">[</span><span class="w">fee</span>|<span class="w">fie</span>|<span class="w">foe</span><span class="s">]</span></code>
 you're really only matching <code class="inline"><span class="s">[</span><span class="w">feio</span>|<span class="s">]</span></code>
.</p>
<p>Within a pattern, you may designate subpatterns for later reference
by enclosing them in parentheses, and you may refer back to the
<i>n</i>th subpattern later in the pattern using the metacharacter
\<i>n</i>.  Subpatterns are numbered based on the left to right order
of their opening parenthesis.  A backreference matches whatever
actually matched the subpattern in the string being examined, not
the rules for that subpattern.  Therefore, <code class="inline"><span class="s">(</span><span class="n">0</span>|<span class="n">0</span>x<span class="s">)</span>\<span class="w">d</span>*\<span class="q">s\1\d*</span></code>
 will
match "0x1234 0x4321", but not "0x1234 01234", because subpattern
1 matched "0x", even though the rule <code class="inline"><span class="n">0</span>|<span class="n">0</span>x</code>
 could potentially match
the leading 0 in the second number.</p>
<a class='view-head2' id="Warning-on-%5c1-vs-%241"></a><h3 class='h3' >Warning on \1 vs $1</h3>
<p>Some people get too used to writing things like:</p>
<pre class="verbatim"><ol><li>    <span class="i">$pattern</span> =~ <span class="q">s/(\W)/\\\1/g</span><span class="sc">;</span></li></ol></pre><p>This is grandfathered for the RHS of a substitute to avoid shocking the
<strong>sed</strong> addicts, but it's a dirty habit to get into.  That's because in
PerlThink, the righthand side of a <code class="inline"><a class="l_k" href="functions/s.html">s///</a></code> is a double-quoted string.  <code class="inline">\<span class="n">1</span></code>
 in
the usual double-quoted string means a control-A.  The customary Unix
meaning of <code class="inline">\<span class="n">1</span></code>
 is kludged in for <code class="inline"><a class="l_k" href="functions/s.html">s///</a></code>.  However, if you get into the habit
of doing that, you get yourself into trouble if you then add an <code class="inline"><span class="q">/e</span></code>

modifier.</p>
<pre class="verbatim"><ol><li>    <span class="q">s/(\d+)/ \1 + 1 /eg</span><span class="sc">;</span>    	<span class="c"># causes warning under -w</span></li></ol></pre><p>Or if you try to do</p>
<pre class="verbatim"><ol><li>    <span class="q">s/(\d+)/\1000/</span><span class="sc">;</span></li></ol></pre><p>You can't disambiguate that by saying <code class="inline">\<span class="s">{</span><span class="n">1</span><span class="s">}</span><span class="n">000</span></code>
, whereas you can fix it with
<code class="inline"><span class="i">$</span>{<span class="n">1</span>}<span class="n">000</span></code>
.  The operation of interpolation should not be confused
with the operation of matching a backreference.  Certainly they mean two
different things on the <i>left</i> side of the <code class="inline"><a class="l_k" href="functions/s.html">s///</a></code>.</p>
<a class='view-head2' id="Repeated-patterns-matching-zero-length-substring"></a><h3 class='h3' >Repeated patterns matching zero-length substring</h3>
<p><strong>WARNING</strong>: Difficult material (and prose) ahead.  This section needs a rewrite.</p>
<p>Regular expressions provide a terse and powerful programming language.  As
with most other power tools, power comes together with the ability
to wreak havoc.</p>
<p>A common abuse of this power stems from the ability to make infinite
loops using regular expressions, with something as innocuous as:</p>
<pre class="verbatim"><ol><li>    <span class="q">&#39;foo&#39;</span> =~ <span class="q">m{ ( o? )* }x</span><span class="sc">;</span></li></ol></pre><p>The <code class="inline"><span class="w">o</span>?</code>
 can match at the beginning of <code class="inline"><span class="q">&#39;foo&#39;</span></code>
, and since the position
in the string is not moved by the match, <code class="inline"><span class="w">o</span>?</code>
 would match again and again
because of the <code class="inline"><span class="i">*</span></code>
 modifier.  Another common way to create a similar cycle
is with the looping modifier <code class="inline"><span class="q">//g</span></code>
:</p>
<pre class="verbatim"><ol><li>    <span class="i">@matches</span> = <span class="s">(</span> <span class="q">&#39;foo&#39;</span> =~ <span class="q">m{ o? }xg</span> <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>or</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/print.html">print</a> <span class="q">&quot;match: &lt;$&amp;&gt;\n&quot;</span> while <span class="q">&#39;foo&#39;</span> =~ <span class="q">m{ o? }xg</span><span class="sc">;</span></li></ol></pre><p>or the loop implied by split().</p>
<p>However, long experience has shown that many programming tasks may
be significantly simplified by using repeated subexpressions that
may match zero-length substrings.  Here's a simple example being:</p>
<pre class="verbatim"><ol><li>    <span class="i">@chars</span> = <a class="l_k" href="functions/split.html">split</a> <span class="q">//</span><span class="cm">,</span> <span class="i">$string</span><span class="sc">;</span>		  <span class="c"># // is not magic in split</span></li><li>    <span class="s">(</span><span class="i">$whitewashed</span> = <span class="i">$string</span><span class="s">)</span> =~ <span class="q">s/()/ /g</span><span class="sc">;</span> <span class="c"># parens avoid magic s// /</span></li></ol></pre><p>Thus Perl allows such constructs, by <i>forcefully breaking
the infinite loop</i>.  The rules for this are different for lower-level
loops given by the greedy modifiers <code class="inline"><span class="i">*+</span>{}</code>
, and for higher-level
ones like the <code class="inline"><span class="q">/g</span></code>
 modifier or split() operator.</p>
<p>The lower-level loops are <i>interrupted</i> (that is, the loop is
broken) when Perl detects that a repeated expression matched a
zero-length substring.   Thus</p>
<pre class="verbatim"><ol><li>   <span class="q">m{ (?: NON_ZERO_LENGTH | ZERO_LENGTH )* }x</span><span class="sc">;</span></li></ol></pre><p>is made equivalent to</p>
<pre class="verbatim"><ol><li>   <span class="q">m{   (?: NON_ZERO_LENGTH )* </span></li><li>      <span class="q">      | </span></li><li>        <span class="q">        (?: ZERO_LENGTH )? </span></li><li>    <span class="q">    }x</span><span class="sc">;</span></li></ol></pre><p>The higher level-loops preserve an additional state between iterations:
whether the last match was zero-length.  To break the loop, the following 
match after a zero-length match is prohibited to have a length of zero.
This prohibition interacts with backtracking (see <a href="#Backtracking">Backtracking</a>), 
and so the <i>second best</i> match is chosen if the <i>best</i> match is of
zero length.</p>
<p>For example:</p>
<pre class="verbatim"><ol><li>    <span class="i">$_</span> = <span class="q">&#39;bar&#39;</span><span class="sc">;</span></li><li>    <span class="q">s/\w??/&lt;$&amp;&gt;/g</span><span class="sc">;</span></li></ol></pre><p>results in <code class="inline">&lt;&gt;&lt;<span class="w">b</span>&gt;&lt;&gt;&lt;<span class="w">a</span>&gt;&lt;&gt;&lt;<span class="w">r</span>&gt;&lt;&gt;</code>
.  At each position of the string the best
match given by non-greedy <code class="inline"><span class="q">??</span></code>
 is the zero-length match, and the <i>second 
best</i> match is what is matched by <code class="inline">\<span class="w">w</span></code>
.  Thus zero-length matches
alternate with one-character-long matches.</p>
<p>Similarly, for repeated <code class="inline"><a class="l_k" href="functions/m.html">m/()/g</a></code> the second-best match is the match at the 
position one notch further in the string.</p>
<p>The additional state of being <i>matched with zero-length</i> is associated with
the matched string, and is reset by each assignment to pos().
Zero-length matches at the end of the previous match are ignored
during <code class="inline"><a class="l_k" href="functions/split.html">split</a></code>.</p>
<a class='view-head2' id="Combining-pieces-together"></a><h3 class='h3' >Combining pieces together</h3>
<p>Each of the elementary pieces of regular expressions which were described
before (such as <code class="inline"><span class="w">ab</span></code>
 or <code class="inline">\<span class="w">Z</span></code>
) could match at most one substring
at the given position of the input string.  However, in a typical regular
expression these elementary pieces are combined into more complicated
patterns using combining operators <code class="inline"><span class="w">ST</span></code>
, <code class="inline"><span class="w">S</span>|<span class="w">T</span></code>
, <code class="inline"><span class="w">S</span>*</code>
 etc
(in these examples <code class="inline"><span class="w">S</span></code>
 and <code class="inline"><span class="w">T</span></code>
 are regular subexpressions).</p>
<p>Such combinations can include alternatives, leading to a problem of choice:
if we match a regular expression <code class="inline"><span class="w">a</span>|<span class="w">ab</span></code>
 against <code class="inline"><span class="q">&quot;abc&quot;</span></code>
, will it match
substring <code class="inline"><span class="q">&quot;a&quot;</span></code>
 or <code class="inline"><span class="q">&quot;ab&quot;</span></code>
?  One way to describe which substring is
actually matched is the concept of backtracking (see <a href="#Backtracking">Backtracking</a>).
However, this description is too low-level and makes you think
in terms of a particular implementation.</p>
<p>Another description starts with notions of "better"/"worse".  All the
substrings which may be matched by the given regular expression can be
sorted from the "best" match to the "worst" match, and it is the "best"
match which is chosen.  This substitutes the question of "what is chosen?"
by the question of "which matches are better, and which are worse?".</p>
<p>Again, for elementary pieces there is no such question, since at most
one match at a given position is possible.  This section describes the
notion of better/worse for combining operators.  In the description
below <code class="inline"><span class="w">S</span></code>
 and <code class="inline"><span class="w">T</span></code>
 are regular subexpressions.</p>
<ul>
<li><a class='view-title' id="ST"></a><strong><code class="inline"><span class="w">ST</span></code>
</strong>
<p>Consider two possible matches, <code class="inline"><span class="w">AB</span></code>
 and <code class="inline"><span class="w">A&#39;B</span><span class="q">&#39;</span></code>
, <code class="inline"><span class="w">A</span></code>
 and <code class="inline"><span class="w">A</span><span class="q">&#39;</span></code>
 are
substrings which can be matched by <code class="inline"><span class="w">S</span></code>
, <code class="inline"><span class="w">B</span></code>
 and <code class="inline"><span class="w">B</span><span class="q">&#39;</span></code>
 are substrings
which can be matched by <code class="inline"><span class="w">T</span></code>
.</p>
<p>If <code class="inline"><span class="w">A</span></code>
 is better match for <code class="inline"><span class="w">S</span></code>
 than <code class="inline"><span class="w">A</span><span class="q">&#39;</span></code>
, <code class="inline"><span class="w">AB</span></code>
 is a better
match than <code class="inline"><span class="w">A&#39;B</span><span class="q">&#39;</span></code>
.</p>
<p>If <code class="inline"><span class="w">A</span></code>
 and <code class="inline"><span class="w">A</span><span class="q">&#39;</span></code>
 coincide: <code class="inline"><span class="w">AB</span></code>
 is a better match than <code class="inline"><span class="w">AB</span><span class="q">&#39;</span></code>
 if
<code class="inline"><span class="w">B</span></code>
 is better match for <code class="inline"><span class="w">T</span></code>
 than <code class="inline"><span class="w">B</span><span class="q">&#39;</span></code>
.</p>
</li>
<li><a class='view-title' id="S%7cT"></a><strong><code class="inline"><span class="w">S</span>|<span class="w">T</span></code>
</strong>
<p>When <code class="inline"><span class="w">S</span></code>
 can match, it is a better match than when only <code class="inline"><span class="w">T</span></code>
 can match.</p>
<p>Ordering of two matches for <code class="inline"><span class="w">S</span></code>
 is the same as for <code class="inline"><span class="w">S</span></code>
.  Similar for
two matches for <code class="inline"><span class="w">T</span></code>
.</p>
</li>
<li><a class='view-title' id="S%7bREPEAT_COUNT%7d"></a><strong><code class="inline"><span class="i">S</span><span class="s">{</span><span class="w">REPEAT_COUNT</span><span class="s">}</span></code>
</strong>
<p>Matches as <code class="inline"><span class="w">SSS</span>...<span class="w">S</span></code>
 (repeated as many times as necessary).</p>
</li>
<li><a class='view-title' id="S%7bmin%2cmax%7d"></a><strong><code class="inline"><span class="w">S</span><span class="s">{</span><span class="w">min</span><span class="cm">,</span><span class="w">max</span><span class="s">}</span></code>
</strong>
<p>Matches as <code class="inline"><span class="i">S</span><span class="s">{</span><span class="w">max</span><span class="s">}</span>|<span class="i">S</span><span class="s">{</span><span class="w">max</span>-<span class="n">1</span><span class="s">}</span>|...|<span class="i">S</span><span class="s">{</span><span class="w">min</span>+<span class="n">1</span><span class="s">}</span>|<span class="i">S</span><span class="s">{</span><span class="w">min</span><span class="s">}</span></code>
.</p>
</li>
<li><a class='view-title' id="S%7bmin%2cmax%7d%3f"></a><strong><code class="inline"><span class="w">S</span><span class="s">{</span><span class="w">min</span><span class="cm">,</span><span class="w">max</span><span class="s">}</span><span class="q">?</span></code>
</strong>
<p>Matches as <code class="inline"><span class="i">S</span><span class="s">{</span><span class="w">min</span><span class="s">}</span>|<span class="i">S</span><span class="s">{</span><span class="w">min</span>+<span class="n">1</span><span class="s">}</span>|...|<span class="i">S</span><span class="s">{</span><span class="w">max</span>-<span class="n">1</span><span class="s">}</span>|<span class="i">S</span><span class="s">{</span><span class="w">max</span><span class="s">}</span></code>
.</p>
</li>
<li><a class='view-title' id="S%3f%2c-S*%2c-S%2b"></a><strong><code class="inline"><span class="w">S</span>?</code>
, <code class="inline"><span class="w">S</span>*</code>
, <code class="inline"><span class="w">S</span>+</code>
</strong>
<p>Same as <code class="inline"><span class="w">S</span><span class="s">{</span><span class="n">0</span><span class="cm">,</span><span class="n">1</span><span class="s">}</span></code>
, <code class="inline"><span class="w">S</span><span class="s">{</span><span class="n">0</span><span class="cm">,</span><span class="w">BIG_NUMBER</span><span class="s">}</span></code>
, <code class="inline"><span class="w">S</span><span class="s">{</span><span class="n">1</span><span class="cm">,</span><span class="w">BIG_NUMBER</span><span class="s">}</span></code>
 respectively.</p>
</li>
<li><a class='view-title' id="S%3f%3f%2c-S*%3f%2c-S%2b%3f"></a><strong><code class="inline"><span class="w">S</span><span class="q">??</span></code>
, <code class="inline"><span class="w">S</span>*<span class="q">?</span></code>
, <code class="inline"><span class="w">S</span>+<span class="q">?</span></code>
</strong>
<p>Same as <code class="inline"><span class="w">S</span><span class="s">{</span><span class="n">0</span><span class="cm">,</span><span class="n">1</span><span class="s">}</span><span class="q">?</span></code>
, <code class="inline"><span class="w">S</span><span class="s">{</span><span class="n">0</span><span class="cm">,</span><span class="w">BIG_NUMBER</span><span class="s">}</span><span class="q">?</span></code>
, <code class="inline"><span class="w">S</span><span class="s">{</span><span class="n">1</span><span class="cm">,</span><span class="w">BIG_NUMBER</span><span class="s">}</span><span class="q">?</span></code>
 respectively.</p>
</li>
<li><a class='view-title' id="(%3f%3eS)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?&gt;S)</span></code>
</strong>
<p>Matches the best match for <code class="inline"><span class="w">S</span></code>
 and only that.</p>
</li>
<li><a class='view-title' id="(%3f%3dS)%2c-(%3f%3c%3dS)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?=S)</span></code>
, <code class="inline"><span class="s">(</span><span class="q">?&lt;=S)</span></code>
</strong>
<p>Only the best match for <code class="inline"><span class="w">S</span></code>
 is considered.  (This is important only if
<code class="inline"><span class="w">S</span></code>
 has capturing parentheses, and backreferences are used somewhere
else in the whole regular expression.)</p>
</li>
<li><a class='view-title' id="(%3f!S)%2c-(%3f%3c!S)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?!S)</span></code>
, <code class="inline"><span class="s">(</span><span class="q">?&lt;!S)</span></code>
</strong>
<p>For this grouping operator there is no need to describe the ordering, since
only whether or not <code class="inline"><span class="w">S</span></code>
 can match is important.</p>
</li>
<li><a class='view-title' id="(%3f%3f%7b-EXPR-%7d)"></a><strong><code class="inline"><span class="s">(</span><span class="q">??</span><span class="s">{</span> <span class="w">EXPR</span> <span class="s">}</span><span class="s">)</span></code>
</strong>
<p>The ordering is the same as for the regular expression which is
the result of EXPR.</p>
</li>
<li><a class='view-title' id="(%3f(condition)yes-pattern%7cno-pattern)"></a><strong><code class="inline"><span class="s">(</span><span class="q">?(condition)yes-pattern|no-pattern)</span></code>
</strong>
<p>Recall that which of <code class="inline"><span class="w">yes</span>-<span class="w">pattern</span></code>
 or <code class="inline"><a class="l_k" href="functions/no.html">no-pattern</a></code> actually matches is
already determined.  The ordering of the matches is the same as for the
chosen subexpression.</p>
</li>
</ul>
<p>The above recipes describe the ordering of matches <i>at a given position</i>.
One more rule is needed to understand how a match is determined for the
whole regular expression: a match at an earlier position is always better
than a match at a later position.</p>
<a class='view-head2' id="Creating-custom-RE-engines"></a><h3 class='h3' >Creating custom RE engines</h3>
<p>Overloaded constants (see <a href="https://search.cpan.org/perldoc/overload">overload</a>) provide a simple way to extend
the functionality of the RE engine.</p>
<p>Suppose that we want to enable a new RE escape-sequence <code class="inline">\<span class="w">Y</span>|</code>
 which
matches at boundary between white-space characters and non-whitespace
characters.  Note that <code class="inline"><span class="s">(</span><span class="q">?=\S)(?</span>&lt;!\<span class="w">S</span><span class="s">)</span>|<span class="s">(</span><span class="q">?!\S)(?</span>&lt;=\<span class="w">S</span><span class="s">)</span></code>
 matches exactly
at these positions, so we want to have each <code class="inline">\<span class="w">Y</span>|</code>
 in the place of the
more complicated version.  We can create a module <code class="inline"><span class="w">customre</span></code>
 to do
this:</p>
<pre class="verbatim"><ol><li><a name="package-customre"></a>    package <span class="i">customre</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">overload</span><span class="sc">;</span></li><li></li><li><a name="import"></a>    sub <span class="m">import</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;No argument to customre::import allowed&quot;</span> if <span class="i">@_</span><span class="sc">;</span></li><li>      <span class="w">overload::constant</span> <span class="q">&#39;qr&#39;</span> <span class="cm">=&gt;</span> \<span class="i">&amp;convert</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li></li><li><a name="invalid"></a>    sub <span class="m">invalid</span> <span class="s">{</span> <a class="l_k" href="functions/die.html">die</a> <span class="q">&quot;/$_[0]/: invalid escape &#39;\\$_[1]&#39;&quot;</span><span class="s">}</span></li><li></li><li>    <a class="l_k" href="functions/my.html">my</a> <span class="i">%rules</span> = <span class="s">(</span> <span class="q">&#39;\\&#39;</span> <span class="cm">=&gt;</span> <span class="q">&#39;\\&#39;</span><span class="cm">,</span> </li><li>		  <span class="q">&#39;Y|&#39;</span> <span class="cm">=&gt;</span> <span class="q">qr/(?=\S)(?&lt;!\S)|(?!\S)(?&lt;=\S)/</span> <span class="s">)</span><span class="sc">;</span></li><li><a name="convert"></a>    sub <span class="m">convert</span> <span class="s">{</span></li><li>      <a class="l_k" href="functions/my.html">my</a> <span class="i">$re</span> = <a class="l_k" href="functions/shift.html">shift</a><span class="sc">;</span></li><li>      <span class="i">$re</span> =~ <span class="q">s{ </span></li><li>                <span class="q">                \\ ( \\ | Y . )</span></li><li>              <span class="q">              }</span></li><li>              <span class="q">              { $rules{$1} or invalid($re,$1) }sgex</span><span class="sc">;</span> </li><li>      <a class="l_k" href="functions/return.html">return</a> <span class="i">$re</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre><p>Now <code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">customre</span></code>
 enables the new escape in constant regular
expressions, i.e., those without any runtime variable interpolations.
As documented in <a href="https://search.cpan.org/perldoc/overload">overload</a>, this conversion will work only over
literal parts of regular expressions.  For <code class="inline">\<span class="w">Y</span>|<span class="i">$re</span>\<span class="w">Y</span>|</code>
 the variable
part of this regular expression needs to be converted explicitly
(but only if the special meaning of <code class="inline">\<span class="w">Y</span>|</code>
 should be enabled inside $re):</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">customre</span><span class="sc">;</span></li><li>    <span class="i">$re</span> = &lt;&gt;<span class="sc">;</span></li><li>    <a class="l_k" href="functions/chomp.html">chomp</a> <span class="i">$re</span><span class="sc">;</span></li><li>    <span class="i">$re</span> = <span class="w">customre::convert</span> <span class="i">$re</span><span class="sc">;</span></li><li>    <span class="q">/\Y|$re\Y|/</span><span class="sc">;</span></li></ol></pre><a class='view-head1' id="BUGS"></a><h2 class='h2' >BUGS</h2>
<p>This document varies from difficult to understand to completely
and utterly opaque.  The wandering prose riddled with jargon is
hard to fathom in several places.</p>
<p>This document needs a rewrite that separates the tutorial content
from the reference content.</p>
<a class='view-head1' id="SEE-ALSO"></a><h2 class='h2' >SEE ALSO</h2>
<p><a href="perlop.html#Regexp-Quote-Like-Operators">Regexp Quote-Like Operators in perlop</a>.</p>
<p><a href="perlop.html#Gory-details-of-parsing-quoted-constructs">Gory details of parsing quoted constructs in perlop</a>.</p>
<p><a href="perlfaq6.html">perlfaq6</a>.</p>
<p><a class='function-name' href="functions/pos.html">pos</a>.</p>
<p><a href="perllocale.html">perllocale</a>.</p>
<p><a href="perlebcdic.html">perlebcdic</a>.</p>
<p><i>Mastering Regular Expressions</i> by Jeffrey Friedl, published
by O'Reilly and Associates.</p>




      <ul><li><a href="#NAME">NAME</a></li><li><a href="#DESCRIPTION">DESCRIPTION</a></li><ul><li><a href="#Regular-Expressions">Regular Expressions</a></li><li><a href="#Extended-Patterns">Extended Patterns</a></li><li><a href="#Backtracking">Backtracking</a></li><li><a href="#Version-8-Regular-Expressions">Version 8 Regular Expressions</a></li><li><a href="#Warning-on-%5c1-vs-%241">Warning on \1 vs $1</a></li><li><a href="#Repeated-patterns-matching-zero-length-substring">Repeated patterns matching zero-length substring</a></li><li><a href="#Combining-pieces-together">Combining pieces together</a></li><li><a href="#Creating-custom-RE-engines">Creating custom RE engines</a></li></ul><li><a href="#BUGS">BUGS</a></li><li><a href="#SEE-ALSO">SEE ALSO</a></li></ul>


                  </div>
                </article>
              </div>
            </div>
          </main>
        </div>
           <footer class="footer row bg-light pt-5 pb-5">
       <div class="col-sm-10 offset-sm-1 col-xl-8 offset-xl-2">
           <div class="row">
               <div class="col-md-4">
                   <ul class="list-unstyled">
                       <li>
                           <h4>Site info</h4>
                       </li>
                       <li>Docs mantained by
                           <a href="//lists.perl.org/list/perl5-porters.html"
                               rel="noopener">Perl 5 Porters</a>
                       </li>
                       <li>Perldoc site development sponsored by
                           <a href="//opusvl.com" rel="noopener">
                           <img style="margin: 20px 20px 5px 10px" class="opus-logo" src="/public/img/opusvl_logo.svg" alt="OpusVL Logo">
                        </a>
                    <li><span class="about_perldoc"><a href="//about.html">About PerlDOC</a></span>
                    </li>
                       </li>
                   </ul>
               </div>
               <div class="col-md-8">
                   <div class="row">
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Manuals</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/index-overview.html">Overview</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/index-tutorials.html">Tutorials</a>
                               </li>
                               <li>
                                   <a href="/5.6.2/index-faq.html">FAQs</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/index-history.html">Changes</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Reference</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/index-language.html">Language</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/index-functions.html">Functions</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/perlop.html">Operators</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/perlvar.html">Variables</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Modules</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/index-modules-A.html">Modules</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/index-pragmas.html">Pragmas</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/index-utilities.html">Utilities</a>
                               </li>
                           </ul>
                       </div>
                       <div class="col-md-6 col-lg-3">
                           <ul class=" list-unstyled">
                               <li>
                                   <h4>Misc</h4>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/index-licence.html">License</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/index-internals.html">Internals</a>
                               </li>
                               <li>
                                   <a
                                       href="/5.6.2/index-platforms.html">Platforms</a>
                               </li>
                            <li>
                                <a
                                    href="/5.6.2/index-about.html">About</a>
                            </li>
                           </ul>
                       </div>
                   </div>
               </div>
               <div class=" col-12 footer-inf text-center">
                   <small>perldoc.perl.org - Official documentation for the Perl
                       programming language</small>
               </div>
           </div>
       </div>
   </footer>

        	<div class="beta-wrapper beta-bottom-right ">
		<div class="beta beta-blue  ">
			<a class="beta-link "
				href="//github.com/OpusVL/perldoc.perl.org/issues/new" rel="noopener">
				<span class="beta-text">
					This website is a Beta release.
				</span>
				<span class="beta-text">
					For any issues please raise a ticket on GitHub
				</span>
			</a>
		</div>
	</div>

        <script src="/public/js/main.min.js"></script>
      </body>

      </html>
